
[1m[46m RUN [49m[22m [36mv4.0.12 [39m[90mC:/laragon/www/claude/ecommerce-platform[39m

 [31mâ¯[39m src/test/components/public/NewsletterForm.test.tsx [2m([22m[2m6 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1136[2mms[22m[39m
     [32mâœ“[39m renders newsletter form correctly[32m 48[2mms[22m[39m
     [32mâœ“[39m shows name field when showName is true[32m 6[2mms[22m[39m
     [32mâœ“[39m handles successful subscription[32m 21[2mms[22m[39m
     [32mâœ“[39m handles subscription error[32m 25[2mms[22m[39m
[31m     [31mÃ—[31m validates email before submission[39m[33m 1026[2mms[22m[39m
     [32mâœ“[39m includes name in submission when provided[32m 8[2mms[22m[39m

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 1 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/test/components/public/NewsletterForm.test.tsx > NewsletterForm > validates email before submission
AssertionError: expected "vi.fn()" to be called with arguments: [ 'Please enter your email address' ]

Number of calls: 0


Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div>
      <form
        class=""
      >
        <div
          class="space-y-3"
        >
          <div>
            <label
              class="flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 sr-only"
              data-slot="label"
              for="newsletter-email"
            >
              Email
            </label>
            <input
              class="file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive"
              data-slot="input"
              id="newsletter-email"
              placeholder="Enter your email"
              required=""
              type="email"
              value=""
            />
          </div>
          <button
            class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2 has-[>svg]:px-3 w-full"
            data-slot="button"
            type="submit"
          >
            Subscribe
          </button>
        </div>
        <p
          class="text-xs text-gray-500 mt-2"
        >
          Get exclusive deals and updates. Unsubscribe anytime.
        </p>
      </form>
    </div>
  </body>
</html>
 â¯ src/test/components/public/NewsletterForm.test.tsx:92:33
     90| 
     91|         await waitFor(() => {
     92|             expect(toast.error).toHaveBeenCalledWith('Please enter youâ€¦
       |                                 ^
     93|         });
     94| 
 â¯ runWithExpensiveErrorDiagnosticsDisabled node_modules/@testing-library/dom/dist/config.js:47:12
 â¯ checkCallback node_modules/@testing-library/dom/dist/wait-for.js:124:77
 â¯ Timeout.checkRealTimersCallback node_modules/@testing-library/dom/dist/wait-for.js:118:16

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/1]â¯


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m   Start at [22m 20:52:40
[2m   Duration [22m 3.05s[2m (transform 140ms, setup 190ms, collect 430ms, tests 1.14s, environment 1.04s, prepare 17ms)[22m

