
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0867f3d6-7bf2-5ea4-a518-18e11c8f9c3c")}catch(e){}}();
module.exports=[738783,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactServerDOMTurbopackClient},422262,a=>{"use strict";var b=a.i(562213);a.s(["XIcon",()=>b.default])},814574,a=>{"use strict";var b=a.i(187924),c=a.i(897942),d=a.i(422262),e=a.i(368114);function f({...a}){return(0,b.jsx)(c.Root,{"data-slot":"dialog",...a})}function g({...a}){return(0,b.jsx)(c.Trigger,{"data-slot":"dialog-trigger",...a})}function h({...a}){return(0,b.jsx)(c.Portal,{"data-slot":"dialog-portal",...a})}function i({className:a,...d}){return(0,b.jsx)(c.Overlay,{"data-slot":"dialog-overlay",className:(0,e.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...d})}function j({className:a,children:f,showCloseButton:g=!0,...j}){return(0,b.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,b.jsx)(i,{}),(0,b.jsxs)(c.Content,{"data-slot":"dialog-content",className:(0,e.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...j,children:[f,g&&(0,b.jsxs)(c.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(d.XIcon,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function k({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,e.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function l({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-footer",className:(0,e.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...c})}function m({className:a,...d}){return(0,b.jsx)(c.Title,{"data-slot":"dialog-title",className:(0,e.cn)("text-lg leading-none font-semibold",a),...d})}function n({className:a,...d}){return(0,b.jsx)(c.Description,{"data-slot":"dialog-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...d})}a.s(["Dialog",()=>f,"DialogContent",()=>j,"DialogDescription",()=>n,"DialogFooter",()=>l,"DialogHeader",()=>k,"DialogTitle",()=>m,"DialogTrigger",()=>g])},602769,a=>{"use strict";let b=(0,a.i(170106).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["default",()=>b])},104720,a=>{"use strict";var b=a.i(602769);a.s(["FileText",()=>b.default])},596221,404650,a=>{"use strict";let b=(0,a.i(170106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["default",()=>b],404650),a.s(["Loader2",()=>b],596221)},429246,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},192434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},808591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(572131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},870430,a=>{"use strict";var b=a.i(187924),c=a.i(572131);a.i(935112);var d=a.i(811011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(368114);function h({className:a,...c}){return(0,b.jsx)(f,{"data-slot":"label",className:(0,g.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none mb-2 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>h],870430)},132392,a=>{"use strict";let b=(0,a.i(170106).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["default",()=>b])},244494,a=>{"use strict";var b=a.i(132392);a.s(["Globe",()=>b.default])},124987,a=>{"use strict";var b=a.i(524989);a.s(["MapPin",()=>b.default])},152839,a=>{"use strict";let b=(0,a.i(170106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["default",()=>b])},641710,a=>{"use strict";var b=a.i(152839);a.s(["Clock",()=>b.default])},724669,a=>{"use strict";var b=a.i(169404);a.s(["TrendingUp",()=>b.default])},915618,516868,a=>{"use strict";let b=(0,a.i(170106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["default",()=>b],516868),a.s(["Plus",()=>b],915618)},550537,a=>{"use strict";let b=(0,a.i(170106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["default",()=>b])},587532,a=>{"use strict";var b=a.i(550537);a.s(["Search",()=>b.default])},394613,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return f}});let d=a.r(572131),e=()=>{};function f(a){let{headManager:b,reduceComponentsToState:c}=a;function f(){if(b&&b.mountedInstances){let a=d.Children.toArray(Array.from(b.mountedInstances).filter(Boolean));b.updateHead(c(a))}}return b?.mountedInstances?.add(a.children),f(),e(()=>(b?.mountedInstances?.add(a.children),()=>{b?.mountedInstances?.delete(a.children)})),e(()=>(b&&(b._pendingUpdate=f),()=>{b&&(b._pendingUpdate=f)})),null}},258018,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return p},defaultHead:function(){return l}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(833354),g=a.r(346058),h=a.r(187924),i=g._(a.r(572131)),j=f._(a.r(394613)),k=a.r(292966);function l(){return[(0,h.jsx)("meta",{charSet:"utf-8"},"charset"),(0,h.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===i.default.Fragment?a.concat(i.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}a.r(192434);let n=["name","httpEquiv","charSet","itemProp"];function o(a){let b,c,d,e;return a.reduce(m,[]).reverse().concat(l().reverse()).filter((b=new Set,c=new Set,d=new Set,e={},a=>{let f=!0,g=!1;if(a.key&&"number"!=typeof a.key&&a.key.indexOf("$")>0){g=!0;let c=a.key.slice(a.key.indexOf("$")+1);b.has(c)?f=!1:b.add(c)}switch(a.type){case"title":case"base":c.has(a.type)?f=!1:c.add(a.type);break;case"meta":for(let b=0,c=n.length;b<c;b++){let c=n[b];if(a.props.hasOwnProperty(c))if("charSet"===c)d.has(c)?f=!1:d.add(c);else{let b=a.props[c],d=e[c]||new Set;("name"!==c||!g)&&d.has(b)?f=!1:(d.add(b),e[c]=d)}}}return f})).reverse().map((a,b)=>{let c=a.key||b;return i.default.cloneElement(a,{key:c})})}let p=function({children:a}){let b=(0,i.useContext)(k.HeadManagerContext);return(0,h.jsx)(j.default,{reduceComponentsToState:o,headManager:b,children:a})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},533095,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(833354),g=a.r(494915),h=a.r(767161),i=f._(a.r(402305));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},571987,(a,b,c)=>{b.exports=a.r(533095)},523025,530143,a=>{"use strict";let b=(0,a.i(170106).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["default",()=>b],530143),a.s(["Minus",()=>b],523025)},757061,a=>{"use strict";var b=a.i(187924),c=a.i(897942),d=a.i(422262),e=a.i(368114);function f({...a}){return(0,b.jsx)(c.Root,{"data-slot":"sheet",...a})}function g({...a}){return(0,b.jsx)(c.Trigger,{"data-slot":"sheet-trigger",...a})}function h({...a}){return(0,b.jsx)(c.Portal,{"data-slot":"sheet-portal",...a})}function i({className:a,...d}){return(0,b.jsx)(c.Overlay,{"data-slot":"sheet-overlay",className:(0,e.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...d})}function j({className:a,children:f,side:g="right",...j}){return(0,b.jsxs)(h,{children:[(0,b.jsx)(i,{}),(0,b.jsxs)(c.Content,{"data-slot":"sheet-content",className:(0,e.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===g&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===g&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===g&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===g&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",a),...j,children:[f,(0,b.jsxs)(c.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,b.jsx)(d.XIcon,{className:"size-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function k({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"sheet-header",className:(0,e.cn)("flex flex-col gap-1.5 p-4",a),...c})}function l({className:a,...d}){return(0,b.jsx)(c.Title,{"data-slot":"sheet-title",className:(0,e.cn)("text-foreground font-semibold",a),...d})}function m({className:a,...d}){return(0,b.jsx)(c.Description,{"data-slot":"sheet-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...d})}a.s(["Sheet",()=>f,"SheetContent",()=>j,"SheetDescription",()=>m,"SheetHeader",()=>k,"SheetTitle",()=>l,"SheetTrigger",()=>g])},315055,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(470121),e=a.i(750104),f=a.i(507554),g=a.i(225152),h=a.i(77994),i=a.i(3688),j=a.i(777192),k=a.i(30553),l="Checkbox",[m,n]=(0,e.createContextScope)(l),[o,p]=m(l);function q(a){let{__scopeCheckbox:d,checked:e,children:f,defaultChecked:h,disabled:i,form:j,name:k,onCheckedChange:m,required:n,value:p="on",internal_do_not_use_render:q}=a,[r,s]=(0,g.useControllableState)({prop:e,defaultProp:h??!1,onChange:m,caller:l}),[t,u]=c.useState(null),[v,w]=c.useState(null),x=c.useRef(!1),z=!t||!!j||!!t.closest("form"),A={checked:r,disabled:i,setChecked:s,control:t,setControl:u,name:k,form:j,value:p,hasConsumerStoppedPropagationRef:x,required:n,defaultChecked:!y(h)&&h,isFormControl:z,bubbleInput:v,setBubbleInput:w};return(0,b.jsx)(o,{scope:d,...A,children:"function"==typeof q?q(A):f})}var r="CheckboxTrigger",s=c.forwardRef(({__scopeCheckbox:a,onKeyDown:e,onClick:g,...h},i)=>{let{control:j,value:l,disabled:m,checked:n,required:o,setControl:q,setChecked:s,hasConsumerStoppedPropagationRef:t,isFormControl:u,bubbleInput:v}=p(r,a),w=(0,d.useComposedRefs)(i,q),x=c.useRef(n);return c.useEffect(()=>{let a=j?.form;if(a){let b=()=>s(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[j,s]),(0,b.jsx)(k.Primitive.button,{type:"button",role:"checkbox","aria-checked":y(n)?"mixed":n,"aria-required":o,"data-state":z(n),"data-disabled":m?"":void 0,disabled:m,value:l,...h,ref:w,onKeyDown:(0,f.composeEventHandlers)(e,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,f.composeEventHandlers)(g,a=>{s(a=>!!y(a)||!a),v&&u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})})});s.displayName=r;var t=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(q,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(x,{__scopeCheckbox:d})]})})});t.displayName=l;var u="CheckboxIndicator",v=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=p(u,d);return(0,b.jsx)(j.Presence,{present:e||y(g.checked)||!0===g.checked,children:(0,b.jsx)(k.Primitive.span,{"data-state":z(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});v.displayName=u;var w="CheckboxBubbleInput",x=c.forwardRef(({__scopeCheckbox:a,...e},f)=>{let{control:g,hasConsumerStoppedPropagationRef:j,checked:l,defaultChecked:m,required:n,disabled:o,name:q,value:r,form:s,bubbleInput:t,setBubbleInput:u}=p(w,a),v=(0,d.useComposedRefs)(f,u),x=(0,h.usePrevious)(l),z=(0,i.useSize)(g);c.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!j.current;if(x!==l&&a){let c=new Event("click",{bubbles:b});t.indeterminate=y(l),a.call(t,!y(l)&&l),t.dispatchEvent(c)}},[t,x,l,j]);let A=c.useRef(!y(l)&&l);return(0,b.jsx)(k.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??A.current,required:n,disabled:o,name:q,value:r,form:s,...e,tabIndex:-1,ref:v,style:{...e.style,...z,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function y(a){return"indeterminate"===a}function z(a){return y(a)?"indeterminate":a?"checked":"unchecked"}x.displayName=w;var A=a.i(606406),B=a.i(368114);function C({className:a,...c}){return(0,b.jsx)(t,{"data-slot":"checkbox",className:(0,B.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(v,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,b.jsx)(A.CheckIcon,{className:"size-3.5"})})})}a.s(["Checkbox",()=>C],315055)},998648,a=>{"use strict";let b=(0,a.i(170106).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);a.s(["default",()=>b])},787654,a=>{"use strict";var b=a.i(998648);a.s(["RotateCcw",()=>b.default])},828526,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(415925),f=a.i(699570),g=a.i(814574),h=a.i(580701),i=a.i(870430),j=a.i(429246),k=a.i(315055),l=a.i(406704),m=a.i(787654);function n({orderId:a,orderNumber:n,orderItems:o,paymentStatus:p,existingRefund:q}){let r=(0,d.useRouter)(),s=(0,e.useTranslations)("refund"),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)({});if(q)return null;let D=async()=>{if(!x)return void l.toast.error(s("selectReason"));let b=Object.entries(B).filter(([,a])=>a.selected).map(([a,b])=>({orderItemId:a,quantity:b.quantity}));if(0===b.length)return void l.toast.error(s("selectItems"));try{w(!0);let c=await fetch("/api/refunds",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:a,reason:x,reasonDetails:z,items:b,restockItems:!0})});if(!c.ok){let a=await c.json();throw Error(a.error||s("error"))}l.toast.success(s("success")),u(!1),r.refresh()}catch(a){console.error("Error submitting refund:",a),l.toast.error(a.message||s("error"))}finally{w(!1)}};return(0,b.jsxs)(g.Dialog,{open:t,onOpenChange:u,children:[(0,b.jsx)(g.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"outline",className:"gap-2",children:[(0,b.jsx)(m.RotateCcw,{className:"h-4 w-4"}),s("requestButton")]})}),(0,b.jsxs)(g.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsx)(g.DialogTitle,{children:s("dialogTitle")}),(0,b.jsx)(g.DialogDescription,{children:s("dialogDesc",{orderNumber:n})})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"reason",children:s("reasonLabel")}),(0,b.jsxs)(h.Select,{value:x,onValueChange:y,children:[(0,b.jsx)(h.SelectTrigger,{id:"reason",children:(0,b.jsx)(h.SelectValue,{placeholder:s("reasonPlaceholder")})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"DEFECTIVE",children:s("reasons.DEFECTIVE")}),(0,b.jsx)(h.SelectItem,{value:"WRONG_ITEM",children:s("reasons.WRONG_ITEM")}),(0,b.jsx)(h.SelectItem,{value:"NOT_AS_DESCRIBED",children:s("reasons.NOT_AS_DESCRIBED")}),(0,b.jsx)(h.SelectItem,{value:"CHANGED_MIND",children:s("reasons.CHANGED_MIND")}),(0,b.jsx)(h.SelectItem,{value:"ARRIVED_LATE",children:s("reasons.ARRIVED_LATE")}),(0,b.jsx)(h.SelectItem,{value:"OTHER",children:s("reasons.OTHER")})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"details",children:s("detailsLabel")}),(0,b.jsx)(j.Textarea,{id:"details",placeholder:s("detailsPlaceholder"),value:z,onChange:a=>A(a.target.value),rows:3})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:s("itemsLabel")}),(0,b.jsx)("div",{className:"border rounded-lg p-4 space-y-3",children:o.map(a=>{let c=B[a.id]?.selected||!1,d=B[a.id]?.quantity||a.quantity;return(0,b.jsxs)("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0 last:pb-0",children:[(0,b.jsx)(k.Checkbox,{checked:c,onCheckedChange:()=>{var b,c;return b=a.id,c=a.quantity,void C(a=>{let d=a[b];if(d?.selected){let{[b]:c,...d}=a;return d}return{...a,[b]:{selected:!0,quantity:c}}})},id:`item-${a.id}`}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{htmlFor:`item-${a.id}`,className:"font-medium cursor-pointer",children:a.product.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["$",Number(a.price).toFixed(2)," × ",a.quantity," = $",Number(a.total).toFixed(2)]}),c&&a.quantity>1&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)(i.Label,{htmlFor:`qty-${a.id}`,className:"text-xs",children:s("quantityToRefund")}),(0,b.jsxs)(h.Select,{value:d.toString(),onValueChange:b=>{var c,d;return c=a.id,d=parseInt(b),void C(a=>({...a,[c]:{...a[c],quantity:d}}))},children:[(0,b.jsx)(h.SelectTrigger,{id:`qty-${a.id}`,className:"w-24 h-8 text-sm",children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsx)(h.SelectContent,{children:Array.from({length:a.quantity},(a,b)=>b+1).map(a=>(0,b.jsx)(h.SelectItem,{value:a.toString(),children:a},a))})]})]})]})]},a.id)})})]}),(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[(0,b.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:s("policyTitle")}),(0,b.jsxs)("ul",{className:"space-y-1 text-blue-800",children:[(0,b.jsxs)("li",{children:["• ",s("policy.1")]}),(0,b.jsxs)("li",{children:["• ",s("policy.2")]}),(0,b.jsxs)("li",{children:["• ",s("policy.3")]}),(0,b.jsxs)("li",{children:["• ",s("policy.4")]})]})]})]}),(0,b.jsxs)(g.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>u(!1),disabled:v,children:s("cancel")}),(0,b.jsx)(f.Button,{onClick:D,disabled:v,children:v?s("submitting"):s("submit")})]})]})]})}a.s(["RefundRequestButton",()=>n])},542396,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(699570),e=a.i(104720),f=a.i(406704);function g({order:a}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!0);(0,c.useEffect)(()=>{k()},[]);let k=async()=>{try{let a=await fetch("/api/features/enabled");if(a.ok){let b=await a.json();h(b.features?.includes("invoice_generator")||!1)}}catch(a){console.error("Error checking invoice feature:",a)}finally{j(!1)}},l=async()=>{try{let b=await fetch(`/api/orders/${a.id}/invoice/download`);if(b.ok){let c=await b.blob(),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`Invoice-${a.orderNumber}.pdf`,document.body.appendChild(e),e.click(),window.URL.revokeObjectURL(d),document.body.removeChild(e),f.default.success("Invoice downloaded successfully")}else f.default.error("Failed to generate invoice")}catch(a){console.error("Error generating invoice:",a),f.default.error("Failed to generate invoice")}};return g?(0,b.jsxs)(d.Button,{variant:"outline",onClick:l,disabled:i,children:[(0,b.jsx)(e.FileText,{className:"w-4 h-4 mr-2"}),"Download Invoice"]}):null}a.s(["DownloadInvoiceButton",()=>g])},17741,a=>{a.v(b=>Promise.all(["server/chunks/ssr/messages_en_json_a7997480._.js"].map(b=>a.l(b))).then(()=>b(50929)))},341197,a=>{a.v(b=>Promise.all(["server/chunks/ssr/messages_fr_json_a62d012a._.js"].map(b=>a.l(b))).then(()=>b(956036)))}];

//# sourceMappingURL=_f60a26ad._.js.map
//# debugId=0867f3d6-7bf2-5ea4-a518-18e11c8f9c3c
