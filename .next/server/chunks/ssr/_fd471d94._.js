
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="17eafc2b-ef37-5be1-a743-9880a3266823")}catch(e){}}();
module.exports=[104876,a=>{"use strict";let b=(0,a.i(170106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["default",()=>b])},781560,a=>{"use strict";var b=a.i(104876);a.s(["Trash2",()=>b.default])},114548,a=>{"use strict";var b=a.i(922644);a.s(["Save",()=>b.default])},816201,a=>{"use strict";var b=a.i(626405);a.s(["CheckCircle",()=>b.default])},773320,a=>{"use strict";var b=a.i(135652);a.s(["Upload",()=>b.default])},482520,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},324560,(a,b,c)=>{"use strict";var d=a.r(482520);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},341212,(a,b,c)=>{b.exports=a.r(324560)()},874200,976695,a=>{"use strict";function b(a,c=2){if(!+a)return"0 Bytes";let d=Math.floor(Math.log(a)/Math.log(1024));return`${parseFloat((a/Math.pow(1024,d)).toFixed(c<0?0:c))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][d]}`}a.s(["formatBytes",()=>b],874200);var c=a.i(833190);a.s(["FileIcon",()=>c.default],976695)},64791,a=>{"use strict";var b=a.i(835134);a.s(["Video",()=>b.default])},185135,287470,a=>{"use strict";var b=a.i(187924),c=a.i(571987),d=a.i(874200),e=a.i(976695),f=a.i(64791),g=a.i(536658),g=g,h=a.i(104720),i=a.i(533441),j=a.i(368114);let k=({item:a,selected:k,onSelect:l,onClick:m})=>{let n="IMAGE"===a.type;return(0,b.jsxs)("div",{className:(0,j.cn)("group relative aspect-square cursor-pointer rounded-lg border bg-card overflow-hidden transition-all hover:shadow-md",k?"border-primary ring-2 ring-primary ring-offset-2":"border-border"),onClick:b=>{b.stopPropagation(),b.ctrlKey||b.metaKey?l(a,!0):m(a)},children:[(0,b.jsx)("div",{className:(0,j.cn)("absolute left-2 top-2 z-10 flex h-6 w-6 items-center justify-center rounded-full border bg-white transition-opacity",k?"opacity-100 border-primary bg-primary text-primary-foreground":"opacity-0 group-hover:opacity-100 border-gray-300"),onClick:b=>{b.stopPropagation(),l(a,!0)},children:k&&(0,b.jsx)(i.Check,{className:"h-4 w-4"})}),(0,b.jsx)("div",{className:"relative h-full w-full bg-muted/20",children:n&&a.secureUrl?(0,b.jsx)(c.default,{src:a.secureUrl,alt:a.altText||a.filename,fill:!0,className:"object-cover transition-transform group-hover:scale-105",sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 20vw"}):(0,b.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center p-4 text-muted-foreground",children:["VIDEO"===a.type&&(0,b.jsx)(f.Video,{className:"h-12 w-12 mb-2"}),"AUDIO"===a.type&&(0,b.jsx)(g.default,{className:"h-12 w-12 mb-2"}),"DOCUMENT"===a.type&&(0,b.jsx)(h.FileText,{className:"h-12 w-12 mb-2"}),"OTHER"===a.type&&(0,b.jsx)(e.FileIcon,{className:"h-12 w-12 mb-2"}),(0,b.jsx)("span",{className:"text-xs font-medium truncate w-full text-center",children:a.filename})]})}),(0,b.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 p-2 text-white opacity-0 transition-opacity group-hover:opacity-100",children:[(0,b.jsx)("p",{className:"truncate text-xs font-medium",children:a.filename}),(0,b.jsx)("p",{className:"text-[10px] text-gray-300",children:(0,d.formatBytes)(a.fileSize)})]})]})};var l=a.i(596221),m=a.i(849625),m=m,n=a.i(773320),o=a.i(699570);a.s(["MediaGrid",0,({items:a,selectedItems:c,onSelect:d,onItemClick:e,loading:f,onUploadClick:g})=>f&&0===a.length?(0,b.jsx)("div",{className:"flex h-64 w-full items-center justify-center",children:(0,b.jsx)(l.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===a.length?(0,b.jsx)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-350px)] px-4",children:(0,b.jsxs)("div",{className:"w-full max-w-3xl border-2 border-dashed rounded-3xl p-12 flex flex-col items-center justify-center bg-muted/30 hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"relative mb-6 group",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-3xl group-hover:bg-primary/30 transition-all duration-500"}),(0,b.jsx)("div",{className:"relative bg-background rounded-full p-6 shadow-sm ring-1 ring-border group-hover:scale-110 transition-transform duration-500",children:(0,b.jsx)("div",{className:"bg-primary/10 rounded-full p-4",children:(0,b.jsx)(m.default,{className:"h-12 w-12 text-primary",strokeWidth:1.5})})})]}),(0,b.jsx)("h3",{className:"text-2xl font-bold tracking-tight mb-2",children:"No media files yet"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-8 max-w-md text-center text-base",children:"Upload images, videos, or documents to start building your library. Your assets will be available across your entire store."}),(0,b.jsx)("div",{className:"flex items-center gap-4 mb-12",children:g&&(0,b.jsxs)(o.Button,{onClick:g,size:"lg",className:"h-12 px-8 text-base shadow-lg hover:shadow-xl transition-all hover:-translate-y-0.5",children:[(0,b.jsx)(n.Upload,{className:"h-5 w-5 mr-2"}),"Upload Files"]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-12 w-full max-w-2xl border-t pt-8",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 group cursor-default",children:[(0,b.jsx)("div",{className:"p-3 rounded-xl bg-blue-50 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:(0,b.jsx)(m.default,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h4",{className:"font-semibold text-sm",children:"Images"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"JPG, PNG, WebP"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 group cursor-default",children:[(0,b.jsx)("div",{className:"p-3 rounded-xl bg-purple-50 dark:bg-purple-950/30 text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform",children:(0,b.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h4",{className:"font-semibold text-sm",children:"Videos"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"MP4, WebM"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 group cursor-default",children:[(0,b.jsx)("div",{className:"p-3 rounded-xl bg-green-50 dark:bg-green-950/30 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform",children:(0,b.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h4",{className:"font-semibold text-sm",children:"Documents"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"PDF, DOC, TXT"})]})]})]})]})}):(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",children:a.map(a=>(0,b.jsx)(k,{item:a,selected:c.includes(a.id),onSelect:d,onClick:e},a.id))})],185135);var p=a.i(572131),q=a.i(866965),r=a.i(633508),s=a.i(816201),t=a.i(292e3),u=a.i(173390);a.s(["MediaUploader",0,({onUploadComplete:a,folderId:c})=>{let[f,g]=(0,p.useState)([]),[h,i]=(0,p.useState)(!1),k=(0,p.useCallback)(a=>{let b=a.map(a=>({file:a,id:Math.random().toString(36).substring(7),progress:0,status:"pending"}));g(a=>[...a,...b])},[]),{getRootProps:l,getInputProps:m,isDragActive:v}=(0,q.useDropzone)({onDrop:k,accept:{"image/*":[],"video/*":[],"audio/*":[],"application/pdf":[]}}),w=async a=>{let b=new FormData;b.append("file",a.file),c&&b.append("folderId",c);try{let c=new XMLHttpRequest;c.upload.onprogress=b=>{if(b.lengthComputable){let c=Math.round(b.loaded/b.total*100);g(b=>b.map(b=>b.id===a.id?{...b,progress:c,status:"uploading"}:b))}};let d=new Promise((a,b)=>{c.onload=()=>{if(c.status>=200&&c.status<300)a(JSON.parse(c.responseText));else{let a="Upload failed";try{let b=JSON.parse(c.responseText);b.error&&(a=b.error)}catch{}b(Error(a))}},c.onerror=()=>b(Error("Upload failed"))});c.open("POST","/api/media/upload"),c.send(b),await d,g(b=>b.map(b=>b.id===a.id?{...b,progress:100,status:"completed"}:b))}catch(c){let b=c instanceof Error?c.message:"Failed";g(c=>c.map(c=>c.id===a.id?{...c,status:"error",error:b}:c))}},x=async()=>{i(!0);let b=f.filter(a=>"pending"===a.status);for(let a=0;a<b.length;a+=3){let c=b.slice(a,a+3);await Promise.all(c.map(a=>w(a)))}i(!1),a()};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{...l(),className:(0,j.cn)("flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-12 transition-colors cursor-pointer",v?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50"),children:[(0,b.jsx)("input",{...m()}),(0,b.jsx)(n.Upload,{className:"mb-4 h-12 w-12 text-muted-foreground"}),(0,b.jsx)("p",{className:"mb-2 text-lg font-medium",children:v?"Drop files here":"Drag & drop files here, or click to select"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Supports images, videos, audio, and documents up to 10MB"})]}),f.length>0&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"font-medium",children:["Upload Queue (",f.length,")"]}),(0,b.jsxs)("div",{className:"space-x-2",children:[(0,b.jsx)(o.Button,{variant:"outline",size:"sm",onClick:()=>{g(a=>a.filter(a=>"completed"!==a.status))},disabled:h||!f.some(a=>"completed"===a.status),children:"Clear Completed"}),(0,b.jsx)(o.Button,{size:"sm",onClick:x,disabled:h||!f.some(a=>"pending"===a.status),children:h?"Uploading...":"Start Upload"})]})]}),(0,b.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:f.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-md border p-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded bg-muted",children:(0,b.jsx)(e.FileIcon,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"truncate text-sm font-medium",children:a.file.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,d.formatBytes)(a.file.size)})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:["uploading"===a.status&&(0,b.jsx)(u.Progress,{value:a.progress,className:"w-24"}),"completed"===a.status&&(0,b.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,b.jsx)(s.CheckCircle,{className:"mr-1 h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs",children:"Done"})]}),"error"===a.status&&(0,b.jsxs)("div",{className:"flex items-center text-red-600",title:a.error,children:[(0,b.jsx)(t.AlertCircle,{className:"mr-1 h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs max-w-[150px] truncate",children:a.error||"Error"})]}),"pending"===a.status&&(0,b.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{var b;return b=a.id,void g(a=>a.filter(a=>a.id!==b))},children:(0,b.jsx)(r.X,{className:"h-4 w-4"})})]})]},a.id))})]})]})}],287470)},705151,a=>{"use strict";var b=a.i(776319);a.s(["Copy",()=>b.default])},505084,a=>{"use strict";var b=a.i(187924),c=a.i(572131);a.i(935112);var d=a.i(811011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f="horizontal",g=["horizontal","vertical"],h=c.forwardRef((a,c)=>{var d;let{decorative:h,orientation:i=f,...j}=a,k=(d=i,g.includes(d))?i:f;return(0,b.jsx)(e.div,{"data-orientation":k,...h?{role:"none"}:{"aria-orientation":"vertical"===k?k:void 0,role:"separator"},...j,ref:c})});h.displayName="Separator";var i=a.i(368114);function j({className:a,orientation:c="horizontal",decorative:d=!0,...e}){return(0,b.jsx)(h,{"data-slot":"separator",decorative:d,orientation:c,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...e})}a.s(["Separator",()=>j],505084)},369012,a=>{"use strict";var b=a.i(221229);a.s(["Filter",()=>b.default])},989045,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(185135),e=a.i(571987),f=a.i(874200),g=a.i(699570),h=a.i(866718),i=a.i(870430),j=a.i(429246),k=a.i(505084),l=a.i(633508),m=a.i(781560),n=a.i(114548),o=a.i(705151),p=a.i(406704);let q=({item:a,onClose:d,onUpdate:q,onDelete:r})=>{let[s,t]=(0,c.useState)({altText:"",title:"",caption:"",description:""}),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{a&&t({altText:a.altText||"",title:a.title||"",caption:a.caption||"",description:a.description||""})},[a]),!a)return null;let y=a=>{let{name:b,value:c}=a.target;t(a=>({...a,[b]:c}))},z=async()=>{v(!0);try{await q(a.id,s),p.toast.success("Media updated successfully")}catch(a){p.toast.error("Failed to update media")}finally{v(!1)}},A=async()=>{if(confirm("Are you sure you want to delete this file? This action cannot be undone.")){x(!0);try{await r(a.id),p.toast.success("Media deleted successfully"),d()}catch(a){p.toast.error("Failed to delete media")}finally{x(!1)}}};return(0,b.jsxs)("div",{className:"fixed inset-y-0 right-0 z-50 w-80 border-l bg-background shadow-lg sm:w-96 overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b p-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Media Details"}),(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",onClick:d,className:"cursor-pointer",children:(0,b.jsx)(l.X,{className:"h-4 w-4"})})]}),(0,b.jsxs)("div",{className:"p-4 space-y-6",children:[(0,b.jsx)("div",{className:"aspect-video relative overflow-hidden rounded-lg border bg-muted",children:"IMAGE"===a.type?(0,b.jsx)(e.default,{src:a.secureUrl,alt:a.altText||a.filename,fill:!0,className:"object-contain"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:"No preview available"})}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Filename:"}),(0,b.jsx)("span",{className:"truncate",title:a.filename,children:a.filename}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,b.jsx)("span",{children:a.mimeType}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Size:"}),(0,b.jsx)("span",{children:(0,f.formatBytes)(a.fileSize)}),a.width&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Dimensions:"}),(0,b.jsxs)("span",{children:[a.width," x ",a.height]})]}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Uploaded:"}),(0,b.jsx)("span",{children:new Date(a.createdAt).toLocaleDateString()})]}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",className:"w-full cursor-pointer",onClick:()=>{navigator.clipboard.writeText(a.secureUrl),p.toast.success("URL copied to clipboard")},children:[(0,b.jsx)(o.Copy,{className:"mr-2 h-3 w-3"})," Copy URL"]})})]}),(0,b.jsx)(k.Separator,{}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"altText",children:"Alt Text"}),(0,b.jsx)(h.Input,{id:"altText",name:"altText",value:s.altText,onChange:y,placeholder:"Describe the image for SEO"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Important for accessibility and SEO."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"title",children:"Title"}),(0,b.jsx)(h.Input,{id:"title",name:"title",value:s.title,onChange:y})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"caption",children:"Caption"}),(0,b.jsx)(j.Textarea,{id:"caption",name:"caption",value:s.caption,onChange:y,rows:2})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(j.Textarea,{id:"description",name:"description",value:s.description,onChange:y,rows:3})]})]}),(0,b.jsx)(k.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,b.jsxs)(g.Button,{variant:"destructive",size:"sm",onClick:A,disabled:w,className:"cursor-pointer",children:[(0,b.jsx)(m.Trash2,{className:"mr-2 h-4 w-4"})," Delete"]}),(0,b.jsxs)(g.Button,{onClick:z,disabled:u,className:"cursor-pointer",children:[(0,b.jsx)(n.Save,{className:"mr-2 h-4 w-4"})," Save"]})]})]})]})};var r=a.i(287470),s=a.i(580701),t=a.i(587532),u=a.i(773320),v=a.i(369012),w=a.i(669520);a.s(["MediaLibrary",0,()=>{let[a,e]=(0,c.useState)([]),[f,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[x,y]=(0,c.useState)({search:"",folderId:null,type:null,sort:"newest"}),z=(0,c.useCallback)(async()=>{i(!0);try{let a=new URLSearchParams;x.search&&a.append("search",x.search),x.folderId&&a.append("folderId",x.folderId),x.type&&a.append("type",x.type),x.sort&&a.append("sort",x.sort);let b=await fetch(`/api/media?${a.toString()}`),c=await b.json();if(c.error)throw Error(c.error);e(c.media)}catch(a){console.error(a),p.toast.error("Failed to load media")}finally{i(!1)}},[x]);(0,c.useEffect)(()=>{z()},[z]);let A=async(a,b)=>{let c=await fetch(`/api/media/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to update");let d=await c.json();e(b=>b.map(b=>b.id===a?d:b)),m(d)},B=async a=>{if(!(await fetch(`/api/media/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete");e(b=>b.filter(b=>b.id!==a)),l?.id===a&&m(null),k(b=>b.filter(b=>b!==a))};return(0,b.jsxs)("div",{className:"flex h-[calc(100vh-100px)] flex-col bg-background",children:[(0,b.jsxs)("div",{className:"border-b bg-card",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between pb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Media Library"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage and organize your media assets"})]}),!f&&(0,b.jsxs)("div",{className:"flex items-center gap-4 pl-6 border-l",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-primary",children:a.length}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total Files"})]}),j.length>0&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:j.length}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Selected"})]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)(g.Button,{onClick:()=>o(!n),variant:n?"secondary":"default",className:"gap-2",children:[(0,b.jsx)(u.Upload,{className:"h-4 w-4"}),n?"Cancel Upload":"Upload Files"]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3  pb-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(t.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(h.Input,{placeholder:"Search by filename, alt text, or tags...",className:"pl-9 bg-background",value:x.search,onChange:a=>y(b=>({...b,search:a.target.value}))})]}),(0,b.jsxs)(s.Select,{value:x.type||"all",onValueChange:a=>y(b=>({...b,type:"all"===a?null:a})),children:[(0,b.jsxs)(s.SelectTrigger,{className:"w-[140px] bg-background",children:[(0,b.jsx)(v.Filter,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(s.SelectValue,{placeholder:"Type"})]}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"all",children:"All Types"}),(0,b.jsx)(s.SelectItem,{value:"IMAGE",children:"Images"}),(0,b.jsx)(s.SelectItem,{value:"VIDEO",children:"Videos"}),(0,b.jsx)(s.SelectItem,{value:"DOCUMENT",children:"Documents"})]})]}),(0,b.jsxs)(s.Select,{value:x.sort||"newest",onValueChange:a=>y(b=>({...b,sort:a})),children:[(0,b.jsx)(s.SelectTrigger,{className:"w-[140px] bg-background",children:(0,b.jsx)(s.SelectValue,{placeholder:"Sort"})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"newest",children:"Newest First"}),(0,b.jsx)(s.SelectItem,{value:"oldest",children:"Oldest First"}),(0,b.jsx)(s.SelectItem,{value:"name",children:"Name (A-Z)"}),(0,b.jsx)(s.SelectItem,{value:"size",children:"File Size"})]})]}),(0,b.jsx)(g.Button,{variant:"outline",size:"icon",onClick:z,title:"Refresh",children:(0,b.jsx)(w.RefreshCw,{className:`h-4 w-4 ${f?"animate-spin":""}`})})]})]}),(0,b.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,b.jsx)("div",{className:"flex-1 overflow-y-auto py-4",children:n?(0,b.jsx)(r.MediaUploader,{onUploadComplete:()=>{z(),o(!1),p.toast.success("Upload complete")},folderId:x.folderId}):(0,b.jsx)(d.MediaGrid,{items:a,selectedItems:j,onSelect:(a,b)=>{b?k(b=>b.includes(a.id)?b.filter(b=>b!==a.id):[...b,a.id]):m(a)},onItemClick:a=>m(a),loading:f,onUploadClick:()=>o(!0)})}),l&&(0,b.jsx)(q,{item:l,onClose:()=>m(null),onUpdate:A,onDelete:B})]})]})}],989045)}];

//# sourceMappingURL=_fd471d94._.js.map
//# debugId=17eafc2b-ef37-5be1-a743-9880a3266823
