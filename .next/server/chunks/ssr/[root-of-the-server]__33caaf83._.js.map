{"version":3,"sources":["../../../../node_modules/next-intl/dist/esm/production/server/react-server/getTranslations.js","../../../../node_modules/use-intl/dist/esm/production/core.js","../../../../node_modules/next-intl/dist/esm/production/server/react-server/getServerTranslator.js","../../../../src/components/public/PageOverrideRenderer.tsx","../../../../src/components/public/Header.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/public/Footer.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/landing-page/BlockRenderer.tsx/__nextjs-internal-proxy.mjs","../../../../src/lib/page-overrides.ts","../../../../src/components/public/CartContent.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/%5Blocale%5D/cart/page.tsx"],"sourcesContent":["import{cache as r}from\"react\";import t from\"./getConfig.js\";import e from\"./getServerTranslator.js\";var o=r((async function(r){let o,a;\"string\"==typeof r?o=r:r&&(a=r.locale,o=r.namespace);const n=await t(a);return e(n,o)}));export{o as default};\n","import{r as e,e as s,f as r,b as t,d as o,g as n}from\"./initializeConfig-CzP0yD8_.js\";export{I as IntlError,a as IntlErrorCode,c as createFormatter,i as initializeConfig}from\"./initializeConfig-CzP0yD8_.js\";function m({_cache:a=o(),_formatters:i=t(a),getMessageFallback:m=r,messages:c,namespace:f,onError:g=n,...l}){return function({messages:a,namespace:r,...t},o){return a=a[o],r=e(r,o),s({...t,messages:a,namespace:r})}({...l,onError:g,cache:a,formatters:i,getMessageFallback:m,messages:{\"!\":c},namespace:f?`!.${f}`:\"!\"},\"!\")}function f(e,a){return e.includes(a)}export{o as _createCache,t as _createIntlFormatters,m as createTranslator,f as hasLocale};\n","import{cache as r}from\"react\";import{createTranslator as e}from\"use-intl/core\";var t=r((function(r,t){return e({...r,namespace:t})}));export{t as default};\n","import { Page } from '@prisma/client';\r\nimport { Header } from './Header';\r\nimport { Footer } from './Footer';\r\nimport { BlockRenderer } from '@/components/landing-page/BlockRenderer';\r\n\r\ninterface PageOverrideRendererProps {\r\n  page: Page & {\r\n    blocks?: any[];\r\n  };\r\n}\r\n\r\nexport function PageOverrideRenderer({ page }: PageOverrideRendererProps) {\r\n  const useLayout = page.useStorefrontLayout ?? true;\r\n  const hasBlocks = page.useBlockEditor && page.blocks && page.blocks.length > 0;\r\n  const hasContent = page.content && page.content.trim().length > 0;\r\n\r\n  const content = (\r\n    <>\r\n      {/* Custom CSS */}\r\n      {page.customCss && (\r\n        <style dangerouslySetInnerHTML={{ __html: page.customCss }} />\r\n      )}\r\n\r\n      {/* Render rich text content if present */}\r\n      {hasContent && (\r\n        <div className=\"prose prose-lg max-w-none mb-8\">\r\n          <div dangerouslySetInnerHTML={{ __html: page.content || '' }} />\r\n        </div>\r\n      )}\r\n\r\n      {/* Render blocks if present */}\r\n      {hasBlocks && (\r\n        <div className=\"page-blocks\">\r\n          {page.blocks\r\n            ?.filter((block: any) => block.isVisible !== false)\r\n            .sort((a: any, b: any) => (a.order || 0) - (b.order || 0))\r\n            .map((block: any) => (\r\n              <BlockRenderer key={block.id} block={block} />\r\n            ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Custom JS */}\r\n      {page.customJs && (\r\n        <script dangerouslySetInnerHTML={{ __html: page.customJs }} />\r\n      )}\r\n    </>\r\n  );\r\n\r\n  if (useLayout) {\r\n    return (\r\n      <div className=\"flex flex-col min-h-screen\">\r\n        <Header />\r\n        <main className=\"flex-1 bg-gray-50\">\r\n          <div className=\"container mx-auto px-4 py-12\">\r\n            {content}\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen\">\r\n      <div className=\"container mx-auto px-4 py-12\">\r\n        {content}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/public/Header.tsx\",\n    \"Header\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Footer = registerClientReference(\n    function() { throw new Error(\"Attempted to call Footer() from the server but Footer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/public/Footer.tsx\",\n    \"Footer\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const BlockRenderer = registerClientReference(\n    function() { throw new Error(\"Attempted to call BlockRenderer() from the server but BlockRenderer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/landing-page/BlockRenderer.tsx\",\n    \"BlockRenderer\",\n);\n","import { prisma } from './prisma';\r\n\r\nexport type PageOverrideType = 'HOME' | 'SHOP' | 'PRODUCT' | 'CART' | 'CHECKOUT' | 'BLOG' | 'BLOG_POST';\r\n\r\n/**\r\n * Get a published page that overrides a specific storefront page type\r\n * @param pageType The type of page to check for override\r\n * @returns The override page if found, null otherwise\r\n */\r\nexport async function getPageOverride(pageType: PageOverrideType) {\r\n  try {\r\n    const overridePage = await prisma.page.findFirst({\r\n      where: {\r\n        overridesStorefrontPage: true,\r\n        overriddenPageType: pageType,\r\n        status: 'PUBLISHED',\r\n      },\r\n      include: {\r\n        blocks: {\r\n          include: {\r\n            template: true,\r\n          },\r\n          orderBy: {\r\n            order: 'asc',\r\n          },\r\n        },\r\n      },\r\n    });\r\n\r\n    return overridePage;\r\n  } catch (error) {\r\n    console.error(`Error fetching page override for ${pageType}:`, error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Get all page override types that are currently active\r\n * @returns Array of page types that have active overrides\r\n */\r\nexport async function getActiveOverrides(): Promise<PageOverrideType[]> {\r\n  try {\r\n    const overrides = await prisma.page.findMany({\r\n      where: {\r\n        overridesStorefrontPage: true,\r\n        status: 'PUBLISHED',\r\n        overriddenPageType: {\r\n          not: null,\r\n        },\r\n      },\r\n      select: {\r\n        overriddenPageType: true,\r\n      },\r\n    });\r\n\r\n    return overrides\r\n      .map((o) => o.overriddenPageType)\r\n      .filter((type): type is PageOverrideType => type !== null);\r\n  } catch (error) {\r\n    console.error('Error fetching active overrides:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Check if a specific page type has an active override\r\n * @param pageType The page type to check\r\n * @returns true if an override exists, false otherwise\r\n */\r\nexport async function hasPageOverride(pageType: PageOverrideType): Promise<boolean> {\r\n  const override = await getPageOverride(pageType);\r\n  return override !== null;\r\n}\r\n\r\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CartContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call CartContent() from the server but CartContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/public/CartContent.tsx\",\n    \"CartContent\",\n);\n","import { Header } from '@/components/public/Header';\nimport { Footer } from '@/components/public/Footer';\nimport { CartContent } from '@/components/public/CartContent';\nimport { PageOverrideRenderer } from '@/components/public/PageOverrideRenderer';\nimport { getPageOverride } from '@/lib/page-overrides';\n\nimport { getTranslations } from 'next-intl/server';\n\nexport async function generateMetadata() {\n  const t = await getTranslations('metadata.cart');\n\n  return {\n    title: t('title'),\n    description: t('description'),\n  };\n}\n\nexport default async function CartPage() {\n  // Check for page override\n  const overridePage = await getPageOverride('CART');\n  if (overridePage) {\n    return <PageOverrideRenderer page={overridePage} />;\n  }\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Header />\n      <main className=\"flex-1 bg-gray-50\">\n        <CartContent />\n      </main>\n      <Footer />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,4,5,6,8]}