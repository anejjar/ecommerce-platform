
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c795ac0a-0920-566c-9eeb-e5671fac281a")}catch(e){}}();
module.exports=[591119,a=>{"use strict";var b=a.i(187924),c=a.i(368114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},786304,a=>{"use strict";var b=a.i(187924),c=a.i(811011),d=a.i(400187),e=a.i(368114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},104876,a=>{"use strict";let b=(0,a.i(170106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["default",()=>b])},781560,a=>{"use strict";var b=a.i(104876);a.s(["Trash2",()=>b.default])},596221,404650,a=>{"use strict";let b=(0,a.i(170106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["default",()=>b],404650),a.s(["Loader2",()=>b],596221)},633508,a=>{"use strict";var b=a.i(562213);a.s(["X",()=>b.default])},533441,a=>{"use strict";var b=a.i(234157);a.s(["Check",()=>b.default])},576440,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(591119),e=a.i(699570),f=a.i(786304),g=a.i(596221),h=a.i(533441),i=a.i(633508),j=a.i(821374),k=a.i(781560),l=a.i(406704),m=a.i(238246);function n(){let[a,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)("all");(0,c.useEffect)(()=>{s()},[]);let s=async()=>{try{let a=await fetch("/api/reviews");if(a.ok){let b=await a.json();n(b)}}catch(a){console.error("Error fetching reviews:",a),l.default.error("Failed to load reviews")}finally{p(!1)}},t=async b=>{try{(await fetch(`/api/reviews/${b}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({approved:!0})})).ok?(l.default.success("Review approved"),n(a.map(a=>a.id===b?{...a,approved:!0}:a))):l.default.error("Failed to approve review")}catch(a){l.default.error("An error occurred")}},u=async b=>{try{(await fetch(`/api/reviews/${b}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({approved:!1})})).ok?(l.default.success("Review rejected"),n(a.map(a=>a.id===b?{...a,approved:!1}:a))):l.default.error("Failed to reject review")}catch(a){l.default.error("An error occurred")}},v=async b=>{if(confirm("Are you sure you want to delete this review?"))try{(await fetch(`/api/reviews/${b}`,{method:"DELETE"})).ok?(l.default.success("Review deleted"),n(a.filter(a=>a.id!==b))):l.default.error("Failed to delete review")}catch(a){l.default.error("An error occurred")}},w=a.filter(a=>"pending"===q?!a.approved:"approved"!==q||a.approved);return o?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(g.Loader2,{className:"w-8 h-8 animate-spin"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex justify-between items-center",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Review Moderation"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage and moderate customer reviews"})]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(e.Button,{variant:"all"===q?"default":"outline",onClick:()=>r("all"),children:["All (",a.length,")"]}),(0,b.jsxs)(e.Button,{variant:"pending"===q?"default":"outline",onClick:()=>r("pending"),children:["Pending (",a.filter(a=>!a.approved).length,")"]}),(0,b.jsxs)(e.Button,{variant:"approved"===q?"default":"outline",onClick:()=>r("approved"),children:["Approved (",a.filter(a=>a.approved).length,")"]})]}),0===w.length?(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"py-12",children:(0,b.jsx)("p",{className:"text-center text-gray-500",children:"No reviews found"})})}):(0,b.jsx)("div",{className:"space-y-4",children:w.map(a=>(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(c=>(0,b.jsx)(j.Star,{className:`w-4 h-4 ${c<=a.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},c))}),(0,b.jsx)(f.Badge,{variant:a.approved?"default":"secondary",children:a.approved?"Approved":"Pending"}),a.verified&&(0,b.jsx)(f.Badge,{variant:"outline",children:"Verified Purchase"})]}),a.title&&(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.title}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:a.comment}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-500",children:[(0,b.jsxs)("span",{children:["By ",a.user.name]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:a.user.email}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:new Date(a.createdAt).toLocaleDateString()})]}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsxs)(m.default,{href:`/product/${a.product.slug}`,className:"text-sm text-blue-600 hover:underline",children:["Product: ",a.product.name]})})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[!a.approved&&(0,b.jsxs)(e.Button,{size:"sm",variant:"default",onClick:()=>t(a.id),children:[(0,b.jsx)(h.Check,{className:"w-4 h-4 mr-1"}),"Approve"]}),a.approved&&(0,b.jsxs)(e.Button,{size:"sm",variant:"outline",onClick:()=>u(a.id),children:[(0,b.jsx)(i.X,{className:"w-4 h-4 mr-1"}),"Reject"]}),(0,b.jsxs)(e.Button,{size:"sm",variant:"destructive",onClick:()=>v(a.id),children:[(0,b.jsx)(k.Trash2,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})})},a.id))})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=_1480ba3b._.js.map
//# debugId=c795ac0a-0920-566c-9eeb-e5671fac281a
