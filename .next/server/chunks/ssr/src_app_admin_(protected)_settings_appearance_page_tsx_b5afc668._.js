module.exports=[109478,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(591119),e=a.i(699570),f=a.i(870430),g=a.i(596221),h=a.i(114548),i=a.i(154347),j=a.i(406704),k=a.i(875003),l=a.i(416424);function m(){let{data:a,status:m}=(0,k.useSession)(),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)({primary:"#111827",secondary:"#6b7280",accent:"#3b82f6",background:"#ffffff",surface:"#f9fafb",textPrimary:"#111827",textSecondary:"#6b7280",textMuted:"#9ca3af",border:"#e5e7eb",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"});(0,c.useEffect)(()=>{"authenticated"===m&&B()},[m]);let B=async()=>{try{o(!0);let a=await fetch("/api/themes/active");if(a.ok){let b=await a.json();b.theme&&(s(b.theme),A({primary:b.theme.colors?.primary||"#111827",secondary:b.theme.colors?.secondary||"#6b7280",accent:b.theme.colors?.accent||"#3b82f6",background:b.theme.colors?.background||"#ffffff",surface:b.theme.colors?.surface||"#f9fafb",textPrimary:b.theme.colors?.text?.primary||"#111827",textSecondary:b.theme.colors?.text?.secondary||"#6b7280",textMuted:b.theme.colors?.text?.muted||"#9ca3af",border:b.theme.colors?.border||"#e5e7eb",success:b.theme.colors?.success||"#10b981",warning:b.theme.colors?.warning||"#f59e0b",error:b.theme.colors?.error||"#ef4444",info:b.theme.colors?.info||"#3b82f6"}))}let b=await fetch("/api/admin/themes");if(b.ok){let a=await b.json(),c=a.themes?.find(a=>a.isActive);c&&(u(c.id),w(c.isBuiltIn||!1))}}catch(a){console.error("Error fetching theme:",a),j.default.error("Failed to load theme")}finally{o(!1)}},C=(a,b)=>{A(c=>({...c,[a]:b}))},D=async()=>{if(!t)return void j.default.error("No active theme found.");y(!0);try{let a=await fetch(`/api/admin/themes/${t}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:`${r?.metadata?.name||"Custom"} Theme`,activate:!0})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to create custom theme")}let{theme:b}=await a.json();j.default.success("Custom theme created and activated! You can now customize colors."),setTimeout(()=>{window.location.reload()},1e3)}catch(a){console.error("Error creating custom theme:",a),j.default.error(a.message||"Failed to create custom theme")}finally{y(!1)}},E=async a=>{if(a.preventDefault(),!t)return void j.default.error("No active theme found. Please activate a theme first.");if(v)return void j.default.error("Cannot edit built-in themes. Please create or activate a custom theme first.");q(!0);try{let a=await fetch(`/api/admin/themes/${t}`);if(!a.ok)throw Error("Failed to fetch theme");let{theme:b}=await a.json(),c=b.themeConfig||{},d={...c,colors:{...c.colors,primary:z.primary,secondary:z.secondary,accent:z.accent,background:z.background,surface:z.surface,text:{primary:z.textPrimary,secondary:z.textSecondary,muted:z.textMuted},border:z.border,success:z.success,warning:z.warning,error:z.error,info:z.info}},e=await fetch(`/api/admin/themes/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({themeConfig:d})});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to update theme")}j.default.success("Color palette updated successfully"),setTimeout(()=>{window.location.reload()},1e3)}catch(a){console.error("Error updating colors:",a),j.default.error(a.message||"Failed to update color palette")}finally{q(!1)}};return"loading"===m||n?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(g.Loader2,{className:"w-8 h-8 animate-spin"})}):t?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Appearance Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Customize your storefront color palette. Changes will apply to the active theme."})]}),v&&(0,b.jsx)(d.Card,{className:"border-amber-200 bg-amber-50",children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"text-amber-600 mt-0.5",children:"⚠️"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-amber-900 mb-1",children:"Built-in Theme"}),(0,b.jsx)("p",{className:"text-sm text-amber-800 mb-4",children:"You're currently using a built-in theme. To customize colors, create a custom copy of this theme."}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{type:"button",size:"sm",onClick:D,disabled:x,children:x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Palette,{className:"w-4 h-4 mr-2"}),"Create Custom Theme"]})}),(0,b.jsx)(e.Button,{type:"button",variant:"outline",size:"sm",asChild:!0,children:(0,b.jsx)("a",{href:"/admin/themes",children:"Go to Themes"})})]})]})]})})}),(0,b.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Primary Colors"}),(0,b.jsx)(d.CardDescription,{children:"Main brand colors used throughout the storefront"})]}),(0,b.jsx)(d.CardContent,{className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"primary",children:"Primary Color"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Main brand color for buttons and accents"}),(0,b.jsx)(l.CompactColorPicker,{value:z.primary,onChange:a=>C("primary",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"secondary",children:"Secondary Color"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Secondary brand color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.secondary,onChange:a=>C("secondary",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"accent",children:"Accent Color"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Highlight and accent color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.accent,onChange:a=>C("accent",a),disabled:v})]})]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Background Colors"}),(0,b.jsx)(d.CardDescription,{children:"Page and surface background colors"})]}),(0,b.jsx)(d.CardContent,{className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"background",children:"Background Color"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Main page background"}),(0,b.jsx)(l.CompactColorPicker,{value:z.background,onChange:a=>C("background",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"surface",children:"Surface Color"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Card and surface backgrounds"}),(0,b.jsx)(l.CompactColorPicker,{value:z.surface,onChange:a=>C("surface",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"border",children:"Border Color"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Border and divider color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.border,onChange:a=>C("border",a),disabled:v})]})]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Text Colors"}),(0,b.jsx)(d.CardDescription,{children:"Typography and text color hierarchy"})]}),(0,b.jsx)(d.CardContent,{className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"textPrimary",children:"Primary Text"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Main text color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.textPrimary,onChange:a=>C("textPrimary",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"textSecondary",children:"Secondary Text"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Secondary text color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.textSecondary,onChange:a=>C("textSecondary",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"textMuted",children:"Muted Text"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Muted/disabled text color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.textMuted,onChange:a=>C("textMuted",a),disabled:v})]})]})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Status Colors"}),(0,b.jsx)(d.CardDescription,{children:"Colors for success, warning, error, and info states"})]}),(0,b.jsx)(d.CardContent,{className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"success",children:"Success Color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.success,onChange:a=>C("success",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"warning",children:"Warning Color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.warning,onChange:a=>C("warning",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"error",children:"Error Color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.error,onChange:a=>C("error",a),disabled:v})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Label,{htmlFor:"info",children:"Info Color"}),(0,b.jsx)(l.CompactColorPicker,{value:z.info,onChange:a=>C("info",a),disabled:v})]})]})})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>B(),disabled:p,children:"Reset"}),(0,b.jsx)(e.Button,{type:"submit",disabled:p||v,children:p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Save,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Appearance Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Customize your storefront color palette"})]}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.Palette,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Active Theme"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Please activate a theme first to customize colors."}),(0,b.jsx)(e.Button,{asChild:!0,children:(0,b.jsx)("a",{href:"/admin/themes",children:"Go to Themes"})})]})})})]})}a.s(["default",()=>m])}];

!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9f6ef3be-2ff1-5b04-baf1-0a99d56ddcde")}catch(e){}}();
//# sourceMappingURL=src_app_admin_%28protected%29_settings_appearance_page_tsx_b5afc668._.js.map
//# debugId=9f6ef3be-2ff1-5b04-baf1-0a99d56ddcde
