{"version":3,"sources":["../../../../src/components/admin/cms/editor/PageEditor.tsx","../../../../src/components/admin/cms/editor/EnhancedEditorLayout.tsx","../../../../src/components/admin/cms/editor/PageSettingsForm.tsx","../../../../src/components/admin/cms/editor/DevicePreview.tsx","../../../../src/components/admin/cms/editor/SidebarBlock.tsx","../../../../node_modules/%40dnd-kit/accessibility/src/components/HiddenText/HiddenText.tsx","../../../../node_modules/%40dnd-kit/utilities/src/hooks/useCombinedRefs.ts","../../../../src/lib/normalizeBlockConfig.ts","../../../../node_modules/%40dnd-kit/core/src/components/DndMonitor/context.ts","../../../../node_modules/%40dnd-kit/sortable/src/utilities/arrayMove.ts","../../../../node_modules/%40dnd-kit/core/src/components/DndMonitor/useDndMonitor.ts","../../../../src/components/admin/cms/editor/SettingsTabs.tsx","../../../../src/components/admin/cms/editor/HistoryPanel.tsx","../../../../src/components/admin/cms/editor/NestedSortableBlock.tsx","../../../../src/types/editor.ts","../../../../src/hooks/useEnhancedPageEditor.ts","../../../../node_modules/%40dnd-kit/utilities/src/execution-context/canUseDOM.ts","../../../../src/lib/editor-utils.ts","../../../../node_modules/%40dnd-kit/utilities/src/type-guards/isWindow.ts","../../../../node_modules/%40dnd-kit/sortable/src/utilities/arraySwap.ts","../../../../node_modules/%40dnd-kit/accessibility/src/components/LiveRegion/LiveRegion.tsx","../../../../node_modules/%40dnd-kit/core/src/components/DndMonitor/useDndMonitorProvider.tsx","../../../../src/components/admin/cms/editor/Container.tsx","../../../../node_modules/%40dnd-kit/utilities/src/type-guards/isNode.ts","../../../../node_modules/%40dnd-kit/sortable/src/utilities/getSortedRects.ts","../../../../src/hooks/useKeyboardShortcuts.ts","../../../../node_modules/%40dnd-kit/utilities/src/execution-context/getWindow.ts","../../../../node_modules/%40dnd-kit/sortable/src/utilities/isValidIndex.ts","../../../../node_modules/%40dnd-kit/core/src/components/Accessibility/defaults.ts","../../../../node_modules/%40dnd-kit/sortable/src/utilities/itemsEqual.ts","../../../../src/components/admin/cms/editor/Finder.tsx","../../../../node_modules/%40dnd-kit/utilities/src/type-guards/isDocument.ts","../../../../node_modules/%40dnd-kit/accessibility/src/hooks/useAnnouncement.ts","../../../../src/components/admin/cms/editor/NestedCanvas.tsx","../../../../node_modules/%40dnd-kit/utilities/src/type-guards/isHTMLElement.ts","../../../../node_modules/%40dnd-kit/sortable/src/utilities/normalizeDisabled.ts","../../../../src/components/admin/cms/editor/Navigator.tsx","../../../../node_modules/%40dnd-kit/utilities/src/type-guards/isSVGElement.ts","../../../../node_modules/%40dnd-kit/utilities/src/execution-context/getOwnerDocument.ts","../../../../node_modules/%40dnd-kit/sortable/src/strategies/horizontalListSorting.ts","../../../../node_modules/%40dnd-kit/core/src/components/Accessibility/Accessibility.tsx","../../../../node_modules/%40dnd-kit/utilities/src/hooks/useIsomorphicLayoutEffect.ts","../../../../node_modules/%40dnd-kit/utilities/src/hooks/useEvent.ts","../../../../node_modules/%40dnd-kit/utilities/src/hooks/useInterval.ts","../../../../node_modules/%40dnd-kit/utilities/src/hooks/useLatestValue.ts","../../../../node_modules/%40dnd-kit/utilities/src/hooks/useLazyMemo.ts","../../../../node_modules/%40dnd-kit/sortable/src/strategies/rectSorting.ts","../../../../node_modules/%40dnd-kit/utilities/src/hooks/useNodeRef.ts","../../../../node_modules/%40dnd-kit/utilities/src/hooks/usePrevious.ts","../../../../node_modules/%40dnd-kit/sortable/src/strategies/rectSwapping.ts","../../../../node_modules/%40dnd-kit/utilities/src/hooks/useUniqueId.ts","../../../../node_modules/%40dnd-kit/core/src/store/actions.ts","../../../../node_modules/%40dnd-kit/utilities/src/adjustment.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/other/noop.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/useSensor.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/useSensors.ts","../../../../node_modules/%40dnd-kit/sortable/src/strategies/verticalListSorting.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/coordinates/constants.ts","../../../../node_modules/%40dnd-kit/utilities/src/event/hasViewportRelativeCoordinates.ts","../../../../node_modules/%40dnd-kit/utilities/src/event/isKeyboardEvent.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/coordinates/distanceBetweenPoints.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/coordinates/getRelativeTransformOrigin.ts","../../../../node_modules/%40dnd-kit/utilities/src/event/isTouchEvent.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/algorithms/helpers.ts","../../../../node_modules/%40dnd-kit/utilities/src/coordinates/getEventCoordinates.ts","../../../../node_modules/%40dnd-kit/utilities/src/css.ts","../../../../node_modules/%40dnd-kit/sortable/src/components/SortableContext.tsx","../../../../node_modules/%40dnd-kit/core/src/utilities/algorithms/closestCenter.ts","../../../../node_modules/%40dnd-kit/utilities/src/focus/findFirstFocusableNode.ts","../../../../node_modules/%40dnd-kit/sortable/src/hooks/defaults.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/algorithms/closestCorners.ts","../../../../node_modules/%40dnd-kit/sortable/src/hooks/utilities/useDerivedTransform.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/algorithms/rectIntersection.ts","../../../../node_modules/%40dnd-kit/sortable/src/hooks/useSortable.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/algorithms/pointerWithin.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/rect/adjustScale.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/rect/getRectDelta.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/rect/rectAdjustment.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/transform/parseTransform.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/transform/inverseTransform.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/rect/getRect.ts","../../../../node_modules/%40dnd-kit/sortable/src/types/type-guard.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/rect/getWindowClientRect.ts","../../../../node_modules/%40dnd-kit/sortable/src/sensors/keyboard/sortableKeyboardCoordinates.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/isFixed.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/isScrollable.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/getScrollableAncestors.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/getScrollableElement.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/getScrollCoordinates.ts","../../../../node_modules/%40dnd-kit/core/src/types/direction.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/documentScrollingElement.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/getScrollPosition.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/getScrollDirectionAndSpeed.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/getScrollElementRect.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/getScrollOffsets.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/scroll/scrollIntoViewIfNeeded.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/rect/Rect.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/utilities/Listeners.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/utilities/getEventListenerTarget.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/utilities/hasExceededDistance.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/events.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/keyboard/types.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/keyboard/defaults.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/keyboard/KeyboardSensor.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/pointer/AbstractPointerSensor.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/pointer/PointerSensor.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/mouse/MouseSensor.ts","../../../../node_modules/%40dnd-kit/core/src/sensors/touch/TouchSensor.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useAutoScroller.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useCachedNode.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useCombineActivators.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useDroppableMeasuring.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useInitialValue.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useInitialRect.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useMutationObserver.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useResizeObserver.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useRect.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useRectDelta.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useScrollableAncestors.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useScrollOffsets.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useScrollOffsetsDelta.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useSensorSetup.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useSyntheticListeners.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useWindowRect.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useRects.ts","../../../../node_modules/%40dnd-kit/core/src/utilities/nodes/getMeasurableNode.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/utilities/useDragOverlayMeasuring.ts","../../../../node_modules/%40dnd-kit/core/src/components/DndContext/defaults.ts","../../../../node_modules/%40dnd-kit/core/src/store/constructors.ts","../../../../node_modules/%40dnd-kit/core/src/store/context.ts","../../../../node_modules/%40dnd-kit/core/src/store/reducer.ts","../../../../node_modules/%40dnd-kit/core/src/components/Accessibility/components/RestoreFocus.tsx","../../../../node_modules/%40dnd-kit/core/src/modifiers/applyModifiers.ts","../../../../node_modules/%40dnd-kit/core/src/components/DndContext/hooks/useMeasuringConfiguration.ts","../../../../node_modules/%40dnd-kit/core/src/components/DndContext/hooks/useLayoutShiftScrollCompensation.ts","../../../../node_modules/%40dnd-kit/core/src/components/DndContext/DndContext.tsx","../../../../node_modules/%40dnd-kit/core/src/hooks/useDraggable.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/useDndContext.ts","../../../../node_modules/%40dnd-kit/core/src/hooks/useDroppable.ts","../../../../node_modules/%40dnd-kit/core/src/components/DragOverlay/components/AnimationManager/AnimationManager.tsx","../../../../node_modules/%40dnd-kit/core/src/components/DragOverlay/components/NullifiedContextProvider/NullifiedContextProvider.tsx","../../../../node_modules/%40dnd-kit/core/src/components/DragOverlay/components/PositionedOverlay/PositionedOverlay.tsx","../../../../node_modules/%40dnd-kit/core/src/components/DragOverlay/hooks/useDropAnimation.ts","../../../../node_modules/%40dnd-kit/core/src/components/DragOverlay/hooks/useKey.ts","../../../../node_modules/%40dnd-kit/core/src/components/DragOverlay/DragOverlay.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { EnhancedEditorLayout } from './EnhancedEditorLayout';\nimport { useEnhancedPageEditor } from '@/hooks/useEnhancedPageEditor';\nimport { normalizeBlockConfig } from '@/lib/normalizeBlockConfig';\nimport { EditorBlock, ContainerType } from '@/types/editor';\nimport { splitConfigIntoTabs } from '@/lib/editor-utils';\n\ninterface PageEditorProps {\n    page: {\n        id: string;\n        title: string;\n        slug: string;\n        blocks: any[];\n        overridesStorefrontPage?: boolean;\n        overriddenPageType?: string | null;\n        description?: string;\n        seoTitle?: string;\n        seoDescription?: string;\n        seoKeywords?: string;\n        status?: string;\n    };\n    templates: any[];\n}\n\nexport const PageEditor: React.FC<PageEditorProps> = ({\n    page,\n    templates\n}) => {\n    // Transform initial blocks to match new EditorBlock interface\n    const initialBlocks: EditorBlock[] = page.blocks.map(block => {\n        // Normalize config to ensure repeater fields are arrays\n        const normalizedConfig = block.template?.configSchema\n            ? normalizeBlockConfig(block.config || {}, block.template.configSchema)\n            : (block.config || {});\n\n        // If block has new structure, use it; otherwise split old config\n        let contentConfig, styleConfig, advancedConfig;\n\n        if (block.contentConfig) {\n            // Block already has new structure\n            contentConfig = block.contentConfig;\n            styleConfig = block.styleConfig || {};\n            advancedConfig = block.advancedConfig || {};\n        } else {\n            // Migrate from old config structure\n            const split = splitConfigIntoTabs(normalizedConfig, block.template?.configSchema);\n            contentConfig = split.contentConfig;\n            styleConfig = split.styleConfig;\n            advancedConfig = split.advancedConfig;\n        }\n\n        return {\n            id: block.id,\n            templateId: block.templateId,\n            containerType: block.containerType || ContainerType.BLOCK,\n            parentId: block.parentId || null,\n            contentConfig,\n            styleConfig,\n            advancedConfig,\n            layoutSettings: block.layoutSettings || undefined,\n            config: normalizedConfig, // Keep for backwards compatibility\n            order: block.order,\n            isVisible: block.isVisible !== false,\n            template: block.template\n        };\n    });\n\n    const editor = useEnhancedPageEditor({\n        pageId: page.id,\n        initialBlocks,\n        initialPageData: {\n            id: page.id,\n            title: page.title,\n            slug: page.slug,\n            description: page.description,\n            seoTitle: page.seoTitle,\n            seoDescription: page.seoDescription,\n            seoKeywords: page.seoKeywords,\n            status: page.status as any,\n            useBlockEditor: true,\n            overridesStorefrontPage: page.overridesStorefrontPage ?? false,\n            overriddenPageType: page.overriddenPageType || null,\n        },\n        templates: templates,\n        autoSaveEnabled: true,\n        autoSaveDelay: 2000,\n    });\n\n    return (\n        <EnhancedEditorLayout\n            pageTitle={editor.pageData.title || page.title}\n            pageId={page.id}\n            pageSlug={editor.pageData.slug || page.slug}\n            pageData={{\n                ...editor.pageData,\n                overridesStorefrontPage: editor.pageData.overridesStorefrontPage ?? page.overridesStorefrontPage ?? false,\n                overriddenPageType: editor.pageData.overriddenPageType ?? page.overriddenPageType ?? null,\n            }}\n            blocks={editor.blocks}\n            templates={templates}\n            selectedBlockId={editor.selectedBlockId}\n            hoveredBlockId={editor.hoveredBlockId}\n            deviceMode={editor.deviceMode}\n            isSaving={editor.isSaving}\n            isDirty={editor.isDirty}\n            autoSaveStatus={editor.autoSaveStatus}\n            canUndo={editor.canUndo}\n            canRedo={editor.canRedo}\n            clipboard={editor.clipboard}\n\n            // Block operations\n            onAddBlock={editor.addBlock}\n            onAddContainerBlock={editor.addContainerBlock}\n            onSelectBlock={editor.setSelectedBlockId}\n            onHoverBlock={editor.setHoveredBlockId}\n            onRemoveBlock={editor.removeBlock}\n            onReorderBlocks={editor.reorderBlocks}\n            onMoveBlock={editor.moveBlock}\n            onUpdateBlockConfig={editor.updateBlockConfig}\n            onDuplicateBlock={editor.duplicateBlock}\n            onToggleVisibility={editor.toggleBlockVisibility}\n\n            // Clipboard operations\n            onCopyBlock={editor.copyBlock}\n            onPasteBlock={editor.pasteBlock}\n            onCopyStyle={editor.copyStyle}\n            onPasteStyle={editor.pasteStyle}\n\n            // Page operations\n            onUpdatePageData={editor.updatePageData}\n            onSave={() => editor.savePage(false)}\n            onUndo={editor.undo}\n            onRedo={editor.redo}\n\n            // Device mode\n            onSetDeviceMode={editor.setDeviceMode}\n        />\n    );\n};\n","/**\r\n * Enhanced Editor Layout\r\n *\r\n * Complete Elementor-style editor layout with all new features integrated:\r\n * - Navigator panel with tree view\r\n * - Nested canvas with containers\r\n * - Three-tab settings panel\r\n * - Finder command palette (Ctrl+E)\r\n * - History panel (Ctrl+H)\r\n * - Keyboard shortcuts\r\n * - Context menus\r\n */\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  Save,\r\n  ArrowLeft,\r\n  Loader2,\r\n  Settings,\r\n  X,\r\n  PanelRightClose,\r\n  PanelRightOpen,\r\n  LayoutTemplate,\r\n  Eye,\r\n  PanelLeftClose,\r\n  PanelLeftOpen,\r\n  Search,\r\n  CheckCircle2,\r\n  AlertCircle,\r\n  Undo2,\r\n  Redo2,\r\n  Command,\r\n  History,\r\n  Plus,\r\n  Grid3x3,\r\n  Layers,\r\n  FileText,\r\n  Image,\r\n  Video,\r\n  Heading,\r\n  Mouse,\r\n  MessageSquare,\r\n  Palette,\r\n  Smartphone,\r\n  ShoppingCart,\r\n  Newspaper,\r\n} from 'lucide-react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { SidebarBlock } from './SidebarBlock';\r\nimport { NestedCanvas } from './NestedCanvas';\r\nimport { Navigator } from './Navigator';\r\nimport { SettingsTabs } from './SettingsTabs';\r\nimport { Finder, useFinder } from './Finder';\r\nimport { HistoryPanel, useHistoryPanel } from './HistoryPanel';\r\nimport { PageSettingsForm } from './PageSettingsForm';\r\nimport { EditorBlock, BlockTemplate, ContainerType, DeviceMode } from '@/types/editor';\r\nimport Link from 'next/link';\r\nimport { DevicePreview, DeviceType } from './DevicePreview';\r\nimport { useAdminSidebar } from '@/components/admin/AdminSidebarContext';\r\nimport { cn } from '@/lib/utils';\r\nimport { useKeyboardShortcuts, createEditorShortcuts } from '@/hooks/useKeyboardShortcuts';\r\nimport { useContextMenu, createBlockContextMenu } from './ContextMenu';\r\nimport { EditorHistory } from '@/types/editor';\r\n\r\ninterface EnhancedEditorLayoutProps {\r\n  pageTitle: string;\r\n  pageId: string;\r\n  pageSlug: string;\r\n  pageData: any;\r\n  blocks: EditorBlock[];\r\n  templates: BlockTemplate[];\r\n  selectedBlockId: string | null;\r\n  hoveredBlockId?: string | null;\r\n  deviceMode?: DeviceMode;\r\n  isSaving: boolean;\r\n  isDirty: boolean;\r\n  autoSaveStatus?: 'idle' | 'saving' | 'saved' | 'error';\r\n  history?: EditorHistory[];\r\n  historyIndex?: number;\r\n  canUndo?: boolean;\r\n  canRedo?: boolean;\r\n  clipboard?: any;\r\n\r\n  // Block operations\r\n  onAddBlock: (template: BlockTemplate, parentId?: string | null) => void;\r\n  onAddContainerBlock?: (containerType: ContainerType) => void;\r\n  onSelectBlock: (id: string) => void;\r\n  onHoverBlock?: (id: string | null) => void;\r\n  onRemoveBlock: (id: string) => void;\r\n  onReorderBlocks: (blocks: EditorBlock[]) => void;\r\n  onMoveBlock?: (blockId: string, newParentId: string | null, newOrder: number) => void;\r\n  onUpdateBlockConfig: (id: string, tab: 'content' | 'style' | 'advanced', config: any) => void;\r\n  onDuplicateBlock?: (blockId: string) => void;\r\n  onToggleVisibility?: (blockId: string) => void;\r\n\r\n  // Clipboard operations\r\n  onCopyBlock?: (blockId: string) => void;\r\n  onPasteBlock?: (parentId?: string | null) => void;\r\n  onCopyStyle?: (blockId: string) => void;\r\n  onPasteStyle?: (blockId: string) => void;\r\n\r\n  // Page operations\r\n  onUpdatePageData: (field: string, value: any) => void;\r\n  onSave: () => void;\r\n  onUndo?: () => void;\r\n  onRedo?: () => void;\r\n  onRestoreHistory?: (index: number) => void;\r\n\r\n  // Device\r\n  onSetDeviceMode?: (mode: DeviceMode) => void;\r\n}\r\n\r\nexport const EnhancedEditorLayout: React.FC<EnhancedEditorLayoutProps> = ({\r\n  pageTitle,\r\n  pageId,\r\n  pageSlug,\r\n  pageData,\r\n  blocks,\r\n  templates,\r\n  selectedBlockId,\r\n  hoveredBlockId,\r\n  deviceMode = DeviceMode.DESKTOP,\r\n  isSaving,\r\n  isDirty,\r\n  autoSaveStatus = 'idle',\r\n  history = [],\r\n  historyIndex = -1,\r\n  canUndo = false,\r\n  canRedo = false,\r\n  clipboard,\r\n  onAddBlock,\r\n  onAddContainerBlock,\r\n  onSelectBlock,\r\n  onHoverBlock,\r\n  onRemoveBlock,\r\n  onReorderBlocks,\r\n  onMoveBlock,\r\n  onUpdateBlockConfig,\r\n  onDuplicateBlock,\r\n  onToggleVisibility,\r\n  onCopyBlock,\r\n  onPasteBlock,\r\n  onCopyStyle,\r\n  onPasteStyle,\r\n  onUpdatePageData,\r\n  onSave,\r\n  onUndo,\r\n  onRedo,\r\n  onRestoreHistory,\r\n  onSetDeviceMode,\r\n}) => {\r\n  const selectedBlock = blocks.find((b) => b.id === selectedBlockId);\r\n  const [device, setDevice] = useState<DeviceType>(deviceMode as DeviceType);\r\n  const { setIsCollapsed } = useAdminSidebar();\r\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\r\n  const [isBlockLibraryOpen, setIsBlockLibraryOpen] = useState(true);\r\n  const [isNavigatorOpen, setIsNavigatorOpen] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  // Finder and History panels\r\n  const finder = useFinder();\r\n  const historyPanel = useHistoryPanel();\r\n\r\n  // Collapse admin sidebar on mount\r\n  useEffect(() => {\r\n    setIsCollapsed(true);\r\n    return () => setIsCollapsed(false);\r\n  }, [setIsCollapsed]);\r\n\r\n  // Sync device mode\r\n  useEffect(() => {\r\n    if (onSetDeviceMode) {\r\n      onSetDeviceMode(device as DeviceMode);\r\n    }\r\n  }, [device, onSetDeviceMode]);\r\n\r\n  // Keyboard shortcuts\r\n  const shortcuts = useMemo(\r\n    () =>\r\n      createEditorShortcuts({\r\n        onSave: () => {\r\n          if (isDirty && !isSaving) {\r\n            onSave();\r\n          }\r\n        },\r\n        onUndo,\r\n        onRedo,\r\n        onCopy: selectedBlockId && onCopyBlock ? () => onCopyBlock(selectedBlockId) : undefined,\r\n        onPaste: onPasteBlock,\r\n        onDuplicate: selectedBlockId && onDuplicateBlock ? () => onDuplicateBlock(selectedBlockId) : undefined,\r\n        onDelete: selectedBlockId ? () => onRemoveBlock(selectedBlockId) : undefined,\r\n        onOpenFinder: finder.open,\r\n        onOpenHistory: historyPanel.open,\r\n        onToggleDeviceMode: () => {\r\n          const modes: DeviceType[] = ['desktop', 'tablet', 'mobile'];\r\n          const currentIndex = modes.indexOf(device);\r\n          const nextIndex = (currentIndex + 1) % modes.length;\r\n          setDevice(modes[nextIndex]);\r\n        },\r\n        onDeselectAll: () => onSelectBlock(''),\r\n      }),\r\n    [isDirty, isSaving, onSave, onUndo, onRedo, selectedBlockId, onCopyBlock, onPasteBlock, onDuplicateBlock, onRemoveBlock, finder, historyPanel, device]\r\n  );\r\n\r\n  useKeyboardShortcuts({\r\n    enabled: true,\r\n    shortcuts,\r\n  });\r\n\r\n  // Toggle settings when block is selected\r\n  const handleBlockSelect = (id: string) => {\r\n    if (selectedBlockId === id && isSettingsOpen) {\r\n      setIsSettingsOpen(false);\r\n    } else {\r\n      onSelectBlock(id);\r\n      setIsSettingsOpen(true);\r\n    }\r\n  };\r\n\r\n  // Filter templates based on search query\r\n  const filteredTemplates = useMemo(() => {\r\n    if (!searchQuery.trim()) {\r\n      return templates;\r\n    }\r\n    const query = searchQuery.toLowerCase().trim();\r\n    return templates.filter((template) => {\r\n      const nameMatch = template.name?.toLowerCase().includes(query);\r\n      const descriptionMatch = template.description?.toLowerCase().includes(query);\r\n      const categoryMatch = template.category?.toLowerCase().replace('_', ' ').includes(query);\r\n      const slugMatch = template.slug?.toLowerCase().includes(query);\r\n      return nameMatch || descriptionMatch || categoryMatch || slugMatch;\r\n    });\r\n  }, [templates, searchQuery]);\r\n\r\n  // Group templates by category\r\n  const templatesByCategory = useMemo(() => {\r\n    return filteredTemplates.reduce((acc, template) => {\r\n      const category = template.category;\r\n      if (!acc[category]) acc[category] = [];\r\n      acc[category].push(template);\r\n      return acc;\r\n    }, {} as Record<string, BlockTemplate[]>);\r\n  }, [filteredTemplates]);\r\n\r\n  // Get icon for category\r\n  const getCategoryIcon = (category: string) => {\r\n    const iconClass = \"h-3.5 w-3.5 text-gray-500\";\r\n    switch (category) {\r\n      case 'HERO':\r\n        return <Heading className={iconClass} />;\r\n      case 'CONTENT':\r\n        return <FileText className={iconClass} />;\r\n      case 'FEATURES':\r\n        return <Layers className={iconClass} />;\r\n      case 'CTA':\r\n        return <Mouse className={iconClass} />;\r\n      case 'SOCIAL_PROOF':\r\n        return <MessageSquare className={iconClass} />;\r\n      case 'PRICING':\r\n        return <ShoppingCart className={iconClass} />;\r\n      case 'TEAM':\r\n      case 'STATS':\r\n        return <Palette className={iconClass} />;\r\n      case 'FORM':\r\n        return <MessageSquare className={iconClass} />;\r\n      case 'FAQ':\r\n        return <MessageSquare className={iconClass} />;\r\n      case 'GALLERY':\r\n        return <Image className={iconClass} />;\r\n      case 'NAVIGATION':\r\n      case 'LAYOUT':\r\n        return <LayoutTemplate className={iconClass} />;\r\n      case 'PRODUCT':\r\n        return <ShoppingCart className={iconClass} />;\r\n      case 'BLOG':\r\n        return <Newspaper className={iconClass} />;\r\n      case 'MEDIA':\r\n        return <Video className={iconClass} />;\r\n      default:\r\n        return <Layers className={iconClass} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 lg:left-[70px] z-30 bg-background flex flex-col\">\r\n      {/* Header */}\r\n      <header className=\"h-16 border-b flex items-center justify-between px-4 sm:px-6 bg-white/95 backdrop-blur-sm shrink-0 z-20 shadow-sm\">\r\n        <div className=\"flex items-center gap-6\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Link\r\n              href=\"/admin/cms/pages\"\r\n              className=\"p-2 hover:bg-gray-100 rounded-full transition-colors text-muted-foreground hover:text-foreground\"\r\n            >\r\n              <ArrowLeft className=\"h-5 w-5\" />\r\n            </Link>\r\n            <div className=\"flex flex-col\">\r\n              <h1 className=\"font-semibold text-base\">{pageData.title || pageTitle}</h1>\r\n              <span className=\"text-xs text-muted-foreground\">Page Editor</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"h-6 w-px bg-gray-200\" />\r\n\r\n          <DevicePreview device={device} onChange={setDevice} />\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 sm:gap-3 flex-wrap\">\r\n          {/* Finder Button */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={finder.open}\r\n            className=\"gap-2\"\r\n            title=\"Open Finder (Ctrl+E)\"\r\n          >\r\n            <Command className=\"h-4 w-4\" />\r\n            <span className=\"hidden md:inline\">Finder</span>\r\n          </Button>\r\n\r\n          {/* History Button */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={historyPanel.open}\r\n            className=\"gap-2\"\r\n            title=\"Open History (Ctrl+H)\"\r\n          >\r\n            <History className=\"h-4 w-4\" />\r\n            <span className=\"hidden md:inline\">History</span>\r\n          </Button>\r\n\r\n          <div className=\"h-6 w-px bg-gray-200\" />\r\n\r\n          {/* Container buttons */}\r\n          {onAddContainerBlock && (\r\n            <>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => onAddContainerBlock(ContainerType.SECTION)}\r\n                className=\"gap-2\"\r\n                title=\"Add Section Container\"\r\n              >\r\n                <Layers className=\"h-4 w-4\" />\r\n                <span className=\"hidden lg:inline\">Section</span>\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => onAddContainerBlock(ContainerType.GRID)}\r\n                className=\"gap-2\"\r\n                title=\"Add Grid Container\"\r\n              >\r\n                <Grid3x3 className=\"h-4 w-4\" />\r\n                <span className=\"hidden lg:inline\">Grid</span>\r\n              </Button>\r\n              <div className=\"h-6 w-px bg-gray-200\" />\r\n            </>\r\n          )}\r\n\r\n          {/* Page Settings */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => {\r\n              if (isSettingsOpen && !selectedBlockId) {\r\n                setIsSettingsOpen(false);\r\n              } else {\r\n                onSelectBlock('');\r\n                setIsSettingsOpen(true);\r\n              }\r\n            }}\r\n            className={cn('gap-2', isSettingsOpen && !selectedBlockId && 'bg-accent')}\r\n            title=\"Page Settings\"\r\n          >\r\n            <Settings className=\"h-4 w-4\" />\r\n            <span className=\"hidden md:inline\">Page</span>\r\n          </Button>\r\n\r\n          <div className=\"h-6 w-px bg-gray-200\" />\r\n\r\n          {/* Undo/Redo */}\r\n          {onUndo && onRedo && (\r\n            <>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={onUndo}\r\n                disabled={!canUndo}\r\n                title=\"Undo (Ctrl+Z)\"\r\n                className=\"h-8 w-8\"\r\n              >\r\n                <Undo2 className={cn('h-4 w-4', !canUndo && 'opacity-40')} />\r\n              </Button>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={onRedo}\r\n                disabled={!canRedo}\r\n                title=\"Redo (Ctrl+Y)\"\r\n                className=\"h-8 w-8\"\r\n              >\r\n                <Redo2 className={cn('h-4 w-4', !canRedo && 'opacity-40')} />\r\n              </Button>\r\n              <div className=\"h-6 w-px bg-gray-200\" />\r\n            </>\r\n          )}\r\n\r\n          {/* Auto-save status */}\r\n          {autoSaveStatus !== 'idle' && (\r\n            <div\r\n              className={cn(\r\n                'flex items-center gap-2 text-xs px-2 sm:px-3 py-1.5 rounded-md',\r\n                autoSaveStatus === 'saving' && 'bg-blue-50 text-blue-700',\r\n                autoSaveStatus === 'saved' && 'bg-green-50 text-green-700',\r\n                autoSaveStatus === 'error' && 'bg-red-50 text-red-700'\r\n              )}\r\n            >\r\n              {autoSaveStatus === 'saving' && (\r\n                <>\r\n                  <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\r\n                  <span className=\"hidden sm:inline\">Saving...</span>\r\n                </>\r\n              )}\r\n              {autoSaveStatus === 'saved' && (\r\n                <>\r\n                  <CheckCircle2 className=\"h-3.5 w-3.5\" />\r\n                  <span className=\"hidden sm:inline\">Saved</span>\r\n                </>\r\n              )}\r\n              {autoSaveStatus === 'error' && (\r\n                <>\r\n                  <AlertCircle className=\"h-3.5 w-3.5\" />\r\n                  <span className=\"hidden sm:inline\">Error</span>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Preview */}\r\n          <Link href={`/en/landing/${pageSlug}`} target=\"_blank\">\r\n            <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n              <Eye className=\"h-4 w-4\" />\r\n              Preview\r\n            </Button>\r\n          </Link>\r\n\r\n          {/* Save */}\r\n          <Button\r\n            size=\"sm\"\r\n            onClick={onSave}\r\n            disabled={!isDirty || isSaving}\r\n            className=\"min-w-[100px]\"\r\n            title={!isDirty ? 'No changes' : 'Save (Ctrl+S)'}\r\n          >\r\n            {isSaving ? (\r\n              <>\r\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                Saving...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Save className=\"mr-2 h-4 w-4\" />\r\n                Save\r\n              </>\r\n            )}\r\n          </Button>\r\n\r\n          {/* Toggle settings panel */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            onClick={() => setIsSettingsOpen(!isSettingsOpen)}\r\n            title={isSettingsOpen ? 'Close settings' : 'Open settings'}\r\n          >\r\n            {isSettingsOpen ? <PanelRightClose className=\"h-5 w-5\" /> : <PanelRightOpen className=\"h-5 w-5\" />}\r\n          </Button>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"flex-1 flex overflow-hidden relative min-h-0\">\r\n        {/* Left Sidebar - Navigator + Block Library */}\r\n        <div\r\n          className={cn(\r\n            'border-r flex flex-col bg-white shrink-0 shadow-sm transition-all duration-300 min-h-0',\r\n            isBlockLibraryOpen || isNavigatorOpen ? 'w-80' : 'w-0 border-r-0 overflow-hidden'\r\n          )}\r\n        >\r\n          {/* Navigator Panel */}\r\n          {isNavigatorOpen && (\r\n            <div className=\"h-1/2 border-b flex flex-col min-h-0\">\r\n              <Navigator\r\n                blocks={blocks}\r\n                selectedBlockId={selectedBlockId}\r\n                onSelectBlock={onSelectBlock}\r\n                onRemoveBlock={onRemoveBlock}\r\n                onDuplicateBlock={onDuplicateBlock}\r\n                onToggleVisibility={onToggleVisibility}\r\n                onReorderBlocks={onReorderBlocks}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Block Library */}\r\n          {isBlockLibraryOpen && (\r\n            <div className=\"flex-1 flex flex-col min-h-0 bg-white\">\r\n              <div className=\"p-3 border-b shrink-0\">\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"p-1.5 bg-primary/10 rounded\">\r\n                      <LayoutTemplate className=\"h-3.5 w-3.5 text-primary\" />\r\n                    </div>\r\n                    <h2 className=\"font-semibold text-sm\">Elements</h2>\r\n                  </div>\r\n                  <span className=\"text-xs text-muted-foreground\">\r\n                    {filteredTemplates.length} items\r\n                  </span>\r\n                </div>\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400\" />\r\n                  <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Search widgets...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className=\"pl-9 h-8 text-sm\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <ScrollArea className=\"flex-1 min-h-0\">\r\n                <div className=\"p-3 space-y-4\">\r\n                  {Object.entries(templatesByCategory).length === 0 ? (\r\n                    <div className=\"text-center py-8 text-sm text-muted-foreground\">\r\n                      No widgets found\r\n                    </div>\r\n                  ) : (\r\n                    Object.entries(templatesByCategory).map(([category, categoryTemplates]) => (\r\n                      <div key={category}>\r\n                        <div className=\"flex items-center gap-2 mb-2 px-1\">\r\n                          {getCategoryIcon(category)}\r\n                          <h3 className=\"text-xs font-semibold text-gray-700 uppercase tracking-wide\">\r\n                            {category.replace('_', ' ')}\r\n                          </h3>\r\n                          <span className=\"text-xs text-gray-400\">\r\n                            ({categoryTemplates.length})\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"grid grid-cols-2 gap-1.5\">\r\n                          {categoryTemplates.map((template) => (\r\n                            <SidebarBlock\r\n                              key={template.id}\r\n                              template={template}\r\n                              onAdd={() => {\r\n                                // Check if selected block is a container\r\n                                const selectedBlock = blocks.find(b => b.id === selectedBlockId);\r\n                                const isSelectedContainer = selectedBlock &&\r\n                                  (selectedBlock.containerType === 'SECTION' ||\r\n                                   selectedBlock.containerType === 'FLEXBOX' ||\r\n                                   selectedBlock.containerType === 'GRID');\r\n\r\n                                // If selected block is a container, add block to it\r\n                                if (isSelectedContainer) {\r\n                                  onAddBlock(template, selectedBlockId);\r\n                                } else {\r\n                                  onAddBlock(template);\r\n                                }\r\n                              }}\r\n                            />\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </ScrollArea>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Center - Canvas */}\r\n        <div className=\"flex-1 flex flex-col overflow-hidden bg-gradient-to-br from-gray-50 via-gray-100 to-gray-50\">\r\n          <ScrollArea className=\"flex-1 min-h-0\">\r\n            <div className={cn(\r\n              'min-h-full flex justify-center',\r\n              device === 'desktop' ? 'p-0' : 'py-6 px-4'\r\n            )}>\r\n              <NestedCanvas\r\n                blocks={blocks}\r\n                selectedBlockId={selectedBlockId}\r\n                hoveredBlockId={hoveredBlockId}\r\n                onSelectBlock={onSelectBlock}\r\n                onHoverBlock={onHoverBlock}\r\n                onToggleBlockSettings={handleBlockSelect}\r\n                onRemoveBlock={onRemoveBlock}\r\n                onReorderBlocks={onReorderBlocks}\r\n                onMoveBlock={onMoveBlock}\r\n                onDuplicateBlock={onDuplicateBlock}\r\n                onToggleVisibility={onToggleVisibility}\r\n                onAddBlockToContainer={(containerId) => {\r\n                  // Select the container\r\n                  onSelectBlock(containerId);\r\n                  // Open block library if closed\r\n                  if (!isBlockLibraryOpen) {\r\n                    setIsBlockLibraryOpen(true);\r\n                  }\r\n                }}\r\n                device={device}\r\n              />\r\n            </div>\r\n          </ScrollArea>\r\n        </div>\r\n\r\n        {/* Right Sidebar - Settings */}\r\n        <div\r\n          className={cn(\r\n            'w-96 border-l flex flex-col bg-white shrink-0 transition-all duration-300 min-h-0',\r\n            !isSettingsOpen && 'w-0 border-l-0 overflow-hidden'\r\n          )}\r\n        >\r\n          <div className=\"p-4 border-b flex items-center justify-between shrink-0\">\r\n            <h2 className=\"font-semibold text-sm\">\r\n              {selectedBlock ? selectedBlock.template?.name || 'Block' : 'Page Settings'}\r\n            </h2>\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => setIsSettingsOpen(false)} className=\"h-8 w-8\">\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n          {isSettingsOpen && (\r\n            <div className=\"flex-1 min-h-0\">\r\n              {selectedBlock ? (\r\n                <SettingsTabs\r\n                  block={selectedBlock}\r\n                  onUpdateConfig={(tab, config) => onUpdateBlockConfig(selectedBlock.id, tab, config)}\r\n                />\r\n              ) : (\r\n                <ScrollArea className=\"h-full\">\r\n                  <div className=\"p-4\">\r\n                    <PageSettingsForm pageData={pageData} onChange={onUpdatePageData} />\r\n                  </div>\r\n                </ScrollArea>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Finder Dialog */}\r\n      <Finder\r\n        isOpen={finder.isOpen}\r\n        onClose={finder.close}\r\n        blockTemplates={templates}\r\n        onAddBlock={onAddBlock}\r\n      />\r\n\r\n      {/* History Panel */}\r\n      <HistoryPanel\r\n        isOpen={historyPanel.isOpen}\r\n        onClose={historyPanel.close}\r\n        history={history}\r\n        currentIndex={historyIndex}\r\n        onRestoreToIndex={onRestoreHistory || (() => {})}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from '@/components/ui/select';\r\nimport { PageStatus } from '@prisma/client';\r\n\r\ninterface PageSettingsFormProps {\r\n    pageData: {\r\n        title: string;\r\n        slug: string;\r\n        description?: string;\r\n        seoTitle?: string;\r\n        seoDescription?: string;\r\n        seoKeywords?: string;\r\n        status: PageStatus;\r\n        overridesStorefrontPage?: boolean;\r\n        overriddenPageType?: string | null;\r\n    };\r\n    onChange: (field: string, value: any) => void;\r\n}\r\n\r\nexport const PageSettingsForm: React.FC<PageSettingsFormProps> = ({\r\n    pageData,\r\n    onChange,\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Basic Info */}\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <h3 className=\"font-semibold text-sm text-gray-900\">Basic Information</h3>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">Configure the basic page details</p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"title\">Page Title</Label>\r\n                    <Input\r\n                        id=\"title\"\r\n                        value={pageData.title}\r\n                        onChange={(e) => onChange('title', e.target.value)}\r\n                        placeholder=\"Enter page title\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"slug\">URL Slug</Label>\r\n                    <Input\r\n                        id=\"slug\"\r\n                        value={pageData.slug}\r\n                        onChange={(e) => onChange('slug', e.target.value)}\r\n                        placeholder=\"page-url-slug\"\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        {pageData.overridesStorefrontPage && pageData.overriddenPageType ? (\r\n                            <>\r\n                                This page overrides the <strong>{pageData.overriddenPageType}</strong> storefront page.\r\n                                {pageData.status !== 'PUBLISHED' && (\r\n                                    <span className=\"block mt-1 text-amber-600 font-medium\">\r\n                                        ⚠️ Page must be Published for override to take effect\r\n                                    </span>\r\n                                )}\r\n                            </>\r\n                        ) : (\r\n                            <>URL: /landing/{pageData.slug}</>\r\n                        )}\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"description\">Description</Label>\r\n                    <Textarea\r\n                        id=\"description\"\r\n                        value={pageData.description || ''}\r\n                        onChange={(e) => onChange('description', e.target.value)}\r\n                        placeholder=\"Brief description of the page\"\r\n                        rows={3}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"status\">Status</Label>\r\n                    <Select\r\n                        value={String(pageData.status || 'DRAFT')}\r\n                        onValueChange={(value) => onChange('status', value as PageStatus)}\r\n                    >\r\n                        <SelectTrigger id=\"status\" className=\"w-full\">\r\n                            <SelectValue placeholder=\"Select status\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent className=\"z-[100]\">\r\n                            <SelectItem value=\"DRAFT\">Draft</SelectItem>\r\n                            <SelectItem value=\"PUBLISHED\">Published</SelectItem>\r\n                            <SelectItem value=\"SCHEDULED\">Scheduled</SelectItem>\r\n                            <SelectItem value=\"ARCHIVED\">Archived</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n                    {pageData.overridesStorefrontPage && pageData.status !== 'PUBLISHED' && (\r\n                        <div className=\"mt-2 p-3 bg-amber-50 border border-amber-200 rounded-md\">\r\n                            <p className=\"text-xs text-amber-800\">\r\n                                <strong>Note:</strong> Storefront page overrides only work when the page status is <strong>Published</strong>. \r\n                                Change the status to Published to activate the override.\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* SEO Settings */}\r\n            <div className=\"space-y-4 pt-4 border-t\">\r\n                <div>\r\n                    <h3 className=\"font-semibold text-sm text-gray-900\">SEO Settings</h3>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">Optimize your page for search engines</p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"seoTitle\">SEO Title</Label>\r\n                    <Input\r\n                        id=\"seoTitle\"\r\n                        value={pageData.seoTitle || ''}\r\n                        onChange={(e) => onChange('seoTitle', e.target.value)}\r\n                        placeholder=\"Title for search engines\"\r\n                        maxLength={60}\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        {(pageData.seoTitle || '').length}/60 characters\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"seoDescription\">SEO Description</Label>\r\n                    <Textarea\r\n                        id=\"seoDescription\"\r\n                        value={pageData.seoDescription || ''}\r\n                        onChange={(e) => onChange('seoDescription', e.target.value)}\r\n                        placeholder=\"Description for search engines\"\r\n                        rows={3}\r\n                        maxLength={160}\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        {(pageData.seoDescription || '').length}/160 characters\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"seoKeywords\">SEO Keywords</Label>\r\n                    <Input\r\n                        id=\"seoKeywords\"\r\n                        value={pageData.seoKeywords || ''}\r\n                        onChange={(e) => onChange('seoKeywords', e.target.value)}\r\n                        placeholder=\"keyword1, keyword2, keyword3\"\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        Comma-separated keywords\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","'use client';\r\n\r\nimport React from 'react';\r\nimport { Monitor, Tablet, Smartphone } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport type DeviceType = 'desktop' | 'tablet' | 'mobile';\r\n\r\ninterface DevicePreviewProps {\r\n    device: DeviceType;\r\n    onChange: (device: DeviceType) => void;\r\n}\r\n\r\nexport const DevicePreview: React.FC<DevicePreviewProps> = ({\r\n    device,\r\n    onChange\r\n}) => {\r\n    return (\r\n        <div className=\"flex items-center bg-gray-100 p-1 rounded-lg border\">\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => onChange('desktop')}\r\n                className={cn(\r\n                    \"h-7 w-7 p-0 hover:bg-white hover:shadow-sm transition-all\",\r\n                    device === 'desktop' && \"bg-white shadow-sm text-primary\"\r\n                )}\r\n                title=\"Desktop View\"\r\n            >\r\n                <Monitor className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => onChange('tablet')}\r\n                className={cn(\r\n                    \"h-7 w-7 p-0 hover:bg-white hover:shadow-sm transition-all\",\r\n                    device === 'tablet' && \"bg-white shadow-sm text-primary\"\r\n                )}\r\n                title=\"Tablet View\"\r\n            >\r\n                <Tablet className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => onChange('mobile')}\r\n                className={cn(\r\n                    \"h-7 w-7 p-0 hover:bg-white hover:shadow-sm transition-all\",\r\n                    device === 'mobile' && \"bg-white shadow-sm text-primary\"\r\n                )}\r\n                title=\"Mobile View\"\r\n            >\r\n                <Smartphone className=\"h-4 w-4\" />\r\n            </Button>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { useDraggable } from '@dnd-kit/core';\r\nimport { cn } from '@/lib/utils';\r\nimport { GripVertical, Plus, Type, Image as ImageIcon, Layout, Box, Sparkles, Users, DollarSign, MessageSquare, HelpCircle, Grid3x3, Video, FileText, Megaphone, Navigation, Menu, Share2, Minus, ArrowRight } from 'lucide-react';\r\n\r\ninterface SidebarBlockProps {\r\n    template: any;\r\n    onAdd: () => void;\r\n}\r\n\r\nconst getIconForCategory = (category: string) => {\r\n    const cat = category.toLowerCase().replace('_', '');\r\n    switch (cat) {\r\n        case 'hero':\r\n            return Sparkles;\r\n        case 'content':\r\n        case 'text':\r\n            return FileText;\r\n        case 'features':\r\n            return Grid3x3;\r\n        case 'cta':\r\n        case 'calltoaction':\r\n            return Megaphone;\r\n        case 'testimonials':\r\n            return MessageSquare;\r\n        case 'pricing':\r\n            return DollarSign;\r\n        case 'team':\r\n            return Users;\r\n        case 'faq':\r\n            return HelpCircle;\r\n        case 'gallery':\r\n        case 'media':\r\n            return ImageIcon;\r\n        case 'video':\r\n            return Video;\r\n        case 'form':\r\n            return FileText;\r\n        case 'logo':\r\n        case 'logogrid':\r\n            return Grid3x3;\r\n        case 'stats':\r\n            return Grid3x3;\r\n        case 'layout':\r\n            return Layout;\r\n        case 'navigation':\r\n            return Navigation;\r\n        case 'header':\r\n            return Menu;\r\n        case 'footer':\r\n            return Layout;\r\n        case 'social':\r\n            return Share2;\r\n        case 'breadcrumbs':\r\n            return ArrowRight;\r\n        case 'divider':\r\n            return Minus;\r\n        case 'spacer':\r\n            return Box;\r\n        default:\r\n            return Box;\r\n    }\r\n};\r\n\r\nconst getCategoryColor = (category: string) => {\r\n    const cat = category.toLowerCase().replace('_', '');\r\n    switch (cat) {\r\n        case 'hero':\r\n            return 'bg-gradient-to-br from-purple-50 to-purple-100 text-purple-600';\r\n        case 'features':\r\n            return 'bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600';\r\n        case 'cta':\r\n        case 'calltoaction':\r\n            return 'bg-gradient-to-br from-orange-50 to-orange-100 text-orange-600';\r\n        case 'testimonials':\r\n            return 'bg-gradient-to-br from-green-50 to-green-100 text-green-600';\r\n        case 'pricing':\r\n            return 'bg-gradient-to-br from-yellow-50 to-yellow-100 text-yellow-600';\r\n        case 'team':\r\n            return 'bg-gradient-to-br from-pink-50 to-pink-100 text-pink-600';\r\n        case 'faq':\r\n            return 'bg-gradient-to-br from-indigo-50 to-indigo-100 text-indigo-600';\r\n        case 'form':\r\n            return 'bg-gradient-to-br from-teal-50 to-teal-100 text-teal-600';\r\n        case 'navigation':\r\n            return 'bg-gradient-to-br from-slate-50 to-slate-100 text-slate-600';\r\n        case 'header':\r\n            return 'bg-gradient-to-br from-slate-50 to-slate-100 text-slate-600';\r\n        case 'footer':\r\n            return 'bg-gradient-to-br from-slate-50 to-slate-100 text-slate-600';\r\n        case 'social':\r\n            return 'bg-gradient-to-br from-pink-50 to-pink-100 text-pink-600';\r\n        case 'breadcrumbs':\r\n            return 'bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600';\r\n        case 'divider':\r\n            return 'bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600';\r\n        case 'spacer':\r\n            return 'bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600';\r\n        default:\r\n            return 'bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600';\r\n    }\r\n};\r\n\r\nexport const SidebarBlock: React.FC<SidebarBlockProps> = ({ template, onAdd }) => {\r\n    const Icon = getIconForCategory(template.category);\r\n    const colorClass = getCategoryColor(template.category);\r\n\r\n    return (\r\n        <div\r\n            className=\"group relative flex flex-col items-center justify-center p-3 rounded-lg border-2 bg-white hover:border-primary hover:shadow-lg transition-all cursor-pointer h-28 text-center gap-2 overflow-hidden\"\r\n            onClick={onAdd}\r\n        >\r\n            {/* Background gradient on hover */}\r\n            <div className={cn(\r\n                \"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200\",\r\n                colorClass\r\n            )} />\r\n            \r\n            {/* Content */}\r\n            <div className=\"relative z-10 flex flex-col items-center gap-2 w-full\">\r\n                <div className={cn(\r\n                    \"p-2.5 rounded-lg transition-all duration-200\",\r\n                    colorClass,\r\n                    \"group-hover:scale-110 group-hover:shadow-md\"\r\n                )}>\r\n                    <Icon className=\"h-5 w-5\" />\r\n                </div>\r\n                <span className=\"text-xs font-semibold text-gray-700 group-hover:text-gray-900 line-clamp-2 leading-tight px-1\">\r\n                    {template.name}\r\n                </span>\r\n            </div>\r\n\r\n            {/* Add button */}\r\n            <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all transform translate-x-1 group-hover:translate-x-0\">\r\n                <div className=\"bg-primary text-white rounded-full p-1.5 shadow-lg\">\r\n                    <Plus className=\"h-3.5 w-3.5\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\n\ninterface Props {\n  id: string;\n  value: string;\n}\n\nconst hiddenStyles: React.CSSProperties = {\n  display: 'none',\n};\n\nexport function HiddenText({id, value}: Props) {\n  return (\n    <div id={id} style={hiddenStyles}>\n      {value}\n    </div>\n  );\n}\n","import {useMemo} from 'react';\n\nexport function useCombinedRefs<T>(\n  ...refs: ((node: T) => void)[]\n): (node: T) => void {\n  return useMemo(\n    () => (node: T) => {\n      refs.forEach((ref) => ref(node));\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    refs\n  );\n}\n","/**\r\n * Normalizes block configuration data to ensure repeater fields are always arrays\r\n * This prevents \"value.map is not a function\" errors when loading existing blocks\r\n */\r\nexport function normalizeBlockConfig(config: any, schema: any): any {\r\n    if (!config || !schema) return config;\r\n\r\n    const normalized = { ...config };\r\n    const schemaFields = schema.fields || [];\r\n\r\n    // Recursively normalize repeater fields\r\n    const normalizeRepeaterField = (field: any, value: any): any => {\r\n        if (field.type === 'repeater' && field.fields) {\r\n            // Ensure value is an array\r\n            const arrayValue = Array.isArray(value) ? value : (value ? [value] : []);\r\n            \r\n            // Normalize each item in the repeater\r\n            return arrayValue.map((item: any) => {\r\n                const normalizedItem: any = {};\r\n                field.fields.forEach((subField: any) => {\r\n                    if (subField.type === 'repeater') {\r\n                        // Handle nested repeaters\r\n                        normalizedItem[subField.name] = normalizeRepeaterField(\r\n                            subField,\r\n                            item[subField.name]\r\n                        );\r\n                    } else {\r\n                        normalizedItem[subField.name] = item[subField.name] ?? (subField.default ?? '');\r\n                    }\r\n                });\r\n                return normalizedItem;\r\n            });\r\n        }\r\n        return value;\r\n    };\r\n\r\n    // Normalize all fields in the config\r\n    schemaFields.forEach((field: any) => {\r\n        if (field.type === 'repeater') {\r\n            normalized[field.name] = normalizeRepeaterField(field, normalized[field.name]);\r\n        }\r\n    });\r\n\r\n    return normalized;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {createContext} from 'react';\n\nimport type {RegisterListener} from './types';\n\nexport const DndMonitorContext = createContext<RegisterListener | null>(null);\n","/**\n * Move an array item to a different position. Returns a new array with the item moved to the new position.\n */\nexport function arrayMove<T>(array: T[], from: number, to: number): T[] {\n  const newArray = array.slice();\n  newArray.splice(\n    to < 0 ? newArray.length + to : to,\n    0,\n    newArray.splice(from, 1)[0]\n  );\n\n  return newArray;\n}\n","import {useContext, useEffect} from 'react';\n\nimport {DndMonitorContext} from './context';\nimport type {DndMonitorListener} from './types';\n\nexport function useDndMonitor(listener: DndMonitorListener) {\n  const registerListener = useContext(DndMonitorContext);\n\n  useEffect(() => {\n    if (!registerListener) {\n      throw new Error(\n        'useDndMonitor must be used within a children of <DndContext>'\n      );\n    }\n\n    const unsubscribe = registerListener(listener);\n\n    return unsubscribe;\n  }, [listener, registerListener]);\n}\n","/**\r\n * Settings Tabs Component\r\n *\r\n * Three-tab configuration panel matching Elementor's UX:\r\n * - Content Tab: Text, images, links, and content settings\r\n * - Style Tab: Colors, typography, spacing, backgrounds\r\n * - Advanced Tab: Custom CSS, animations, positioning, responsive visibility\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { FileText, Palette, Settings2 } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { ConfigForm } from '../block-editor/ConfigForm';\r\nimport { EditorBlock } from '@/types/editor';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\n\r\ninterface SettingsTabsProps {\r\n  block: EditorBlock;\r\n  onUpdateConfig: (tab: 'content' | 'style' | 'advanced', config: any) => void;\r\n  className?: string;\r\n}\r\n\r\nexport const SettingsTabs: React.FC<SettingsTabsProps> = ({\r\n  block,\r\n  onUpdateConfig,\r\n  className,\r\n}) => {\r\n  const [activeTab, setActiveTab] = useState<'content' | 'style' | 'advanced'>('content');\r\n\r\n  // Get schema for the block\r\n  const schema = block.template?.configSchema;\r\n\r\n  // If schema has tabs defined, use them\r\n  if (schema?.tabs) {\r\n    return (\r\n      <div className={cn('h-full flex flex-col overflow-hidden', className)}>\r\n        <Tabs value={activeTab} onValueChange={(value) => setActiveTab(value as any)} className=\"flex-1 flex flex-col overflow-hidden\">\r\n          <TabsList className=\"grid w-full grid-cols-3 h-auto p-1 bg-gray-100 shrink-0\">\r\n            {schema.tabs.map((tab: any) => (\r\n              <TabsTrigger\r\n                key={tab.id}\r\n                value={tab.id}\r\n                className={cn(\r\n                  'flex items-center gap-2 py-2.5 text-xs font-medium transition-all',\r\n                  'data-[state=active]:bg-white data-[state=active]:shadow-sm'\r\n                )}\r\n              >\r\n                {getTabIcon(tab.id)}\r\n                <span>{tab.label}</span>\r\n              </TabsTrigger>\r\n            ))}\r\n          </TabsList>\r\n\r\n          <div className=\"flex-1 overflow-hidden min-h-0\">\r\n            {schema.tabs.map((tab: any) => (\r\n              <TabsContent\r\n                key={tab.id}\r\n                value={tab.id}\r\n                className=\"h-full mt-0 data-[state=inactive]:hidden\"\r\n              >\r\n                <ScrollArea className=\"h-full\">\r\n                  <div className=\"p-4 pb-8\">\r\n                    {tab.sections ? (\r\n                      // Render sections\r\n                      <div className=\"space-y-4\">\r\n                        {tab.sections.map((section: any) => (\r\n                          <div key={section.id} className=\"space-y-3\">\r\n                            <h3 className=\"text-sm font-semibold text-gray-900 flex items-center gap-2\">\r\n                              {section.icon && <span>{section.icon}</span>}\r\n                              {section.label}\r\n                            </h3>\r\n                            <ConfigForm\r\n                              schema={{ fields: section.fields }}\r\n                              config={getConfigForTab(block, tab.id)}\r\n                              onChange={(newConfig) => onUpdateConfig(tab.id, newConfig)}\r\n                            />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : tab.fields ? (\r\n                      // Render fields directly\r\n                      <ConfigForm\r\n                        schema={{ fields: tab.fields }}\r\n                        config={getConfigForTab(block, tab.id)}\r\n                        onChange={(newConfig) => onUpdateConfig(tab.id, newConfig)}\r\n                      />\r\n                    ) : null}\r\n                  </div>\r\n                </ScrollArea>\r\n              </TabsContent>\r\n            ))}\r\n          </div>\r\n        </Tabs>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Fallback: Auto-organize fields into tabs based on naming conventions\r\n  const contentFields = schema?.fields?.filter((f: any) => !isStyleField(f) && !isAdvancedField(f)) || [];\r\n  const styleFields = schema?.fields?.filter((f: any) => isStyleField(f)) || [];\r\n  const advancedFields = schema?.fields?.filter((f: any) => isAdvancedField(f)) || [];\r\n\r\n  return (\r\n    <div className={cn('h-full flex flex-col overflow-hidden', className)}>\r\n      <Tabs value={activeTab} onValueChange={(value) => setActiveTab(value as any)} className=\"flex-1 flex flex-col overflow-hidden\">\r\n        <TabsList className=\"grid w-full grid-cols-3 h-auto p-1 bg-gray-100 shrink-0\">\r\n          <TabsTrigger\r\n            value=\"content\"\r\n            className=\"flex items-center gap-2 py-2.5 text-xs font-medium data-[state=active]:bg-white data-[state=active]:shadow-sm\"\r\n          >\r\n            <FileText className=\"w-3.5 h-3.5\" />\r\n            <span>Content</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"style\"\r\n            className=\"flex items-center gap-2 py-2.5 text-xs font-medium data-[state=active]:bg-white data-[state=active]:shadow-sm\"\r\n          >\r\n            <Palette className=\"w-3.5 h-3.5\" />\r\n            <span>Style</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"advanced\"\r\n            className=\"flex items-center gap-2 py-2.5 text-xs font-medium data-[state=active]:bg-white data-[state=active]:shadow-sm\"\r\n          >\r\n            <Settings2 className=\"w-3.5 h-3.5\" />\r\n            <span>Advanced</span>\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <div className=\"flex-1 overflow-hidden min-h-0\">\r\n          <TabsContent value=\"content\" className=\"h-full mt-0 data-[state=inactive]:hidden\">\r\n            <ScrollArea className=\"h-full\">\r\n              <div className=\"p-4 pb-8\">\r\n                {contentFields.length > 0 ? (\r\n                  <ConfigForm\r\n                    schema={{ fields: contentFields }}\r\n                    config={block.contentConfig}\r\n                    onChange={(newConfig) => onUpdateConfig('content', newConfig)}\r\n                  />\r\n                ) : (\r\n                  <EmptyTabState\r\n                    title=\"No Content Settings\"\r\n                    description=\"This block doesn't have any content settings to configure.\"\r\n                  />\r\n                )}\r\n              </div>\r\n            </ScrollArea>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"style\" className=\"h-full mt-0 data-[state=inactive]:hidden\">\r\n            <ScrollArea className=\"h-full\">\r\n              <div className=\"p-4 pb-8\">\r\n                {styleFields.length > 0 ? (\r\n                  <ConfigForm\r\n                    schema={{ fields: styleFields }}\r\n                    config={block.styleConfig || {}}\r\n                    onChange={(newConfig) => onUpdateConfig('style', newConfig)}\r\n                  />\r\n                ) : (\r\n                  <>\r\n                    <StyleTabDefaults\r\n                      config={block.styleConfig || {}}\r\n                      onChange={(newConfig) => onUpdateConfig('style', newConfig)}\r\n                    />\r\n                  </>\r\n                )}\r\n              </div>\r\n            </ScrollArea>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"advanced\" className=\"h-full mt-0 data-[state=inactive]:hidden\">\r\n            <ScrollArea className=\"h-full\">\r\n              <div className=\"p-4 pb-8\">\r\n                {advancedFields.length > 0 ? (\r\n                  <ConfigForm\r\n                    schema={{ fields: advancedFields }}\r\n                    config={block.advancedConfig || {}}\r\n                    onChange={(newConfig) => onUpdateConfig('advanced', newConfig)}\r\n                  />\r\n                ) : (\r\n                  <AdvancedTabDefaults\r\n                    config={block.advancedConfig || {}}\r\n                    onChange={(newConfig) => onUpdateConfig('advanced', newConfig)}\r\n                  />\r\n                )}\r\n              </div>\r\n            </ScrollArea>\r\n          </TabsContent>\r\n        </div>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Get icon for tab\r\n */\r\nfunction getTabIcon(tabId: string) {\r\n  switch (tabId) {\r\n    case 'content':\r\n      return <FileText className=\"w-3.5 h-3.5\" />;\r\n    case 'style':\r\n      return <Palette className=\"w-3.5 h-3.5\" />;\r\n    case 'advanced':\r\n      return <Settings2 className=\"w-3.5 h-3.5\" />;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Get config for specific tab\r\n */\r\nfunction getConfigForTab(block: EditorBlock, tabId: string): any {\r\n  switch (tabId) {\r\n    case 'content':\r\n      return block.contentConfig;\r\n    case 'style':\r\n      return block.styleConfig || {};\r\n    case 'advanced':\r\n      return block.advancedConfig || {};\r\n    default:\r\n      return {};\r\n  }\r\n}\r\n\r\n/**\r\n * Check if field belongs to style tab\r\n */\r\nfunction isStyleField(field: any): boolean {\r\n  const styleKeywords = [\r\n    'color',\r\n    'background',\r\n    'font',\r\n    'text',\r\n    'padding',\r\n    'margin',\r\n    'border',\r\n    'shadow',\r\n    'size',\r\n    'width',\r\n    'height',\r\n    'spacing',\r\n    'typography',\r\n    'align',\r\n    'radius',\r\n  ];\r\n\r\n  return styleKeywords.some((keyword) =>\r\n    field.name.toLowerCase().includes(keyword)\r\n  );\r\n}\r\n\r\n/**\r\n * Check if field belongs to advanced tab\r\n */\r\nfunction isAdvancedField(field: any): boolean {\r\n  const advancedKeywords = [\r\n    'animation',\r\n    'custom',\r\n    'css',\r\n    'class',\r\n    'position',\r\n    'zindex',\r\n    'overflow',\r\n    'transform',\r\n    'transition',\r\n  ];\r\n\r\n  return advancedKeywords.some((keyword) =>\r\n    field.name.toLowerCase().includes(keyword)\r\n  );\r\n}\r\n\r\n/**\r\n * Empty tab state component\r\n */\r\ninterface EmptyTabStateProps {\r\n  title: string;\r\n  description: string;\r\n}\r\n\r\nconst EmptyTabState: React.FC<EmptyTabStateProps> = ({ title, description }) => (\r\n  <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n    <div className=\"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-3\">\r\n      <Settings2 className=\"w-6 h-6 text-gray-400\" />\r\n    </div>\r\n    <h3 className=\"text-sm font-medium text-gray-900 mb-1\">{title}</h3>\r\n    <p className=\"text-xs text-gray-500 max-w-xs\">{description}</p>\r\n  </div>\r\n);\r\n\r\n/**\r\n * Style tab with default controls\r\n */\r\ninterface StyleTabDefaultsProps {\r\n  config: any;\r\n  onChange: (config: any) => void;\r\n}\r\n\r\nconst StyleTabDefaults: React.FC<StyleTabDefaultsProps> = ({ config, onChange }) => {\r\n  const defaultStyleSchema = {\r\n    fields: [\r\n      {\r\n        type: 'color',\r\n        name: 'backgroundColor',\r\n        label: 'Background Color',\r\n        defaultValue: '',\r\n      },\r\n      {\r\n        type: 'color',\r\n        name: 'textColor',\r\n        label: 'Text Color',\r\n        defaultValue: '',\r\n      },\r\n      {\r\n        type: 'number',\r\n        name: 'padding',\r\n        label: 'Padding (px)',\r\n        min: 0,\r\n        max: 200,\r\n        defaultValue: 0,\r\n      },\r\n      {\r\n        type: 'number',\r\n        name: 'margin',\r\n        label: 'Margin (px)',\r\n        min: 0,\r\n        max: 200,\r\n        defaultValue: 0,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return <ConfigForm schema={defaultStyleSchema} config={config} onChange={onChange} />;\r\n};\r\n\r\n/**\r\n * Advanced tab with default controls\r\n */\r\ninterface AdvancedTabDefaultsProps {\r\n  config: any;\r\n  onChange: (config: any) => void;\r\n}\r\n\r\nconst AdvancedTabDefaults: React.FC<AdvancedTabDefaultsProps> = ({ config, onChange }) => {\r\n  const defaultAdvancedSchema = {\r\n    fields: [\r\n      {\r\n        type: 'textarea',\r\n        name: 'customCss',\r\n        label: 'Custom CSS',\r\n        placeholder: '/* Add custom CSS here */',\r\n        defaultValue: '',\r\n      },\r\n      {\r\n        type: 'text',\r\n        name: 'customClasses',\r\n        label: 'CSS Classes',\r\n        placeholder: 'class-1 class-2',\r\n        defaultValue: '',\r\n      },\r\n      {\r\n        type: 'toggle',\r\n        name: 'hideOnMobile',\r\n        label: 'Hide on Mobile',\r\n        defaultValue: false,\r\n      },\r\n      {\r\n        type: 'toggle',\r\n        name: 'hideOnTablet',\r\n        label: 'Hide on Tablet',\r\n        defaultValue: false,\r\n      },\r\n      {\r\n        type: 'toggle',\r\n        name: 'hideOnDesktop',\r\n        label: 'Hide on Desktop',\r\n        defaultValue: false,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return <ConfigForm schema={defaultAdvancedSchema} config={config} onChange={onChange} />;\r\n};\r\n","/**\r\n * History Panel Component\r\n *\r\n * Visual history of all actions with timestamps.\r\n * Allows clicking any action to restore that state.\r\n * Similar to Elementor's History panel (Ctrl+H).\r\n */\r\n\r\nimport React, { useMemo } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport {\r\n  History,\r\n  Plus,\r\n  Trash2,\r\n  Copy,\r\n  Move,\r\n  Edit,\r\n  Eye,\r\n  EyeOff,\r\n  RotateCcw,\r\n  X,\r\n  Clock,\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { cn } from '@/lib/utils';\r\nimport { EditorHistory } from '@/types/editor';\r\n\r\ninterface HistoryPanelProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  history: EditorHistory[];\r\n  currentIndex: number;\r\n  onRestoreToIndex: (index: number) => void;\r\n  onClearHistory?: () => void;\r\n}\r\n\r\nexport const HistoryPanel: React.FC<HistoryPanelProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  history,\r\n  currentIndex,\r\n  onRestoreToIndex,\r\n  onClearHistory,\r\n}) => {\r\n  // Group history by time periods\r\n  const groupedHistory = useMemo(() => {\r\n    const now = Date.now();\r\n    const groups: {\r\n      label: string;\r\n      items: Array<{ index: number; item: EditorHistory }>;\r\n    }[] = [];\r\n\r\n    const today: Array<{ index: number; item: EditorHistory }> = [];\r\n    const yesterday: Array<{ index: number; item: EditorHistory }> = [];\r\n    const thisWeek: Array<{ index: number; item: EditorHistory }> = [];\r\n    const older: Array<{ index: number; item: EditorHistory }> = [];\r\n\r\n    history.forEach((item, index) => {\r\n      const diff = now - item.timestamp;\r\n      const dayInMs = 24 * 60 * 60 * 1000;\r\n\r\n      if (diff < dayInMs) {\r\n        today.push({ index, item });\r\n      } else if (diff < 2 * dayInMs) {\r\n        yesterday.push({ index, item });\r\n      } else if (diff < 7 * dayInMs) {\r\n        thisWeek.push({ index, item });\r\n      } else {\r\n        older.push({ index, item });\r\n      }\r\n    });\r\n\r\n    if (today.length > 0) groups.push({ label: 'Today', items: today.reverse() });\r\n    if (yesterday.length > 0) groups.push({ label: 'Yesterday', items: yesterday.reverse() });\r\n    if (thisWeek.length > 0) groups.push({ label: 'This Week', items: thisWeek.reverse() });\r\n    if (older.length > 0) groups.push({ label: 'Older', items: older.reverse() });\r\n\r\n    return groups;\r\n  }, [history]);\r\n\r\n  if (!isOpen) return null;\r\n  if (typeof window === 'undefined') return null;\r\n\r\n  return createPortal(\r\n    <div className=\"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200\">\r\n      <div className=\"w-full max-w-md bg-white sm:rounded-xl shadow-2xl border border-gray-200 overflow-hidden animate-in slide-in-from-bottom sm:zoom-in-95 duration-200 max-h-[90vh] sm:max-h-[80vh] flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between px-4 py-3 border-b bg-gray-50\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <History className=\"w-5 h-5 text-gray-700\" />\r\n            <h2 className=\"font-semibold text-gray-900\">History</h2>\r\n            <span className=\"text-xs text-gray-500\">({history.length} actions)</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            {onClearHistory && history.length > 0 && (\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={onClearHistory}\r\n                className=\"h-8 px-2 text-xs text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n              >\r\n                Clear All\r\n              </Button>\r\n            )}\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={onClose} className=\"h-8 w-8\">\r\n              <X className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* History List */}\r\n        <ScrollArea className=\"flex-1\">\r\n          {history.length > 0 ? (\r\n            <div className=\"p-2\">\r\n              {groupedHistory.map((group) => (\r\n                <div key={group.label} className=\"mb-4\">\r\n                  <div className=\"px-2 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider\">\r\n                    {group.label}\r\n                  </div>\r\n                  <div className=\"space-y-0.5\">\r\n                    {group.items.map(({ index, item }) => (\r\n                      <HistoryItem\r\n                        key={index}\r\n                        item={item}\r\n                        index={index}\r\n                        isCurrent={index === currentIndex}\r\n                        onClick={() => onRestoreToIndex(index)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n              <Clock className=\"w-12 h-12 text-gray-300 mb-3\" />\r\n              <p className=\"text-sm text-gray-500\">No history yet</p>\r\n              <p className=\"text-xs text-gray-400 mt-1\">\r\n                Actions you perform will appear here\r\n              </p>\r\n            </div>\r\n          )}\r\n        </ScrollArea>\r\n\r\n        {/* Footer */}\r\n        <div className=\"px-4 py-3 border-t bg-gray-50 text-xs text-gray-500\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span>Click any action to restore</span>\r\n            <kbd className=\"px-2 py-1 bg-white border rounded font-mono\">Ctrl+H</kbd>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n};\r\n\r\n/**\r\n * History Item Component\r\n */\r\ninterface HistoryItemProps {\r\n  item: EditorHistory;\r\n  index: number;\r\n  isCurrent: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nconst HistoryItem: React.FC<HistoryItemProps> = ({ item, index, isCurrent, onClick }) => {\r\n  const actionLabel = getActionLabel(item);\r\n  const icon = getActionIcon(item);\r\n  const time = formatTime(item.timestamp);\r\n\r\n  return (\r\n    <button\r\n      className={cn(\r\n        'w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-all',\r\n        isCurrent\r\n          ? 'bg-primary/10 border-l-2 border-primary'\r\n          : 'hover:bg-gray-100 border-l-2 border-transparent'\r\n      )}\r\n      onClick={onClick}\r\n    >\r\n      {/* Icon */}\r\n      <div\r\n        className={cn(\r\n          'flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center',\r\n          isCurrent ? 'bg-primary/20 text-primary' : 'bg-gray-100 text-gray-600'\r\n        )}\r\n      >\r\n        {icon}\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        <p className=\"text-sm font-medium text-gray-900 truncate\">{actionLabel}</p>\r\n        <p className=\"text-xs text-gray-500\">{time}</p>\r\n      </div>\r\n\r\n      {/* Current indicator */}\r\n      {isCurrent && (\r\n        <div className=\"flex-shrink-0 w-2 h-2 bg-primary rounded-full animate-pulse\" />\r\n      )}\r\n    </button>\r\n  );\r\n};\r\n\r\n/**\r\n * Get action label from history item\r\n */\r\nfunction getActionLabel(item: EditorHistory): string {\r\n  const blockCount = item.blocks.length;\r\n\r\n  // Try to determine the action type by comparing with previous state\r\n  // This is simplified - in a real implementation, you'd store the action type\r\n  if (blockCount === 0) {\r\n    return 'Page created';\r\n  }\r\n\r\n  return `${blockCount} block${blockCount !== 1 ? 's' : ''}`;\r\n}\r\n\r\n/**\r\n * Get icon for action type\r\n */\r\nfunction getActionIcon(item: EditorHistory): React.ReactNode {\r\n  // This is simplified - in a real implementation, you'd have the action type stored\r\n  const blockCount = item.blocks.length;\r\n\r\n  if (blockCount === 0) {\r\n    return <Plus className=\"w-4 h-4\" />;\r\n  }\r\n\r\n  return <Edit className=\"w-4 h-4\" />;\r\n}\r\n\r\n/**\r\n * Format timestamp\r\n */\r\nfunction formatTime(timestamp: number): string {\r\n  const date = new Date(timestamp);\r\n  const now = new Date();\r\n  const diff = now.getTime() - date.getTime();\r\n\r\n  // Less than 1 minute\r\n  if (diff < 60000) {\r\n    return 'Just now';\r\n  }\r\n\r\n  // Less than 1 hour\r\n  if (diff < 3600000) {\r\n    const minutes = Math.floor(diff / 60000);\r\n    return `${minutes} minute${minutes !== 1 ? 's' : ''} ago`;\r\n  }\r\n\r\n  // Less than 24 hours\r\n  if (diff < 86400000) {\r\n    const hours = Math.floor(diff / 3600000);\r\n    return `${hours} hour${hours !== 1 ? 's' : ''} ago`;\r\n  }\r\n\r\n  // Same day\r\n  if (date.toDateString() === now.toDateString()) {\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  }\r\n\r\n  // This week\r\n  const daysDiff = Math.floor(diff / 86400000);\r\n  if (daysDiff < 7) {\r\n    return `${daysDiff} day${daysDiff !== 1 ? 's' : ''} ago`;\r\n  }\r\n\r\n  // Older\r\n  return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\r\n}\r\n\r\n/**\r\n * useHistoryPanel Hook\r\n */\r\nexport function useHistoryPanel() {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n  const open = () => setIsOpen(true);\r\n  const close = () => setIsOpen(false);\r\n  const toggle = () => setIsOpen((prev) => !prev);\r\n\r\n  return { isOpen, open, close, toggle };\r\n}\r\n","/**\r\n * Nested Sortable Block Component\r\n *\r\n * Enhanced version of SortableBlock with support for nested containers,\r\n * drop zones, and Elementor-style interactions.\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { useSortable, SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable';\r\nimport { useDroppable } from '@dnd-kit/core';\r\nimport { CSS } from '@dnd-kit/utilities';\r\nimport {\r\n  GripVertical,\r\n  Trash2,\r\n  Settings,\r\n  Move,\r\n  Copy,\r\n  Eye,\r\n  EyeOff,\r\n  ChevronDown,\r\n  ChevronRight,\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { cn } from '@/lib/utils';\r\nimport { BlockPreview } from '../block-editor/BlockPreview';\r\nimport { Container, ContainerLabel } from './Container';\r\nimport { EditorBlock, ContainerType } from '@/types/editor';\r\nimport { isContainer } from '@/lib/editor-utils';\r\n\r\ninterface NestedSortableBlockProps {\r\n  block: EditorBlock;\r\n  isSelected: boolean;\r\n  isHovered?: boolean;\r\n  onSelect: () => void;\r\n  onHover?: (blockId: string | null) => void;\r\n  onToggleSettings?: () => void;\r\n  onRemove: () => void;\r\n  onDuplicate?: () => void;\r\n  onToggleVisibility?: () => void;\r\n  onAddBlockToContainer?: (containerId: string) => void;\r\n  depth?: number;\r\n  renderChildren?: (blocks: EditorBlock[]) => React.ReactNode;\r\n}\r\n\r\nexport const NestedSortableBlock: React.FC<NestedSortableBlockProps> = ({\r\n  block,\r\n  isSelected,\r\n  isHovered = false,\r\n  onSelect,\r\n  onHover,\r\n  onToggleSettings,\r\n  onRemove,\r\n  onDuplicate,\r\n  onToggleVisibility,\r\n  onAddBlockToContainer,\r\n  depth = 0,\r\n  renderChildren,\r\n}) => {\r\n  const [isExpanded, setIsExpanded] = useState(true);\r\n  const hasChildren = block.children && block.children.length > 0;\r\n  const blockIsContainer = isContainer(block);\r\n\r\n  // Sortable for dragging the block itself\r\n  const {\r\n    attributes,\r\n    listeners,\r\n    setNodeRef,\r\n    transform,\r\n    transition,\r\n    isDragging,\r\n  } = useSortable({ id: block.id });\r\n\r\n  // Droppable for accepting children (only if it's a container)\r\n  const { setNodeRef: setDroppableRef, isOver } = useDroppable({\r\n    id: `droppable-${block.id}`,\r\n    disabled: !blockIsContainer,\r\n    data: {\r\n      type: 'container',\r\n      accepts: 'block',\r\n      blockId: block.id,\r\n    },\r\n  });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    zIndex: isDragging ? 100 : 'auto',\r\n    opacity: isDragging ? 0.5 : 1,\r\n  };\r\n\r\n  const handleMouseEnter = () => {\r\n    if (onHover && !isDragging) {\r\n      onHover(block.id);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (onHover && !isDragging) {\r\n      onHover(null);\r\n    }\r\n  };\r\n\r\n  // Render block content (either preview or container with children)\r\n  const renderBlockContent = () => {\r\n    if (blockIsContainer) {\r\n      return (\r\n        <Container\r\n          block={block}\r\n          isSelected={isSelected}\r\n          isHovered={isHovered}\r\n          onAddBlockToContainer={onAddBlockToContainer}\r\n          className={cn(\r\n            'min-h-[80px]',\r\n            isOver && 'ring-2 ring-blue-400 ring-offset-2 bg-blue-50/20'\r\n          )}\r\n        >\r\n          {hasChildren && isExpanded && renderChildren && (\r\n            <div className=\"space-y-2 p-2\">\r\n              {renderChildren(block.children!)}\r\n            </div>\r\n          )}\r\n        </Container>\r\n      );\r\n    }\r\n\r\n    // Merge all config objects for the preview\r\n    // Support both old single config and new three-tab config system\r\n    const mergedConfig = block.config || {\r\n      ...block.contentConfig,\r\n      ...block.styleConfig,\r\n      ...block.advancedConfig,\r\n    };\r\n\r\n    // Regular block preview\r\n    return (\r\n      <div className=\"pointer-events-none min-h-[100px] bg-white\">\r\n        {block.template ? (\r\n          <BlockPreview\r\n            template={block.template}\r\n            config={mergedConfig}\r\n          />\r\n        ) : (\r\n          <div className=\"flex items-center justify-center h-24 bg-gray-50 text-gray-400\">\r\n            Unknown Block Template\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      style={style}\r\n      className={cn(\r\n        'relative group transition-all',\r\n        depth > 0 && 'ml-4 border-l-2 border-gray-200 pl-3',\r\n        !block.isVisible && 'opacity-50'\r\n      )}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      onClick={(e) => {\r\n        e.stopPropagation();\r\n        onSelect();\r\n      }}\r\n    >\r\n      {/* Block Label and Controls */}\r\n      <div\r\n        className={cn(\r\n          'absolute -top-3 left-0 right-0 flex items-center justify-between z-20 transition-all px-2',\r\n          (isSelected || isHovered) ? 'opacity-100' : 'opacity-0 group-hover:opacity-100'\r\n        )}\r\n      >\r\n        {/* Left: Block Name & Type Label */}\r\n        <div className=\"flex items-center gap-2\">\r\n          {hasChildren && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"h-6 w-6 hover:bg-white/90 bg-white border shadow-sm\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setIsExpanded(!isExpanded);\r\n              }}\r\n              title={isExpanded ? 'Collapse' : 'Expand'}\r\n            >\r\n              {isExpanded ? (\r\n                <ChevronDown className=\"h-3 w-3\" />\r\n              ) : (\r\n                <ChevronRight className=\"h-3 w-3\" />\r\n              )}\r\n            </Button>\r\n          )}\r\n\r\n          {isSelected && (\r\n            <div className=\"bg-primary text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm uppercase tracking-wider\">\r\n              {block.template?.name || 'Block'}\r\n            </div>\r\n          )}\r\n\r\n          <ContainerLabel\r\n            containerType={block.containerType}\r\n            blockName={block.template?.name}\r\n          />\r\n        </div>\r\n\r\n        {/* Right: Action Buttons */}\r\n        <div\r\n          className={cn(\r\n            'flex items-center gap-1 bg-white shadow-md border rounded-lg p-1',\r\n            (isSelected || isDragging) ? 'opacity-100' : 'opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto'\r\n          )}\r\n        >\r\n          {/* Drag Handle */}\r\n          <div\r\n            {...attributes}\r\n            {...listeners}\r\n            className=\"cursor-move p-1.5 hover:bg-gray-100 rounded-md text-gray-500 hover:text-gray-900 transition-colors\"\r\n            title=\"Drag to reorder\"\r\n          >\r\n            <Move className=\"h-3.5 w-3.5\" />\r\n          </div>\r\n\r\n          <div className=\"w-px h-4 bg-gray-200\" />\r\n\r\n          {/* Settings */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className={cn(\r\n              'h-7 w-7 transition-colors',\r\n              isSelected\r\n                ? 'text-primary bg-primary/10'\r\n                : 'text-gray-500 hover:text-primary hover:bg-primary/5'\r\n            )}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              if (onToggleSettings) {\r\n                onToggleSettings();\r\n              } else {\r\n                onSelect();\r\n              }\r\n            }}\r\n            title={isSelected ? 'Close Settings' : 'Open Settings'}\r\n          >\r\n            <Settings className=\"h-3.5 w-3.5\" />\r\n          </Button>\r\n\r\n          <div className=\"w-px h-4 bg-gray-200\" />\r\n\r\n          {/* Visibility Toggle */}\r\n          {onToggleVisibility && (\r\n            <>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"h-7 w-7 text-gray-500 hover:text-gray-900 hover:bg-gray-100\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onToggleVisibility();\r\n                }}\r\n                title={block.isVisible ? 'Hide block' : 'Show block'}\r\n              >\r\n                {block.isVisible ? (\r\n                  <Eye className=\"h-3.5 w-3.5\" />\r\n                ) : (\r\n                  <EyeOff className=\"h-3.5 w-3.5\" />\r\n                )}\r\n              </Button>\r\n              <div className=\"w-px h-4 bg-gray-200\" />\r\n            </>\r\n          )}\r\n\r\n          {/* Duplicate */}\r\n          {onDuplicate && (\r\n            <>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                className=\"h-7 w-7 text-gray-500 hover:text-blue-600 hover:bg-blue-50\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  onDuplicate();\r\n                }}\r\n                title=\"Duplicate block\"\r\n              >\r\n                <Copy className=\"h-3.5 w-3.5\" />\r\n              </Button>\r\n              <div className=\"w-px h-4 bg-gray-200\" />\r\n            </>\r\n          )}\r\n\r\n          {/* Remove */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            className=\"h-7 w-7 text-gray-500 hover:text-red-600 hover:bg-red-50\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onRemove();\r\n            }}\r\n            title=\"Remove block\"\r\n          >\r\n            <Trash2 className=\"h-3.5 w-3.5\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Block Content Wrapper */}\r\n      <div\r\n        ref={blockIsContainer ? setDroppableRef : undefined}\r\n        className={cn(\r\n          'bg-white rounded-lg border shadow-sm overflow-hidden transition-all mt-2',\r\n          isSelected ? 'border-primary/30 shadow-primary/10' : 'border-gray-200 hover:border-gray-300',\r\n          isOver && 'border-blue-400 shadow-blue-100',\r\n          !isExpanded && hasChildren && 'border-dashed'\r\n        )}\r\n      >\r\n        {renderBlockContent()}\r\n      </div>\r\n\r\n      {/* Drop Zone Indicator */}\r\n      {isOver && blockIsContainer && (\r\n        <div className=\"absolute inset-0 pointer-events-none rounded-lg ring-2 ring-blue-400 ring-offset-2 bg-blue-50/10 flex items-center justify-center z-10\">\r\n          <div className=\"bg-blue-500 text-white px-3 py-1.5 rounded-full text-xs font-semibold shadow-lg\">\r\n            Drop here to add to container\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Depth Indicator */}\r\n      {depth > 0 && (\r\n        <div\r\n          className=\"absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-gray-300 to-transparent\"\r\n          style={{ left: `-${depth * 16}px` }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * CMS Page Editor Types\r\n *\r\n * Comprehensive type definitions for the Elementor-style page builder\r\n * with support for nested containers, three-tab configuration, and advanced features.\r\n */\r\n\r\n// ============================================\r\n// Enums\r\n// ============================================\r\n\r\nexport enum ContainerType {\r\n  BLOCK = 'BLOCK',       // Regular block (no children)\r\n  SECTION = 'SECTION',   // Full-width section container\r\n  FLEXBOX = 'FLEXBOX',   // Flexbox container\r\n  GRID = 'GRID',         // Grid container\r\n}\r\n\r\nexport enum BlockCategory {\r\n  HERO = 'HERO',\r\n  CONTENT = 'CONTENT',\r\n  FEATURES = 'FEATURES',\r\n  CTA = 'CTA',\r\n  TESTIMONIALS = 'TESTIMONIALS',\r\n  PRICING = 'PRICING',\r\n  TEAM = 'TEAM',\r\n  STATS = 'STATS',\r\n  LOGO_GRID = 'LOGO_GRID',\r\n  FORM = 'FORM',\r\n  FAQ = 'FAQ',\r\n  GALLERY = 'GALLERY',\r\n  VIDEO = 'VIDEO',\r\n  NAVIGATION = 'NAVIGATION',\r\n  HEADER = 'HEADER',\r\n  FOOTER = 'FOOTER',\r\n  SOCIAL = 'SOCIAL',\r\n  BREADCRUMBS = 'BREADCRUMBS',\r\n  DIVIDER = 'DIVIDER',\r\n  SPACER = 'SPACER',\r\n  CUSTOM = 'CUSTOM',\r\n  PRODUCT = 'PRODUCT',\r\n  BLOG = 'BLOG',\r\n  CONTAINER = 'CONTAINER',\r\n  LAYOUT = 'LAYOUT',\r\n}\r\n\r\nexport enum DeviceMode {\r\n  DESKTOP = 'DESKTOP',\r\n  TABLET = 'TABLET',\r\n  MOBILE = 'MOBILE',\r\n}\r\n\r\n// ============================================\r\n// Block Template & Instance Types\r\n// ============================================\r\n\r\nexport interface BlockTemplate {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  description?: string;\r\n  category: BlockCategory;\r\n  thumbnail?: string;\r\n  previewUrl?: string;\r\n  defaultConfig: Record<string, any>;\r\n  configSchema: ConfigSchema;\r\n  componentCode: string;\r\n  htmlTemplate?: string;\r\n  cssStyles?: string;\r\n  isSystem: boolean;\r\n  isActive: boolean;\r\n  isPro: boolean;\r\n  usageCount: number;\r\n}\r\n\r\n// ============================================\r\n// Three-Tab Configuration Types\r\n// ============================================\r\n\r\nexport interface ContentConfig {\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface StyleConfig {\r\n  // Colors\r\n  backgroundColor?: string;\r\n  textColor?: string;\r\n  borderColor?: string;\r\n\r\n  // Typography\r\n  fontSize?: string;\r\n  fontFamily?: string;\r\n  fontWeight?: string;\r\n  lineHeight?: string;\r\n  letterSpacing?: string;\r\n  textAlign?: 'left' | 'center' | 'right' | 'justify';\r\n\r\n  // Spacing\r\n  padding?: {\r\n    top?: number;\r\n    right?: number;\r\n    bottom?: number;\r\n    left?: number;\r\n  };\r\n  margin?: {\r\n    top?: number;\r\n    right?: number;\r\n    bottom?: number;\r\n    left?: number;\r\n  };\r\n\r\n  // Border\r\n  borderWidth?: number;\r\n  borderStyle?: 'solid' | 'dashed' | 'dotted' | 'double' | 'none';\r\n  borderRadius?: {\r\n    topLeft?: number;\r\n    topRight?: number;\r\n    bottomRight?: number;\r\n    bottomLeft?: number;\r\n  };\r\n\r\n  // Background\r\n  backgroundImage?: string;\r\n  backgroundSize?: 'cover' | 'contain' | 'auto';\r\n  backgroundPosition?: string;\r\n  backgroundRepeat?: 'repeat' | 'no-repeat' | 'repeat-x' | 'repeat-y';\r\n\r\n  // Shadow\r\n  boxShadow?: string;\r\n  textShadow?: string;\r\n\r\n  // Size\r\n  width?: string;\r\n  height?: string;\r\n  maxWidth?: string;\r\n  maxHeight?: string;\r\n  minWidth?: string;\r\n  minHeight?: string;\r\n\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface AdvancedConfig {\r\n  // Custom CSS & Classes\r\n  customCss?: string;\r\n  customClasses?: string;\r\n\r\n  // Positioning\r\n  position?: 'static' | 'relative' | 'absolute' | 'fixed' | 'sticky';\r\n  top?: number;\r\n  right?: number;\r\n  bottom?: number;\r\n  left?: number;\r\n  zIndex?: number;\r\n\r\n  // Display\r\n  display?: 'block' | 'inline' | 'inline-block' | 'flex' | 'grid' | 'none';\r\n  overflow?: 'visible' | 'hidden' | 'scroll' | 'auto';\r\n\r\n  // Animation\r\n  animationType?: string;\r\n  animationDelay?: number;\r\n  animationDuration?: number;\r\n  animationEasing?: string;\r\n\r\n  // Visibility Rules\r\n  hideOnMobile?: boolean;\r\n  hideOnTablet?: boolean;\r\n  hideOnDesktop?: boolean;\r\n  visibilityRules?: VisibilityRule[];\r\n\r\n  // Advanced Features\r\n  customAttributes?: Record<string, string>;\r\n  customData?: Record<string, any>;\r\n\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface VisibilityRule {\r\n  type: 'user_role' | 'date_range' | 'time_range' | 'device' | 'custom';\r\n  condition: Record<string, any>;\r\n}\r\n\r\n// ============================================\r\n// Layout Settings (for containers)\r\n// ============================================\r\n\r\nexport interface FlexboxSettings {\r\n  direction: 'row' | 'column' | 'row-reverse' | 'column-reverse';\r\n  wrap: 'nowrap' | 'wrap' | 'wrap-reverse';\r\n  justifyContent: 'flex-start' | 'flex-end' | 'center' | 'space-between' | 'space-around' | 'space-evenly';\r\n  alignItems: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch';\r\n  alignContent?: 'flex-start' | 'flex-end' | 'center' | 'space-between' | 'space-around' | 'stretch';\r\n  gap?: number;\r\n}\r\n\r\nexport interface GridSettings {\r\n  columns: number | string;\r\n  rows?: number | string;\r\n  columnGap?: number;\r\n  rowGap?: number;\r\n  autoFlow?: 'row' | 'column' | 'row dense' | 'column dense';\r\n  justifyItems?: 'start' | 'end' | 'center' | 'stretch';\r\n  alignItems?: 'start' | 'end' | 'center' | 'stretch';\r\n}\r\n\r\nexport type LayoutSettings = FlexboxSettings | GridSettings | Record<string, any>;\r\n\r\n// ============================================\r\n// Editor Block Type\r\n// ============================================\r\n\r\nexport interface EditorBlock {\r\n  id: string;\r\n  templateId: string;\r\n\r\n  // Container support\r\n  containerType: ContainerType;\r\n  parentId?: string | null;\r\n  children?: EditorBlock[];\r\n\r\n  // Three-tab configuration\r\n  contentConfig: ContentConfig;\r\n  styleConfig?: StyleConfig;\r\n  advancedConfig?: AdvancedConfig;\r\n\r\n  // Layout settings (for containers)\r\n  layoutSettings?: LayoutSettings;\r\n\r\n  // Legacy config (backwards compatibility)\r\n  config?: Record<string, any>;\r\n\r\n  // Position\r\n  order: number;\r\n\r\n  // Visibility\r\n  isVisible: boolean;\r\n\r\n  // Template reference (populated when loaded)\r\n  template?: BlockTemplate;\r\n}\r\n\r\n// ============================================\r\n// Config Schema Types\r\n// ============================================\r\n\r\nexport interface ConfigField {\r\n  type: 'text' | 'textarea' | 'number' | 'image' | 'color' | 'select' | 'toggle' | 'slider' | 'repeater' | 'rich_text' | 'date';\r\n  name: string;\r\n  label: string;\r\n  placeholder?: string;\r\n  defaultValue?: any;\r\n  required?: boolean;\r\n  description?: string;\r\n\r\n  // Validation\r\n  min?: number;\r\n  max?: number;\r\n  step?: number;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  pattern?: string;\r\n\r\n  // Select options\r\n  options?: Array<{ label: string; value: any }>;\r\n\r\n  // Repeater fields\r\n  fields?: ConfigField[];\r\n  minItems?: number;\r\n  maxItems?: number;\r\n\r\n  // Conditional visibility\r\n  condition?: {\r\n    field: string;\r\n    operator: 'equals' | 'notEquals' | 'contains' | 'greaterThan' | 'lessThan' | 'empty' | 'notEmpty';\r\n    value: any;\r\n  };\r\n\r\n  // Tab assignment\r\n  tab?: 'content' | 'style' | 'advanced';\r\n\r\n  [key: string]: any;\r\n}\r\n\r\nexport interface ConfigSection {\r\n  id: string;\r\n  label: string;\r\n  icon?: string;\r\n  fields: ConfigField[];\r\n  collapsible?: boolean;\r\n  collapsed?: boolean;\r\n}\r\n\r\nexport interface ConfigTab {\r\n  id: 'content' | 'style' | 'advanced' | string;\r\n  label: string;\r\n  icon?: string;\r\n  sections?: ConfigSection[];\r\n  fields?: ConfigField[];\r\n}\r\n\r\nexport interface ConfigSchema {\r\n  // Can use tabs, sections, or flat fields\r\n  tabs?: ConfigTab[];\r\n  sections?: ConfigSection[];\r\n  fields?: ConfigField[];\r\n}\r\n\r\n// ============================================\r\n// Page Data Types\r\n// ============================================\r\n\r\nexport interface PageData {\r\n  id: string;\r\n  title: string;\r\n  slug: string;\r\n  description?: string;\r\n  status: 'DRAFT' | 'PUBLISHED' | 'SCHEDULED' | 'ARCHIVED';\r\n  useBlockEditor: boolean;\r\n\r\n  // SEO\r\n  seoTitle?: string;\r\n  seoDescription?: string;\r\n  seoKeywords?: string;\r\n  ogImage?: string;\r\n\r\n  // Layout config\r\n  layoutConfig?: Record<string, any>;\r\n  customCss?: string;\r\n  customJs?: string;\r\n\r\n  // Publishing\r\n  publishedAt?: string | Date;\r\n  scheduledPublishAt?: string | Date;\r\n}\r\n\r\n// ============================================\r\n// Editor State Types\r\n// ============================================\r\n\r\nexport interface EditorState {\r\n  blocks: EditorBlock[];\r\n  selectedBlockId: string | null;\r\n  hoveredBlockId: string | null;\r\n  deviceMode: DeviceMode;\r\n  isDirty: boolean;\r\n  isSaving: boolean;\r\n  pageData: PageData;\r\n}\r\n\r\nexport interface EditorHistory {\r\n  blocks: EditorBlock[];\r\n  pageData: PageData;\r\n  timestamp: number;\r\n}\r\n\r\n// ============================================\r\n// Navigator Types\r\n// ============================================\r\n\r\nexport interface NavigatorNode {\r\n  id: string;\r\n  label: string;\r\n  type: ContainerType;\r\n  isVisible: boolean;\r\n  isSelected: boolean;\r\n  isExpanded: boolean;\r\n  children?: NavigatorNode[];\r\n  depth: number;\r\n}\r\n\r\n// ============================================\r\n// Context Menu Types\r\n// ============================================\r\n\r\nexport interface ContextMenuItem {\r\n  id: string;\r\n  label: string;\r\n  icon?: string;\r\n  action: () => void;\r\n  shortcut?: string;\r\n  disabled?: boolean;\r\n  separator?: boolean;\r\n  submenu?: ContextMenuItem[];\r\n}\r\n\r\n// ============================================\r\n// Clipboard Types\r\n// ============================================\r\n\r\nexport interface ClipboardData {\r\n  type: 'block' | 'style';\r\n  data: EditorBlock | StyleConfig;\r\n  timestamp: number;\r\n}\r\n\r\n// ============================================\r\n// Export Types\r\n// ============================================\r\n\r\nexport type {\r\n  EditorBlock as default,\r\n};\r\n","/**\r\n * Enhanced Page Editor Hook\r\n *\r\n * Supports:\r\n * - Nested containers with children\r\n * - Three-tab configuration (content, style, advanced)\r\n * - Move blocks between containers\r\n * - Visibility toggling\r\n * - Hover state management\r\n * - Clipboard operations\r\n */\r\n\r\nimport { useState, useCallback, useEffect, useRef } from 'react';\r\nimport { toast } from 'react-hot-toast';\r\nimport { useRouter } from 'next/navigation';\r\nimport { EditorBlock, PageData, ContainerType, ClipboardData, DeviceMode } from '@/types/editor';\r\nimport {\r\n  buildBlockTree,\r\n  flattenBlockTree,\r\n  findBlockById,\r\n  updateBlockInTree,\r\n  removeBlockFromTree,\r\n  duplicateBlock as utilDuplicateBlock,\r\n  normalizeBlockOrders,\r\n  splitConfigIntoTabs,\r\n} from '@/lib/editor-utils';\r\n\r\ninterface UseEnhancedPageEditorProps {\r\n  pageId: string;\r\n  initialBlocks?: EditorBlock[];\r\n  initialPageData?: Partial<PageData>;\r\n  autoSaveEnabled?: boolean;\r\n  autoSaveDelay?: number;\r\n  templates?: any[];\r\n}\r\n\r\nexport function useEnhancedPageEditor({\r\n  pageId,\r\n  initialBlocks = [],\r\n  initialPageData = {},\r\n  autoSaveEnabled = true,\r\n  autoSaveDelay = 2000,\r\n  templates = [],\r\n}: UseEnhancedPageEditorProps) {\r\n  const router = useRouter();\r\n\r\n  // Core state\r\n  const [blocks, setBlocks] = useState<EditorBlock[]>(initialBlocks);\r\n  const [pageData, setPageData] = useState<Partial<PageData>>(initialPageData);\r\n  const [selectedBlockId, setSelectedBlockId] = useState<string | null>(null);\r\n  const [hoveredBlockId, setHoveredBlockId] = useState<string | null>(null);\r\n  const [deviceMode, setDeviceMode] = useState<DeviceMode>(DeviceMode.DESKTOP);\r\n  const [clipboard, setClipboard] = useState<ClipboardData | null>(null);\r\n\r\n  // Save state\r\n  const [isSaving, setIsSaving] = useState(false);\r\n  const [isDirty, setIsDirty] = useState(false);\r\n  const [autoSaveStatus, setAutoSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\r\n  const autoSaveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n  const lastSavedStateRef = useRef<string>('');\r\n\r\n  // History state (Undo/Redo)\r\n  const [history, setHistory] = useState<Array<{ blocks: EditorBlock[]; pageData: Partial<PageData> }>>([]);\r\n  const [historyIndex, setHistoryIndex] = useState(-1);\r\n  const maxHistorySize = 50;\r\n  const historyUpdateTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Initialize blocks\r\n  useEffect(() => {\r\n    if (initialBlocks.length > 0 && blocks.length === 0) {\r\n      setBlocks(initialBlocks);\r\n      setHistory([{ blocks: initialBlocks, pageData: initialPageData }]);\r\n      setHistoryIndex(0);\r\n    }\r\n  }, [initialBlocks, blocks.length, initialPageData]);\r\n\r\n  // Save to history (debounced)\r\n  const saveToHistory = useCallback(\r\n    (blocksToSave: EditorBlock[], pageDataToSave: Partial<PageData>) => {\r\n      if (historyUpdateTimeoutRef.current) {\r\n        clearTimeout(historyUpdateTimeoutRef.current);\r\n      }\r\n\r\n      historyUpdateTimeoutRef.current = setTimeout(() => {\r\n        setHistory((prev) => {\r\n          const newHistory = prev.slice(0, historyIndex + 1);\r\n          newHistory.push({ blocks: blocksToSave, pageData: pageDataToSave });\r\n\r\n          if (newHistory.length > maxHistorySize) {\r\n            newHistory.shift();\r\n            return newHistory;\r\n          }\r\n\r\n          return newHistory;\r\n        });\r\n        setHistoryIndex((prev) => Math.min(prev + 1, maxHistorySize - 1));\r\n      }, 500);\r\n    },\r\n    [historyIndex, maxHistorySize]\r\n  );\r\n\r\n  // Undo/Redo\r\n  const undo = useCallback(() => {\r\n    if (historyIndex > 0) {\r\n      const newIndex = historyIndex - 1;\r\n      const state = history[newIndex];\r\n      setBlocks(state.blocks);\r\n      setPageData(state.pageData);\r\n      setHistoryIndex(newIndex);\r\n      setIsDirty(true);\r\n    }\r\n  }, [history, historyIndex]);\r\n\r\n  const redo = useCallback(() => {\r\n    if (historyIndex < history.length - 1) {\r\n      const newIndex = historyIndex + 1;\r\n      const state = history[newIndex];\r\n      setBlocks(state.blocks);\r\n      setPageData(state.pageData);\r\n      setHistoryIndex(newIndex);\r\n      setIsDirty(true);\r\n    }\r\n  }, [history, historyIndex]);\r\n\r\n  const canUndo = historyIndex > 0;\r\n  const canRedo = historyIndex < history.length - 1;\r\n\r\n  // LocalStorage backup\r\n  const saveToLocalStorage = useCallback(\r\n    (blocksToSave: EditorBlock[], pageDataToSave: Partial<PageData>) => {\r\n      const storageKey = `cms-editor-${pageId}`;\r\n      try {\r\n        localStorage.setItem(\r\n          storageKey,\r\n          JSON.stringify({\r\n            blocks: blocksToSave,\r\n            pageData: pageDataToSave,\r\n            timestamp: Date.now(),\r\n          })\r\n        );\r\n      } catch (error) {\r\n        console.error('Failed to save to localStorage:', error);\r\n      }\r\n    },\r\n    [pageId]\r\n  );\r\n\r\n  const clearLocalStorage = useCallback(() => {\r\n    const storageKey = `cms-editor-${pageId}`;\r\n    try {\r\n      localStorage.removeItem(storageKey);\r\n    } catch (error) {\r\n      console.error('Failed to clear localStorage:', error);\r\n    }\r\n  }, [pageId]);\r\n\r\n  // Load from localStorage\r\n  useEffect(() => {\r\n    const storageKey = `cms-editor-${pageId}`;\r\n    try {\r\n      const saved = localStorage.getItem(storageKey);\r\n      if (saved) {\r\n        const parsed = JSON.parse(saved);\r\n        if (parsed.blocks && parsed.blocks.length > 0) {\r\n          setBlocks(parsed.blocks);\r\n        }\r\n        if (parsed.pageData) {\r\n          setPageData(parsed.pageData);\r\n        }\r\n        setIsDirty(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load from localStorage:', error);\r\n    }\r\n  }, [pageId]);\r\n\r\n  // Block operations\r\n  const generateBlockId = () => `temp-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n\r\n  const addBlock = useCallback(\r\n    (template: any, parentId?: string | null) => {\r\n      const { contentConfig, styleConfig, advancedConfig } = splitConfigIntoTabs(\r\n        template.defaultConfig || {},\r\n        template.configSchema\r\n      );\r\n\r\n      const newBlock: EditorBlock = {\r\n        id: generateBlockId(),\r\n        templateId: template.id,\r\n        containerType: ContainerType.BLOCK,\r\n        parentId: parentId || null,\r\n        contentConfig,\r\n        styleConfig,\r\n        advancedConfig,\r\n        config: template.defaultConfig, // Keep for backwards compatibility\r\n        order: blocks.filter((b) => b.parentId === parentId).length,\r\n        isVisible: true,\r\n        template,\r\n      };\r\n\r\n      setBlocks((prev) => {\r\n        const updated = [...prev, newBlock];\r\n        saveToHistory(updated, pageData);\r\n        return updated;\r\n      });\r\n      setSelectedBlockId(newBlock.id);\r\n      setIsDirty(true);\r\n    },\r\n    [blocks, pageData, saveToHistory]\r\n  );\r\n\r\n  const addContainerBlock = useCallback(\r\n    (containerType: ContainerType, parentId?: string | null) => {\r\n      // Find the appropriate container template based on container type\r\n      const templateSlug =\r\n        containerType === ContainerType.SECTION ? 'section-container' :\r\n        containerType === ContainerType.FLEXBOX ? 'flexbox-container' :\r\n        containerType === ContainerType.GRID ? 'grid-container' :\r\n        'container';\r\n\r\n      const containerTemplate = templates.find(t => t.slug === templateSlug);\r\n\r\n      if (!containerTemplate) {\r\n        toast.error(`Container template \"${templateSlug}\" not found. Please run the container templates seed script.`);\r\n        console.error(`Container template not found for slug: ${templateSlug}`);\r\n        return;\r\n      }\r\n\r\n      const newBlock: EditorBlock = {\r\n        id: generateBlockId(),\r\n        templateId: containerTemplate.id,\r\n        template: containerTemplate,\r\n        containerType,\r\n        parentId: parentId || null,\r\n        contentConfig: containerTemplate.defaultConfig || {},\r\n        styleConfig: {},\r\n        advancedConfig: {},\r\n        layoutSettings:\r\n          containerType === ContainerType.FLEXBOX\r\n            ? {\r\n                direction: 'row',\r\n                wrap: 'nowrap',\r\n                justifyContent: 'flex-start',\r\n                alignItems: 'stretch',\r\n                gap: 16,\r\n              }\r\n            : containerType === ContainerType.GRID\r\n            ? {\r\n                columns: 2,\r\n                columnGap: 16,\r\n                rowGap: 16,\r\n              }\r\n            : undefined,\r\n        order: blocks.filter((b) => b.parentId === parentId).length,\r\n        isVisible: true,\r\n        children: [],\r\n      };\r\n\r\n      setBlocks((prev) => {\r\n        const updated = [...prev, newBlock];\r\n        saveToHistory(updated, pageData);\r\n        return updated;\r\n      });\r\n      setSelectedBlockId(newBlock.id);\r\n      setIsDirty(true);\r\n    },\r\n    [blocks, pageData, saveToHistory, templates]\r\n  );\r\n\r\n  const updateBlockConfig = useCallback(\r\n    (blockId: string, tab: 'content' | 'style' | 'advanced', newConfig: any) => {\r\n      setBlocks((prev) => {\r\n        const updated = prev.map((block) => {\r\n          if (block.id === blockId) {\r\n            return {\r\n              ...block,\r\n              [`${tab}Config`]: newConfig,\r\n            };\r\n          }\r\n          return block;\r\n        });\r\n        saveToHistory(updated, pageData);\r\n        return updated;\r\n      });\r\n      setIsDirty(true);\r\n    },\r\n    [pageData, saveToHistory]\r\n  );\r\n\r\n  const removeBlock = useCallback(\r\n    (blockId: string) => {\r\n      setBlocks((prev) => {\r\n        const blockTree = buildBlockTree(prev);\r\n        const withoutBlock = removeBlockFromTree(blockTree, blockId);\r\n        const flattened = flattenBlockTree(withoutBlock);\r\n        const normalized = normalizeBlockOrders(flattened);\r\n        saveToHistory(normalized, pageData);\r\n        return normalized;\r\n      });\r\n      if (selectedBlockId === blockId) {\r\n        setSelectedBlockId(null);\r\n      }\r\n      setIsDirty(true);\r\n    },\r\n    [selectedBlockId, pageData, saveToHistory]\r\n  );\r\n\r\n  const duplicateBlock = useCallback(\r\n    (blockId: string) => {\r\n      const blockToDuplicate = findBlockById(blocks, blockId);\r\n      if (!blockToDuplicate) return;\r\n\r\n      const duplicated = utilDuplicateBlock(blockToDuplicate, generateBlockId);\r\n\r\n      setBlocks((prev) => {\r\n        const updated = [...prev, duplicated];\r\n        saveToHistory(updated, pageData);\r\n        return updated;\r\n      });\r\n      setSelectedBlockId(duplicated.id);\r\n      setIsDirty(true);\r\n    },\r\n    [blocks, pageData, saveToHistory]\r\n  );\r\n\r\n  const moveBlock = useCallback(\r\n    (blockId: string, newParentId: string | null, newOrder: number) => {\r\n      setBlocks((prev) => {\r\n        const block = findBlockById(prev, blockId);\r\n        if (!block) return prev;\r\n\r\n        // Update block's parent and order\r\n        const updatedBlock = {\r\n          ...block,\r\n          parentId: newParentId,\r\n          order: newOrder,\r\n        };\r\n\r\n        const updated = prev.map((b) => (b.id === blockId ? updatedBlock : b));\r\n        const normalized = normalizeBlockOrders(updated);\r\n        saveToHistory(normalized, pageData);\r\n        return normalized;\r\n      });\r\n      setIsDirty(true);\r\n    },\r\n    [pageData, saveToHistory]\r\n  );\r\n\r\n  const reorderBlocks = useCallback(\r\n    (newBlocks: EditorBlock[]) => {\r\n      const normalized = normalizeBlockOrders(newBlocks);\r\n      setBlocks(normalized);\r\n      saveToHistory(normalized, pageData);\r\n      setIsDirty(true);\r\n    },\r\n    [pageData, saveToHistory]\r\n  );\r\n\r\n  const toggleBlockVisibility = useCallback(\r\n    (blockId: string) => {\r\n      setBlocks((prev) => {\r\n        const updated = prev.map((block) =>\r\n          block.id === blockId ? { ...block, isVisible: !block.isVisible } : block\r\n        );\r\n        saveToHistory(updated, pageData);\r\n        return updated;\r\n      });\r\n      setIsDirty(true);\r\n    },\r\n    [pageData, saveToHistory]\r\n  );\r\n\r\n  // Clipboard operations\r\n  const copyBlock = useCallback((blockId: string) => {\r\n    const block = findBlockById(blocks, blockId);\r\n    if (block) {\r\n      setClipboard({\r\n        type: 'block',\r\n        data: block,\r\n        timestamp: Date.now(),\r\n      });\r\n      toast.success('Block copied to clipboard');\r\n    }\r\n  }, [blocks]);\r\n\r\n  const copyStyle = useCallback((blockId: string) => {\r\n    const block = findBlockById(blocks, blockId);\r\n    if (block && block.styleConfig) {\r\n      setClipboard({\r\n        type: 'style',\r\n        data: block.styleConfig,\r\n        timestamp: Date.now(),\r\n      });\r\n      toast.success('Style copied to clipboard');\r\n    }\r\n  }, [blocks]);\r\n\r\n  const pasteBlock = useCallback(\r\n    (parentId?: string | null) => {\r\n      if (!clipboard || clipboard.type !== 'block') return;\r\n\r\n      const block = clipboard.data as EditorBlock;\r\n      const duplicated = utilDuplicateBlock(block, generateBlockId);\r\n      duplicated.parentId = parentId || null;\r\n      duplicated.order = blocks.filter((b) => b.parentId === parentId).length;\r\n\r\n      setBlocks((prev) => {\r\n        const updated = [...prev, duplicated];\r\n        saveToHistory(updated, pageData);\r\n        return updated;\r\n      });\r\n      setSelectedBlockId(duplicated.id);\r\n      setIsDirty(true);\r\n      toast.success('Block pasted');\r\n    },\r\n    [clipboard, blocks, pageData, saveToHistory]\r\n  );\r\n\r\n  const pasteStyle = useCallback(\r\n    (blockId: string) => {\r\n      if (!clipboard || clipboard.type !== 'style') return;\r\n\r\n      updateBlockConfig(blockId, 'style', clipboard.data);\r\n      toast.success('Style pasted');\r\n    },\r\n    [clipboard, updateBlockConfig]\r\n  );\r\n\r\n  // Page data operations\r\n  const updatePageData = useCallback(\r\n    (field: string, value: any) => {\r\n      setPageData((prev) => {\r\n        const updated = { ...prev, [field]: value };\r\n        saveToHistory(blocks, updated);\r\n        return updated;\r\n      });\r\n      setIsDirty(true);\r\n    },\r\n    [blocks, saveToHistory]\r\n  );\r\n\r\n  // Save page\r\n  const savePage = useCallback(\r\n    async (isAutoSave = false) => {\r\n      setIsSaving(true);\r\n      if (isAutoSave) {\r\n        setAutoSaveStatus('saving');\r\n      }\r\n\r\n      try {\r\n        // Save page data\r\n        const pageResponse = await fetch(`/api/admin/cms/pages/${pageId}`, {\r\n          method: 'PUT',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(pageData),\r\n        });\r\n\r\n        if (!pageResponse.ok) {\r\n          const errorData = await pageResponse.json().catch(() => ({}));\r\n          throw new Error(errorData.error || 'Failed to save page data');\r\n        }\r\n\r\n        // Sync blocks\r\n        const blocksResponse = await fetch(`/api/admin/cms/pages/${pageId}/sync-blocks`, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            blocks: blocks.map((block) => ({\r\n              id: block.id,\r\n              templateId: block.templateId,\r\n              containerType: block.containerType,\r\n              parentId: block.parentId,\r\n              contentConfig: block.contentConfig,\r\n              styleConfig: block.styleConfig,\r\n              advancedConfig: block.advancedConfig,\r\n              layoutSettings: block.layoutSettings,\r\n              order: block.order,\r\n              isVisible: block.isVisible,\r\n              // Keep legacy config for backwards compatibility\r\n              config: block.config || block.contentConfig,\r\n            })),\r\n          }),\r\n        });\r\n\r\n        if (!blocksResponse.ok) {\r\n          throw new Error('Failed to save blocks');\r\n        }\r\n\r\n        const data = await blocksResponse.json();\r\n\r\n        if (data.page?.blocks) {\r\n          const updatedBlocks = data.page.blocks.map((block: any) => {\r\n            const existingBlock = blocks.find(\r\n              (b) => b.id === block.id || (b.templateId === block.templateId && b.order === block.order)\r\n            );\r\n\r\n            return {\r\n              ...block,\r\n              template: block.template || existingBlock?.template,\r\n            };\r\n          });\r\n\r\n          setBlocks(updatedBlocks);\r\n          lastSavedStateRef.current = JSON.stringify({ blocks: updatedBlocks, pageData });\r\n        }\r\n\r\n        setIsDirty(false);\r\n        if (isAutoSave) {\r\n          setAutoSaveStatus('saved');\r\n          clearLocalStorage();\r\n          setTimeout(() => setAutoSaveStatus('idle'), 2000);\r\n        } else {\r\n          toast.success('Page saved successfully');\r\n          clearLocalStorage();\r\n        }\r\n\r\n        router.refresh();\r\n      } catch (error: any) {\r\n        console.error('Error saving page:', error);\r\n        if (isAutoSave) {\r\n          setAutoSaveStatus('error');\r\n          setTimeout(() => setAutoSaveStatus('idle'), 3000);\r\n        } else {\r\n          toast.error(error.message || 'Failed to save page');\r\n        }\r\n      } finally {\r\n        setIsSaving(false);\r\n      }\r\n    },\r\n    [blocks, pageId, pageData, router, clearLocalStorage]\r\n  );\r\n\r\n  // Auto-save\r\n  useEffect(() => {\r\n    if (!autoSaveEnabled || !isDirty) {\r\n      return;\r\n    }\r\n\r\n    if (autoSaveTimeoutRef.current) {\r\n      clearTimeout(autoSaveTimeoutRef.current);\r\n    }\r\n\r\n    saveToLocalStorage(blocks, pageData);\r\n\r\n    autoSaveTimeoutRef.current = setTimeout(() => {\r\n      const currentState = JSON.stringify({ blocks, pageData });\r\n      if (currentState !== lastSavedStateRef.current) {\r\n        savePage(true);\r\n      }\r\n    }, autoSaveDelay);\r\n\r\n    return () => {\r\n      if (autoSaveTimeoutRef.current) {\r\n        clearTimeout(autoSaveTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [blocks, pageData, isDirty, autoSaveEnabled, autoSaveDelay, savePage, saveToLocalStorage]);\r\n\r\n  return {\r\n    // State\r\n    blocks,\r\n    pageData,\r\n    selectedBlockId,\r\n    hoveredBlockId,\r\n    deviceMode,\r\n    clipboard,\r\n    isSaving,\r\n    isDirty,\r\n    autoSaveStatus,\r\n    canUndo,\r\n    canRedo,\r\n\r\n    // Block operations\r\n    addBlock,\r\n    addContainerBlock,\r\n    updateBlockConfig,\r\n    removeBlock,\r\n    duplicateBlock,\r\n    moveBlock,\r\n    reorderBlocks,\r\n    toggleBlockVisibility,\r\n\r\n    // Clipboard\r\n    copyBlock,\r\n    copyStyle,\r\n    pasteBlock,\r\n    pasteStyle,\r\n\r\n    // Page operations\r\n    updatePageData,\r\n    savePage,\r\n\r\n    // History\r\n    undo,\r\n    redo,\r\n\r\n    // UI state\r\n    setSelectedBlockId,\r\n    setHoveredBlockId,\r\n    setDeviceMode,\r\n  };\r\n}\r\n","// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nexport const canUseDOM =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined';\n","/**\r\n * CMS Page Editor Utility Functions\r\n *\r\n * Helper functions for working with the Elementor-style page builder,\r\n * including block tree manipulation, container operations, and more.\r\n */\r\n\r\nimport { EditorBlock, ContainerType, NavigatorNode } from '@/types/editor';\r\n\r\n// ============================================\r\n// Block Tree Traversal\r\n// ============================================\r\n\r\n/**\r\n * Build a hierarchical tree structure from flat blocks array\r\n */\r\nexport function buildBlockTree(blocks: EditorBlock[]): EditorBlock[] {\r\n  const blockMap = new Map<string, EditorBlock>();\r\n  const rootBlocks: EditorBlock[] = [];\r\n\r\n  // First pass: Create map and initialize children arrays\r\n  blocks.forEach(block => {\r\n    blockMap.set(block.id, { ...block, children: [] });\r\n  });\r\n\r\n  // Second pass: Build hierarchy\r\n  blocks.forEach(block => {\r\n    const blockWithChildren = blockMap.get(block.id)!;\r\n\r\n    if (block.parentId) {\r\n      const parent = blockMap.get(block.parentId);\r\n      if (parent) {\r\n        if (!parent.children) {\r\n          parent.children = [];\r\n        }\r\n        parent.children.push(blockWithChildren);\r\n      } else {\r\n        // Parent not found, treat as root\r\n        rootBlocks.push(blockWithChildren);\r\n      }\r\n    } else {\r\n      rootBlocks.push(blockWithChildren);\r\n    }\r\n  });\r\n\r\n  // Sort children by order\r\n  const sortByOrder = (blocks: EditorBlock[]) => {\r\n    blocks.sort((a, b) => a.order - b.order);\r\n    blocks.forEach(block => {\r\n      if (block.children && block.children.length > 0) {\r\n        sortByOrder(block.children);\r\n      }\r\n    });\r\n  };\r\n\r\n  sortByOrder(rootBlocks);\r\n\r\n  return rootBlocks;\r\n}\r\n\r\n/**\r\n * Flatten a hierarchical block tree into a flat array\r\n */\r\nexport function flattenBlockTree(blocks: EditorBlock[]): EditorBlock[] {\r\n  const result: EditorBlock[] = [];\r\n\r\n  const traverse = (block: EditorBlock) => {\r\n    const { children, ...blockWithoutChildren } = block;\r\n    result.push(blockWithoutChildren as EditorBlock);\r\n\r\n    if (children && children.length > 0) {\r\n      children.forEach(traverse);\r\n    }\r\n  };\r\n\r\n  blocks.forEach(traverse);\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Find a block by ID in the tree\r\n */\r\nexport function findBlockById(\r\n  blocks: EditorBlock[],\r\n  blockId: string\r\n): EditorBlock | null {\r\n  for (const block of blocks) {\r\n    if (block.id === blockId) {\r\n      return block;\r\n    }\r\n\r\n    if (block.children && block.children.length > 0) {\r\n      const found = findBlockById(block.children, blockId);\r\n      if (found) {\r\n        return found;\r\n      }\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n/**\r\n * Find the parent of a block\r\n */\r\nexport function findBlockParent(\r\n  blocks: EditorBlock[],\r\n  blockId: string,\r\n  parentBlock?: EditorBlock\r\n): EditorBlock | null {\r\n  for (const block of blocks) {\r\n    if (block.children && block.children.some(child => child.id === blockId)) {\r\n      return block;\r\n    }\r\n\r\n    if (block.children && block.children.length > 0) {\r\n      const found = findBlockParent(block.children, blockId, block);\r\n      if (found) {\r\n        return found;\r\n      }\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n/**\r\n * Get all ancestor blocks of a given block\r\n */\r\nexport function getBlockAncestors(\r\n  blocks: EditorBlock[],\r\n  blockId: string\r\n): EditorBlock[] {\r\n  const ancestors: EditorBlock[] = [];\r\n\r\n  const findAncestors = (currentBlocks: EditorBlock[], targetId: string): boolean => {\r\n    for (const block of currentBlocks) {\r\n      if (block.children && block.children.some(child => child.id === targetId)) {\r\n        ancestors.unshift(block);\r\n        return true;\r\n      }\r\n\r\n      if (block.children && block.children.length > 0) {\r\n        if (findAncestors(block.children, targetId)) {\r\n          ancestors.unshift(block);\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  findAncestors(blocks, blockId);\r\n\r\n  return ancestors;\r\n}\r\n\r\n/**\r\n * Get all descendant blocks of a given block\r\n */\r\nexport function getBlockDescendants(block: EditorBlock): EditorBlock[] {\r\n  const descendants: EditorBlock[] = [];\r\n\r\n  const traverse = (currentBlock: EditorBlock) => {\r\n    if (currentBlock.children && currentBlock.children.length > 0) {\r\n      currentBlock.children.forEach(child => {\r\n        descendants.push(child);\r\n        traverse(child);\r\n      });\r\n    }\r\n  };\r\n\r\n  traverse(block);\r\n\r\n  return descendants;\r\n}\r\n\r\n// ============================================\r\n// Block Manipulation\r\n// ============================================\r\n\r\n/**\r\n * Update a block in the tree\r\n */\r\nexport function updateBlockInTree(\r\n  blocks: EditorBlock[],\r\n  blockId: string,\r\n  updates: Partial<EditorBlock>\r\n): EditorBlock[] {\r\n  return blocks.map(block => {\r\n    if (block.id === blockId) {\r\n      return { ...block, ...updates };\r\n    }\r\n\r\n    if (block.children && block.children.length > 0) {\r\n      return {\r\n        ...block,\r\n        children: updateBlockInTree(block.children, blockId, updates),\r\n      };\r\n    }\r\n\r\n    return block;\r\n  });\r\n}\r\n\r\n/**\r\n * Remove a block from the tree\r\n */\r\nexport function removeBlockFromTree(\r\n  blocks: EditorBlock[],\r\n  blockId: string\r\n): EditorBlock[] {\r\n  return blocks\r\n    .filter(block => block.id !== blockId)\r\n    .map(block => {\r\n      if (block.children && block.children.length > 0) {\r\n        return {\r\n          ...block,\r\n          children: removeBlockFromTree(block.children, blockId),\r\n        };\r\n      }\r\n      return block;\r\n    });\r\n}\r\n\r\n/**\r\n * Move a block to a new parent\r\n */\r\nexport function moveBlockToParent(\r\n  blocks: EditorBlock[],\r\n  blockId: string,\r\n  newParentId: string | null,\r\n  newOrder: number\r\n): EditorBlock[] {\r\n  // First, find and remove the block\r\n  const block = findBlockById(blocks, blockId);\r\n  if (!block) {\r\n    return blocks;\r\n  }\r\n\r\n  const withoutBlock = removeBlockFromTree(blocks, blockId);\r\n\r\n  // Update the block's parent and order\r\n  const movedBlock = {\r\n    ...block,\r\n    parentId: newParentId,\r\n    order: newOrder,\r\n  };\r\n\r\n  // If moving to root\r\n  if (!newParentId) {\r\n    return [...withoutBlock, movedBlock];\r\n  }\r\n\r\n  // Otherwise, add to new parent\r\n  return updateBlockInTree(withoutBlock, newParentId, (parent) => ({\r\n    ...parent,\r\n    children: [...(parent.children || []), movedBlock],\r\n  }));\r\n}\r\n\r\n/**\r\n * Duplicate a block\r\n */\r\nexport function duplicateBlock(\r\n  block: EditorBlock,\r\n  generateId: () => string\r\n): EditorBlock {\r\n  const newId = generateId();\r\n\r\n  const duplicated: EditorBlock = {\r\n    ...block,\r\n    id: newId,\r\n    order: block.order + 1,\r\n  };\r\n\r\n  // Recursively duplicate children\r\n  if (block.children && block.children.length > 0) {\r\n    duplicated.children = block.children.map(child =>\r\n      duplicateBlock(child, generateId)\r\n    );\r\n  }\r\n\r\n  return duplicated;\r\n}\r\n\r\n// ============================================\r\n// Container Operations\r\n// ============================================\r\n\r\n/**\r\n * Check if a block is a container\r\n */\r\nexport function isContainer(block: EditorBlock): boolean {\r\n  return block.containerType !== ContainerType.BLOCK;\r\n}\r\n\r\n/**\r\n * Check if a block can be dropped into another block\r\n */\r\nexport function canDropInto(\r\n  draggedBlock: EditorBlock,\r\n  targetBlock: EditorBlock\r\n): boolean {\r\n  // Can't drop into regular blocks\r\n  if (!isContainer(targetBlock)) {\r\n    return false;\r\n  }\r\n\r\n  // Can't drop a container into itself or its descendants\r\n  if (draggedBlock.id === targetBlock.id) {\r\n    return false;\r\n  }\r\n\r\n  const descendants = getBlockDescendants(draggedBlock);\r\n  if (descendants.some(d => d.id === targetBlock.id)) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n/**\r\n * Get the maximum nesting depth of a block tree\r\n */\r\nexport function getMaxDepth(blocks: EditorBlock[], currentDepth = 0): number {\r\n  if (!blocks || blocks.length === 0) {\r\n    return currentDepth;\r\n  }\r\n\r\n  let maxDepth = currentDepth;\r\n\r\n  blocks.forEach(block => {\r\n    if (block.children && block.children.length > 0) {\r\n      const childDepth = getMaxDepth(block.children, currentDepth + 1);\r\n      maxDepth = Math.max(maxDepth, childDepth);\r\n    }\r\n  });\r\n\r\n  return maxDepth;\r\n}\r\n\r\n// ============================================\r\n// Navigator Operations\r\n// ============================================\r\n\r\n/**\r\n * Convert editor blocks to navigator nodes\r\n */\r\nexport function blocksToNavigatorNodes(\r\n  blocks: EditorBlock[],\r\n  selectedBlockId: string | null,\r\n  expandedIds: Set<string>,\r\n  depth = 0\r\n): NavigatorNode[] {\r\n  return blocks.map(block => {\r\n    const node: NavigatorNode = {\r\n      id: block.id,\r\n      label: block.template?.name || 'Untitled Block',\r\n      type: block.containerType,\r\n      isVisible: block.isVisible,\r\n      isSelected: block.id === selectedBlockId,\r\n      isExpanded: expandedIds.has(block.id),\r\n      depth,\r\n      children: block.children && block.children.length > 0\r\n        ? blocksToNavigatorNodes(\r\n            block.children,\r\n            selectedBlockId,\r\n            expandedIds,\r\n            depth + 1\r\n          )\r\n        : undefined,\r\n    };\r\n\r\n    return node;\r\n  });\r\n}\r\n\r\n// ============================================\r\n// Configuration Helpers\r\n// ============================================\r\n\r\n/**\r\n * Merge content, style, and advanced configs for rendering\r\n */\r\nexport function mergeConfigs(block: EditorBlock): Record<string, any> {\r\n  return {\r\n    ...block.contentConfig,\r\n    ...block.styleConfig,\r\n    ...block.advancedConfig,\r\n  };\r\n}\r\n\r\n/**\r\n * Split a flat config into three-tab structure\r\n */\r\nexport function splitConfigIntoTabs(\r\n  config: Record<string, any>,\r\n  schema: any\r\n): {\r\n  contentConfig: Record<string, any>;\r\n  styleConfig: Record<string, any>;\r\n  advancedConfig: Record<string, any>;\r\n} {\r\n  // This is a simplified version - in reality, you'd use the schema to determine\r\n  // which fields belong in which tab\r\n  const contentConfig: Record<string, any> = {};\r\n  const styleConfig: Record<string, any> = {};\r\n  const advancedConfig: Record<string, any> = {};\r\n\r\n  Object.entries(config).forEach(([key, value]) => {\r\n    // Style-related keys\r\n    if (\r\n      key.includes('color') ||\r\n      key.includes('background') ||\r\n      key.includes('font') ||\r\n      key.includes('padding') ||\r\n      key.includes('margin') ||\r\n      key.includes('border')\r\n    ) {\r\n      styleConfig[key] = value;\r\n    }\r\n    // Advanced-related keys\r\n    else if (\r\n      key.includes('animation') ||\r\n      key.includes('custom') ||\r\n      key.includes('position') ||\r\n      key.includes('zIndex')\r\n    ) {\r\n      advancedConfig[key] = value;\r\n    }\r\n    // Content by default\r\n    else {\r\n      contentConfig[key] = value;\r\n    }\r\n  });\r\n\r\n  return { contentConfig, styleConfig, advancedConfig };\r\n}\r\n\r\n// ============================================\r\n// Order/Reordering Helpers\r\n// ============================================\r\n\r\n/**\r\n * Reorder blocks within the same parent\r\n */\r\nexport function reorderBlocks(\r\n  blocks: EditorBlock[],\r\n  oldIndex: number,\r\n  newIndex: number\r\n): EditorBlock[] {\r\n  const result = Array.from(blocks);\r\n  const [removed] = result.splice(oldIndex, 1);\r\n  result.splice(newIndex, 0, removed);\r\n\r\n  // Update order values\r\n  return result.map((block, index) => ({\r\n    ...block,\r\n    order: index,\r\n  }));\r\n}\r\n\r\n/**\r\n * Update order values for all blocks to be sequential\r\n */\r\nexport function normalizeBlockOrders(blocks: EditorBlock[]): EditorBlock[] {\r\n  return blocks.map((block, index) => {\r\n    const updated = { ...block, order: index };\r\n\r\n    if (block.children && block.children.length > 0) {\r\n      updated.children = normalizeBlockOrders(block.children);\r\n    }\r\n\r\n    return updated;\r\n  });\r\n}\r\n\r\n// ============================================\r\n// Validation\r\n// ============================================\r\n\r\n/**\r\n * Validate block tree structure\r\n */\r\nexport function validateBlockTree(blocks: EditorBlock[]): {\r\n  isValid: boolean;\r\n  errors: string[];\r\n} {\r\n  const errors: string[] = [];\r\n  const blockIds = new Set<string>();\r\n\r\n  const validate = (block: EditorBlock, ancestors: string[] = []): void => {\r\n    // Check for duplicate IDs\r\n    if (blockIds.has(block.id)) {\r\n      errors.push(`Duplicate block ID: ${block.id}`);\r\n    }\r\n    blockIds.add(block.id);\r\n\r\n    // Check for circular references\r\n    if (ancestors.includes(block.id)) {\r\n      errors.push(`Circular reference detected: ${block.id}`);\r\n    }\r\n\r\n    // Check children\r\n    if (block.children) {\r\n      // Non-containers shouldn't have children\r\n      if (!isContainer(block)) {\r\n        errors.push(`Non-container block ${block.id} has children`);\r\n      }\r\n\r\n      block.children.forEach(child => {\r\n        validate(child, [...ancestors, block.id]);\r\n      });\r\n    }\r\n  };\r\n\r\n  blocks.forEach(block => validate(block));\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n  };\r\n}\r\n\r\n// ============================================\r\n// Search & Filter\r\n// ============================================\r\n\r\n/**\r\n * Search blocks by text\r\n */\r\nexport function searchBlocks(\r\n  blocks: EditorBlock[],\r\n  query: string\r\n): EditorBlock[] {\r\n  const results: EditorBlock[] = [];\r\n  const lowerQuery = query.toLowerCase();\r\n\r\n  const search = (block: EditorBlock) => {\r\n    const templateName = block.template?.name?.toLowerCase() || '';\r\n    const configStr = JSON.stringify(block.contentConfig).toLowerCase();\r\n\r\n    if (templateName.includes(lowerQuery) || configStr.includes(lowerQuery)) {\r\n      results.push(block);\r\n    }\r\n\r\n    if (block.children && block.children.length > 0) {\r\n      block.children.forEach(search);\r\n    }\r\n  };\r\n\r\n  blocks.forEach(search);\r\n\r\n  return results;\r\n}\r\n","export function isWindow(element: Object): element is typeof window {\n  const elementString = Object.prototype.toString.call(element);\n  return (\n    elementString === '[object Window]' ||\n    // In Electron context the Window object serializes to [object global]\n    elementString === '[object global]'\n  );\n}\n","/**\n * Swap an array item to a different position. Returns a new array with the item swapped to the new position.\n */\nexport function arraySwap<T>(array: T[], from: number, to: number): T[] {\n  const newArray = array.slice();\n\n  newArray[from] = array[to];\n  newArray[to] = array[from];\n\n  return newArray;\n}\n","import React from 'react';\n\nexport interface Props {\n  id: string;\n  announcement: string;\n  ariaLiveType?: \"polite\" | \"assertive\" | \"off\";\n}\n\nexport function LiveRegion({id, announcement, ariaLiveType = \"assertive\"}: Props) {\n  // Hide element visually but keep it readable by screen readers\n  const visuallyHidden: React.CSSProperties = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0 0 0 0)',\n    clipPath: 'inset(100%)',\n    whiteSpace: 'nowrap',\n  };\n  \n  return (\n    <div\n      id={id}\n      style={visuallyHidden}\n      role=\"status\"\n      aria-live={ariaLiveType}\n      aria-atomic\n    >\n      {announcement}\n    </div>\n  );\n}\n","import {useCallback, useState} from 'react';\n\nimport type {DndMonitorListener, DndMonitorEvent} from './types';\n\nexport function useDndMonitorProvider() {\n  const [listeners] = useState(() => new Set<DndMonitorListener>());\n\n  const registerListener = useCallback(\n    (listener) => {\n      listeners.add(listener);\n      return () => listeners.delete(listener);\n    },\n    [listeners]\n  );\n\n  const dispatch = useCallback(\n    ({type, event}: DndMonitorEvent) => {\n      listeners.forEach((listener) => listener[type]?.(event as any));\n    },\n    [listeners]\n  );\n\n  return [dispatch, registerListener] as const;\n}\n","/**\r\n * Container Component\r\n *\r\n * Renders different types of container blocks (Section, Flexbox, Grid)\r\n * with support for nested children and layout customization.\r\n */\r\n\r\nimport React from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { ContainerType, EditorBlock, FlexboxSettings, GridSettings } from '@/types/editor';\r\nimport { Plus } from 'lucide-react';\r\n\r\ninterface ContainerProps {\r\n  block: EditorBlock;\r\n  children?: React.ReactNode;\r\n  isSelected?: boolean;\r\n  isHovered?: boolean;\r\n  className?: string;\r\n  onAddBlockToContainer?: (containerId: string) => void;\r\n}\r\n\r\nexport const Container: React.FC<ContainerProps> = ({\r\n  block,\r\n  children,\r\n  isSelected = false,\r\n  isHovered = false,\r\n  className,\r\n  onAddBlockToContainer,\r\n}) => {\r\n  const { containerType, layoutSettings, styleConfig, advancedConfig } = block;\r\n\r\n  // Get container-specific styles\r\n  const getContainerStyles = (): React.CSSProperties => {\r\n    const styles: React.CSSProperties = {};\r\n\r\n    // Apply style config\r\n    if (styleConfig) {\r\n      if (styleConfig.backgroundColor) styles.backgroundColor = styleConfig.backgroundColor;\r\n      if (styleConfig.padding) {\r\n        const p = styleConfig.padding;\r\n        styles.padding = `${p.top || 0}px ${p.right || 0}px ${p.bottom || 0}px ${p.left || 0}px`;\r\n      }\r\n      if (styleConfig.margin) {\r\n        const m = styleConfig.margin;\r\n        styles.margin = `${m.top || 0}px ${m.right || 0}px ${m.bottom || 0}px ${m.left || 0}px`;\r\n      }\r\n      if (styleConfig.borderRadius) {\r\n        const br = styleConfig.borderRadius;\r\n        styles.borderRadius = `${br.topLeft || 0}px ${br.topRight || 0}px ${br.bottomRight || 0}px ${br.bottomLeft || 0}px`;\r\n      }\r\n      if (styleConfig.borderWidth && styleConfig.borderStyle && styleConfig.borderColor) {\r\n        styles.border = `${styleConfig.borderWidth}px ${styleConfig.borderStyle} ${styleConfig.borderColor}`;\r\n      }\r\n      if (styleConfig.boxShadow) styles.boxShadow = styleConfig.boxShadow;\r\n      if (styleConfig.backgroundImage) {\r\n        styles.backgroundImage = `url(${styleConfig.backgroundImage})`;\r\n        if (styleConfig.backgroundSize) styles.backgroundSize = styleConfig.backgroundSize;\r\n        if (styleConfig.backgroundPosition) styles.backgroundPosition = styleConfig.backgroundPosition;\r\n        if (styleConfig.backgroundRepeat) styles.backgroundRepeat = styleConfig.backgroundRepeat;\r\n      }\r\n      if (styleConfig.width) styles.width = styleConfig.width;\r\n      if (styleConfig.height) styles.height = styleConfig.height;\r\n      if (styleConfig.maxWidth) styles.maxWidth = styleConfig.maxWidth;\r\n      if (styleConfig.minHeight) styles.minHeight = styleConfig.minHeight;\r\n    }\r\n\r\n    // Apply advanced config\r\n    if (advancedConfig) {\r\n      if (advancedConfig.position) styles.position = advancedConfig.position;\r\n      if (advancedConfig.zIndex !== undefined) styles.zIndex = advancedConfig.zIndex;\r\n      if (advancedConfig.overflow) styles.overflow = advancedConfig.overflow;\r\n    }\r\n\r\n    return styles;\r\n  };\r\n\r\n  // Get layout-specific styles and classes\r\n  const getLayoutConfig = () => {\r\n    if (!layoutSettings) {\r\n      return { styles: {}, classes: '' };\r\n    }\r\n\r\n    const styles: React.CSSProperties = {};\r\n    let classes = '';\r\n\r\n    switch (containerType) {\r\n      case ContainerType.FLEXBOX: {\r\n        const flexSettings = layoutSettings as FlexboxSettings;\r\n        styles.display = 'flex';\r\n        styles.flexDirection = flexSettings.direction || 'row';\r\n        styles.flexWrap = flexSettings.wrap || 'nowrap';\r\n        styles.justifyContent = flexSettings.justifyContent || 'flex-start';\r\n        styles.alignItems = flexSettings.alignItems || 'stretch';\r\n        if (flexSettings.alignContent) styles.alignContent = flexSettings.alignContent;\r\n        if (flexSettings.gap) styles.gap = `${flexSettings.gap}px`;\r\n        break;\r\n      }\r\n\r\n      case ContainerType.GRID: {\r\n        const gridSettings = layoutSettings as GridSettings;\r\n        styles.display = 'grid';\r\n\r\n        // Handle grid columns\r\n        if (typeof gridSettings.columns === 'number') {\r\n          styles.gridTemplateColumns = `repeat(${gridSettings.columns}, 1fr)`;\r\n        } else if (gridSettings.columns) {\r\n          styles.gridTemplateColumns = gridSettings.columns;\r\n        }\r\n\r\n        // Handle grid rows\r\n        if (typeof gridSettings.rows === 'number') {\r\n          styles.gridTemplateRows = `repeat(${gridSettings.rows}, 1fr)`;\r\n        } else if (gridSettings.rows) {\r\n          styles.gridTemplateRows = gridSettings.rows;\r\n        }\r\n\r\n        if (gridSettings.columnGap) styles.columnGap = `${gridSettings.columnGap}px`;\r\n        if (gridSettings.rowGap) styles.rowGap = `${gridSettings.rowGap}px`;\r\n        if (gridSettings.autoFlow) styles.gridAutoFlow = gridSettings.autoFlow;\r\n        if (gridSettings.justifyItems) styles.justifyItems = gridSettings.justifyItems;\r\n        if (gridSettings.alignItems) styles.alignItems = gridSettings.alignItems;\r\n        break;\r\n      }\r\n\r\n      case ContainerType.SECTION: {\r\n        // Section is full-width container\r\n        classes = 'w-full';\r\n        const flexSettings = layoutSettings as FlexboxSettings;\r\n        if (flexSettings) {\r\n          styles.display = 'flex';\r\n          styles.flexDirection = flexSettings.direction || 'column';\r\n          styles.alignItems = flexSettings.alignItems || 'stretch';\r\n          if (flexSettings.gap) styles.gap = `${flexSettings.gap}px`;\r\n        }\r\n        break;\r\n      }\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    return { styles, classes };\r\n  };\r\n\r\n  const containerStyles = getContainerStyles();\r\n  const layoutConfig = getLayoutConfig();\r\n  const combinedStyles = { ...layoutConfig.styles, ...containerStyles };\r\n\r\n  // Visibility classes based on responsive settings\r\n  const getVisibilityClasses = () => {\r\n    const classes: string[] = [];\r\n\r\n    if (advancedConfig?.hideOnMobile) classes.push('hidden md:block');\r\n    else if (advancedConfig?.hideOnTablet) classes.push('block md:hidden lg:block');\r\n    else if (advancedConfig?.hideOnDesktop) classes.push('block lg:hidden');\r\n\r\n    return classes.join(' ');\r\n  };\r\n\r\n  const visibilityClasses = getVisibilityClasses();\r\n\r\n  return (\r\n    <div\r\n      data-block-id={block.id}\r\n      data-container-type={containerType}\r\n      className={cn(\r\n        'transition-all duration-200',\r\n        layoutConfig.classes,\r\n        visibilityClasses,\r\n        advancedConfig?.customClasses,\r\n        // Selection and hover states\r\n        isSelected && 'ring-2 ring-primary ring-offset-2',\r\n        isHovered && !isSelected && 'ring-1 ring-gray-300',\r\n        className\r\n      )}\r\n      style={combinedStyles}\r\n    >\r\n      {/* Custom CSS via style tag */}\r\n      {advancedConfig?.customCss && (\r\n        <style\r\n          dangerouslySetInnerHTML={{\r\n            __html: `[data-block-id=\"${block.id}\"] { ${advancedConfig.customCss} }`,\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Container children */}\r\n      {children}\r\n\r\n      {/* Empty container placeholder */}\r\n      {(!children || React.Children.count(children) === 0) && containerType !== ContainerType.BLOCK && (\r\n        <div className=\"min-h-[120px] border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50/50 hover:bg-gray-100/50 hover:border-primary/50 transition-all group/empty\">\r\n          <div className=\"text-center p-4\">\r\n            <button\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                if (onAddBlockToContainer) {\r\n                  onAddBlockToContainer(block.id);\r\n                }\r\n              }}\r\n              className=\"inline-flex items-center gap-2 px-4 py-2 bg-white hover:bg-primary hover:text-white border-2 border-dashed border-gray-300 hover:border-primary rounded-lg text-gray-500 hover:text-white transition-all group-hover/empty:border-primary/50\"\r\n            >\r\n              <Plus className=\"h-4 w-4\" />\r\n              <span className=\"text-sm font-medium\">Add Block to {containerType}</span>\r\n            </button>\r\n            <div className=\"text-xs text-gray-400 mt-2\">or drag blocks here</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Container Label Component\r\n * Shows the container type label in the editor\r\n */\r\ninterface ContainerLabelProps {\r\n  containerType: ContainerType;\r\n  blockName?: string;\r\n}\r\n\r\nexport const ContainerLabel: React.FC<ContainerLabelProps> = ({ containerType, blockName }) => {\r\n  const getIcon = () => {\r\n    switch (containerType) {\r\n      case ContainerType.SECTION:\r\n        return (\r\n          <svg className=\"w-3 h-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5h16M4 12h16M4 19h16\" />\r\n          </svg>\r\n        );\r\n      case ContainerType.FLEXBOX:\r\n        return (\r\n          <svg className=\"w-3 h-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7\" />\r\n          </svg>\r\n        );\r\n      case ContainerType.GRID:\r\n        return (\r\n          <svg className=\"w-3 h-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z\" />\r\n          </svg>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (containerType === ContainerType.BLOCK) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"inline-flex items-center gap-1.5 bg-purple-600 text-white text-[10px] font-semibold px-2 py-0.5 rounded-full shadow-sm uppercase tracking-wider\">\r\n      {getIcon()}\r\n      <span>{containerType}</span>\r\n    </div>\r\n  );\r\n};\r\n","export function isNode(node: Object): node is Node {\n  return 'nodeType' in node;\n}\n","import type {\n  ClientRect,\n  UniqueIdentifier,\n  UseDndContextReturnValue,\n} from '@dnd-kit/core';\n\nexport function getSortedRects(\n  items: UniqueIdentifier[],\n  rects: UseDndContextReturnValue['droppableRects']\n) {\n  return items.reduce<ClientRect[]>((accumulator, id, index) => {\n    const rect = rects.get(id);\n\n    if (rect) {\n      accumulator[index] = rect;\n    }\n\n    return accumulator;\n  }, Array(items.length));\n}\n","/**\r\n * Keyboard Shortcuts Hook\r\n *\r\n * Global keyboard shortcut handler for the editor.\r\n * Matches Elementor's keyboard shortcuts.\r\n */\r\n\r\nimport { useEffect, useCallback } from 'react';\r\n\r\nexport interface KeyboardShortcut {\r\n  key: string;\r\n  ctrl?: boolean;\r\n  shift?: boolean;\r\n  alt?: boolean;\r\n  meta?: boolean;\r\n  description: string;\r\n  action: () => void;\r\n  preventDefault?: boolean;\r\n}\r\n\r\ninterface UseKeyboardShortcutsOptions {\r\n  enabled?: boolean;\r\n  shortcuts: KeyboardShortcut[];\r\n}\r\n\r\nexport function useKeyboardShortcuts({ enabled = true, shortcuts }: UseKeyboardShortcutsOptions) {\r\n  const handleKeyDown = useCallback(\r\n    (event: KeyboardEvent) => {\r\n      if (!enabled) return;\r\n\r\n      // Don't trigger shortcuts when typing in inputs, textareas, or contenteditable\r\n      const target = event.target as HTMLElement;\r\n      if (\r\n        target.tagName === 'INPUT' ||\r\n        target.tagName === 'TEXTAREA' ||\r\n        target.isContentEditable\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      for (const shortcut of shortcuts) {\r\n        const keyMatches = event.key.toLowerCase() === shortcut.key.toLowerCase();\r\n        const ctrlMatches = shortcut.ctrl ? (event.ctrlKey || event.metaKey) : !event.ctrlKey && !event.metaKey;\r\n        const shiftMatches = shortcut.shift ? event.shiftKey : !event.shiftKey;\r\n        const altMatches = shortcut.alt ? event.altKey : !event.altKey;\r\n        const metaMatches = shortcut.meta ? event.metaKey : !event.metaKey;\r\n\r\n        if (keyMatches && ctrlMatches && shiftMatches && altMatches) {\r\n          if (shortcut.preventDefault !== false) {\r\n            event.preventDefault();\r\n          }\r\n          shortcut.action();\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    [enabled, shortcuts]\r\n  );\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [handleKeyDown]);\r\n}\r\n\r\n/**\r\n * Create editor keyboard shortcuts\r\n */\r\nexport function createEditorShortcuts(handlers: {\r\n  onSave?: () => void;\r\n  onUndo?: () => void;\r\n  onRedo?: () => void;\r\n  onCopy?: () => void;\r\n  onPaste?: () => void;\r\n  onDuplicate?: () => void;\r\n  onDelete?: () => void;\r\n  onOpenFinder?: () => void;\r\n  onOpenHistory?: () => void;\r\n  onToggleDeviceMode?: () => void;\r\n  onShowHelp?: () => void;\r\n  onSelectAll?: () => void;\r\n  onDeselectAll?: () => void;\r\n}): KeyboardShortcut[] {\r\n  const shortcuts: KeyboardShortcut[] = [];\r\n\r\n  if (handlers.onSave) {\r\n    shortcuts.push({\r\n      key: 's',\r\n      ctrl: true,\r\n      description: 'Save page',\r\n      action: handlers.onSave,\r\n    });\r\n  }\r\n\r\n  if (handlers.onUndo) {\r\n    shortcuts.push({\r\n      key: 'z',\r\n      ctrl: true,\r\n      description: 'Undo',\r\n      action: handlers.onUndo,\r\n    });\r\n  }\r\n\r\n  if (handlers.onRedo) {\r\n    shortcuts.push({\r\n      key: 'z',\r\n      ctrl: true,\r\n      shift: true,\r\n      description: 'Redo',\r\n      action: handlers.onRedo,\r\n    });\r\n    shortcuts.push({\r\n      key: 'y',\r\n      ctrl: true,\r\n      description: 'Redo',\r\n      action: handlers.onRedo,\r\n    });\r\n  }\r\n\r\n  if (handlers.onCopy) {\r\n    shortcuts.push({\r\n      key: 'c',\r\n      ctrl: true,\r\n      description: 'Copy selected block',\r\n      action: handlers.onCopy,\r\n    });\r\n  }\r\n\r\n  if (handlers.onPaste) {\r\n    shortcuts.push({\r\n      key: 'v',\r\n      ctrl: true,\r\n      description: 'Paste block',\r\n      action: handlers.onPaste,\r\n    });\r\n  }\r\n\r\n  if (handlers.onDuplicate) {\r\n    shortcuts.push({\r\n      key: 'd',\r\n      ctrl: true,\r\n      description: 'Duplicate selected block',\r\n      action: handlers.onDuplicate,\r\n    });\r\n  }\r\n\r\n  if (handlers.onDelete) {\r\n    shortcuts.push({\r\n      key: 'Delete',\r\n      description: 'Delete selected block',\r\n      action: handlers.onDelete,\r\n    });\r\n    shortcuts.push({\r\n      key: 'Backspace',\r\n      description: 'Delete selected block',\r\n      action: handlers.onDelete,\r\n    });\r\n  }\r\n\r\n  if (handlers.onOpenFinder) {\r\n    shortcuts.push({\r\n      key: 'e',\r\n      ctrl: true,\r\n      description: 'Open Finder',\r\n      action: handlers.onOpenFinder,\r\n    });\r\n    shortcuts.push({\r\n      key: 'k',\r\n      ctrl: true,\r\n      description: 'Open Finder',\r\n      action: handlers.onOpenFinder,\r\n    });\r\n  }\r\n\r\n  if (handlers.onOpenHistory) {\r\n    shortcuts.push({\r\n      key: 'h',\r\n      ctrl: true,\r\n      description: 'Open History',\r\n      action: handlers.onOpenHistory,\r\n    });\r\n  }\r\n\r\n  if (handlers.onToggleDeviceMode) {\r\n    shortcuts.push({\r\n      key: 'm',\r\n      ctrl: true,\r\n      description: 'Toggle device mode',\r\n      action: handlers.onToggleDeviceMode,\r\n    });\r\n  }\r\n\r\n  if (handlers.onShowHelp) {\r\n    shortcuts.push({\r\n      key: '/',\r\n      ctrl: true,\r\n      description: 'Show keyboard shortcuts',\r\n      action: handlers.onShowHelp,\r\n    });\r\n  }\r\n\r\n  if (handlers.onSelectAll) {\r\n    shortcuts.push({\r\n      key: 'a',\r\n      ctrl: true,\r\n      description: 'Select all blocks',\r\n      action: handlers.onSelectAll,\r\n    });\r\n  }\r\n\r\n  if (handlers.onDeselectAll) {\r\n    shortcuts.push({\r\n      key: 'Escape',\r\n      description: 'Deselect all',\r\n      action: handlers.onDeselectAll,\r\n    });\r\n  }\r\n\r\n  return shortcuts;\r\n}\r\n\r\n/**\r\n * Format shortcut for display\r\n */\r\nexport function formatShortcut(shortcut: KeyboardShortcut): string {\r\n  const parts: string[] = [];\r\n\r\n  if (shortcut.ctrl || shortcut.meta) {\r\n    parts.push('Ctrl');\r\n  }\r\n  if (shortcut.shift) {\r\n    parts.push('Shift');\r\n  }\r\n  if (shortcut.alt) {\r\n    parts.push('Alt');\r\n  }\r\n\r\n  parts.push(shortcut.key.charAt(0).toUpperCase() + shortcut.key.slice(1));\r\n\r\n  return parts.join('+');\r\n}\r\n","import {isWindow} from '../type-guards/isWindow';\nimport {isNode} from '../type-guards/isNode';\n\nexport function getWindow(target: Event['target']): typeof window {\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return target.ownerDocument?.defaultView ?? window;\n}\n","export function isValidIndex(index: number | null): index is number {\n  return index !== null && index >= 0;\n}\n","import type {Announcements, ScreenReaderInstructions} from './types';\n\nexport const defaultScreenReaderInstructions: ScreenReaderInstructions = {\n  draggable: `\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  `,\n};\n\nexport const defaultAnnouncements: Announcements = {\n  onDragStart({active}) {\n    return `Picked up draggable item ${active.id}.`;\n  },\n  onDragOver({active, over}) {\n    if (over) {\n      return `Draggable item ${active.id} was moved over droppable area ${over.id}.`;\n    }\n\n    return `Draggable item ${active.id} is no longer over a droppable area.`;\n  },\n  onDragEnd({active, over}) {\n    if (over) {\n      return `Draggable item ${active.id} was dropped over droppable area ${over.id}`;\n    }\n\n    return `Draggable item ${active.id} was dropped.`;\n  },\n  onDragCancel({active}) {\n    return `Dragging was cancelled. Draggable item ${active.id} was dropped.`;\n  },\n};\n","import type {UniqueIdentifier} from '@dnd-kit/core';\n\nexport function itemsEqual(a: UniqueIdentifier[], b: UniqueIdentifier[]) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","/**\r\n * Finder Command Palette\r\n *\r\n * Quick access to blocks, pages, settings, and actions.\r\n * Similar to Elementor's Finder (Ctrl+E) and modern command palettes.\r\n */\r\n\r\nimport React, { useState, useMemo, useEffect, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport {\r\n  Search,\r\n  FileText,\r\n  Plus,\r\n  Settings,\r\n  Layers,\r\n  Book,\r\n  ExternalLink,\r\n  ChevronRight,\r\n  Command,\r\n} from 'lucide-react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { cn } from '@/lib/utils';\r\nimport { BlockTemplate } from '@/types/editor';\r\n\r\ninterface FinderItem {\r\n  id: string;\r\n  type: 'block' | 'page' | 'action' | 'setting' | 'recent';\r\n  label: string;\r\n  description?: string;\r\n  icon?: React.ReactNode;\r\n  action: () => void;\r\n  keywords?: string[];\r\n}\r\n\r\ninterface FinderProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  blockTemplates?: BlockTemplate[];\r\n  onAddBlock?: (template: BlockTemplate) => void;\r\n  recentBlocks?: BlockTemplate[];\r\n  onNavigate?: (path: string) => void;\r\n}\r\n\r\nexport const Finder: React.FC<FinderProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  blockTemplates = [],\r\n  onAddBlock,\r\n  recentBlocks = [],\r\n  onNavigate,\r\n}) => {\r\n  const [query, setQuery] = useState('');\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const itemsRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Build all available items\r\n  const allItems = useMemo(() => {\r\n    const items: FinderItem[] = [];\r\n\r\n    // Recent blocks\r\n    if (recentBlocks.length > 0) {\r\n      items.push(\r\n        ...recentBlocks.slice(0, 5).map((template) => ({\r\n          id: `recent-${template.id}`,\r\n          type: 'recent' as const,\r\n          label: template.name,\r\n          description: 'Recently used',\r\n          icon: <Layers className=\"w-4 h-4 text-blue-500\" />,\r\n          action: () => {\r\n            if (onAddBlock) onAddBlock(template);\r\n            onClose();\r\n          },\r\n          keywords: [template.name, template.category, 'recent'],\r\n        }))\r\n      );\r\n    }\r\n\r\n    // All block templates\r\n    items.push(\r\n      ...blockTemplates.map((template) => ({\r\n        id: `block-${template.id}`,\r\n        type: 'block' as const,\r\n        label: template.name,\r\n        description: template.description || template.category,\r\n        icon: <Layers className=\"w-4 h-4 text-purple-500\" />,\r\n        action: () => {\r\n          if (onAddBlock) onAddBlock(template);\r\n          onClose();\r\n        },\r\n        keywords: [template.name, template.category, template.slug],\r\n      }))\r\n    );\r\n\r\n    // Actions\r\n    items.push(\r\n      {\r\n        id: 'create-page',\r\n        type: 'action',\r\n        label: 'Create New Page',\r\n        description: 'Create a new CMS page',\r\n        icon: <Plus className=\"w-4 h-4 text-green-500\" />,\r\n        action: () => {\r\n          if (onNavigate) onNavigate('/admin/cms/pages/new');\r\n          onClose();\r\n        },\r\n        keywords: ['create', 'new', 'page'],\r\n      },\r\n      {\r\n        id: 'view-pages',\r\n        type: 'action',\r\n        label: 'View All Pages',\r\n        description: 'Go to pages list',\r\n        icon: <FileText className=\"w-4 h-4 text-blue-500\" />,\r\n        action: () => {\r\n          if (onNavigate) onNavigate('/admin/cms/pages');\r\n          onClose();\r\n        },\r\n        keywords: ['pages', 'list', 'view'],\r\n      }\r\n    );\r\n\r\n    // Settings\r\n    items.push(\r\n      {\r\n        id: 'page-settings',\r\n        type: 'setting',\r\n        label: 'Page Settings',\r\n        description: 'Edit page metadata and SEO',\r\n        icon: <Settings className=\"w-4 h-4 text-gray-500\" />,\r\n        action: () => {\r\n          // This would open the page settings panel\r\n          onClose();\r\n        },\r\n        keywords: ['settings', 'page', 'seo', 'metadata'],\r\n      },\r\n      {\r\n        id: 'help',\r\n        type: 'setting',\r\n        label: 'Help & Documentation',\r\n        description: 'View editor documentation',\r\n        icon: <Book className=\"w-4 h-4 text-orange-500\" />,\r\n        action: () => {\r\n          window.open('https://code.claude.com/docs', '_blank');\r\n          onClose();\r\n        },\r\n        keywords: ['help', 'docs', 'documentation', 'guide'],\r\n      }\r\n    );\r\n\r\n    return items;\r\n  }, [blockTemplates, recentBlocks, onAddBlock, onClose, onNavigate]);\r\n\r\n  // Filter items based on query\r\n  const filteredItems = useMemo(() => {\r\n    if (!query.trim()) {\r\n      // Show recent items first when no query\r\n      return allItems.sort((a, b) => {\r\n        if (a.type === 'recent' && b.type !== 'recent') return -1;\r\n        if (a.type !== 'recent' && b.type === 'recent') return 1;\r\n        return 0;\r\n      });\r\n    }\r\n\r\n    const lowerQuery = query.toLowerCase();\r\n    return allItems\r\n      .filter((item) => {\r\n        const searchText = [\r\n          item.label,\r\n          item.description,\r\n          ...(item.keywords || []),\r\n        ]\r\n          .filter(Boolean)\r\n          .join(' ')\r\n          .toLowerCase();\r\n\r\n        return searchText.includes(lowerQuery);\r\n      })\r\n      .sort((a, b) => {\r\n        // Prioritize exact label matches\r\n        const aLabelMatch = a.label.toLowerCase().startsWith(lowerQuery);\r\n        const bLabelMatch = b.label.toLowerCase().startsWith(lowerQuery);\r\n        if (aLabelMatch && !bLabelMatch) return -1;\r\n        if (!aLabelMatch && bLabelMatch) return 1;\r\n        return 0;\r\n      });\r\n  }, [allItems, query]);\r\n\r\n  // Handle keyboard navigation\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') {\r\n        onClose();\r\n      } else if (e.key === 'ArrowDown') {\r\n        e.preventDefault();\r\n        setSelectedIndex((prev) => Math.min(prev + 1, filteredItems.length - 1));\r\n      } else if (e.key === 'ArrowUp') {\r\n        e.preventDefault();\r\n        setSelectedIndex((prev) => Math.max(prev - 1, 0));\r\n      } else if (e.key === 'Enter') {\r\n        e.preventDefault();\r\n        if (filteredItems[selectedIndex]) {\r\n          filteredItems[selectedIndex].action();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [isOpen, filteredItems, selectedIndex, onClose]);\r\n\r\n  // Reset selection when filtered items change\r\n  useEffect(() => {\r\n    setSelectedIndex(0);\r\n  }, [filteredItems]);\r\n\r\n  // Focus input when opened\r\n  useEffect(() => {\r\n    if (isOpen && inputRef.current) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Scroll selected item into view\r\n  useEffect(() => {\r\n    if (itemsRef.current) {\r\n      const selectedElement = itemsRef.current.children[selectedIndex] as HTMLElement;\r\n      if (selectedElement) {\r\n        selectedElement.scrollIntoView({ block: 'nearest', behavior: 'smooth' });\r\n      }\r\n    }\r\n  }, [selectedIndex]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  if (typeof window === 'undefined') return null;\r\n\r\n  return createPortal(\r\n    <div className=\"fixed inset-0 z-50 flex items-start justify-center pt-[10vh] bg-black/50 backdrop-blur-sm animate-in fade-in duration-200\">\r\n      <div className=\"w-full max-w-2xl bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden animate-in zoom-in-95 slide-in-from-top-4 duration-200\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center gap-3 px-4 py-3 border-b bg-gray-50\">\r\n          <Search className=\"w-5 h-5 text-gray-400\" />\r\n          <Input\r\n            ref={inputRef}\r\n            type=\"text\"\r\n            placeholder=\"Search blocks, pages, and actions...\"\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            className=\"border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 text-base\"\r\n          />\r\n          <kbd className=\"hidden sm:inline-flex items-center gap-1 px-2 py-1 text-xs font-mono text-gray-500 bg-gray-100 border rounded\">\r\n            <Command className=\"w-3 h-3\" />\r\n            <span>E</span>\r\n          </kbd>\r\n        </div>\r\n\r\n        {/* Results */}\r\n        <div ref={itemsRef} className=\"max-h-[60vh] overflow-y-auto\">\r\n          {filteredItems.length > 0 ? (\r\n            <div className=\"py-2\">\r\n              {filteredItems.map((item, index) => (\r\n                <FinderItem\r\n                  key={item.id}\r\n                  item={item}\r\n                  isSelected={index === selectedIndex}\r\n                  onClick={() => {\r\n                    setSelectedIndex(index);\r\n                    item.action();\r\n                  }}\r\n                  onMouseEnter={() => setSelectedIndex(index)}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n              <Search className=\"w-12 h-12 text-gray-300 mb-3\" />\r\n              <p className=\"text-sm text-gray-500\">No results found</p>\r\n              <p className=\"text-xs text-gray-400 mt-1\">\r\n                Try searching for blocks, pages, or actions\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex items-center justify-between px-4 py-2 border-t bg-gray-50 text-xs text-gray-500\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"flex items-center gap-1\">\r\n              <kbd className=\"px-1.5 py-0.5 bg-white border rounded font-mono\">↑</kbd>\r\n              <kbd className=\"px-1.5 py-0.5 bg-white border rounded font-mono\">↓</kbd>\r\n              Navigate\r\n            </span>\r\n            <span className=\"flex items-center gap-1\">\r\n              <kbd className=\"px-1.5 py-0.5 bg-white border rounded font-mono\">Enter</kbd>\r\n              Select\r\n            </span>\r\n            <span className=\"flex items-center gap-1\">\r\n              <kbd className=\"px-1.5 py-0.5 bg-white border rounded font-mono\">Esc</kbd>\r\n              Close\r\n            </span>\r\n          </div>\r\n          <span>{filteredItems.length} results</span>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n};\r\n\r\n/**\r\n * Finder Item Component\r\n */\r\ninterface FinderItemProps {\r\n  item: FinderItem;\r\n  isSelected: boolean;\r\n  onClick: () => void;\r\n  onMouseEnter: () => void;\r\n}\r\n\r\nconst FinderItem: React.FC<FinderItemProps> = ({ item, isSelected, onClick, onMouseEnter }) => {\r\n  const getTypeLabel = () => {\r\n    switch (item.type) {\r\n      case 'block':\r\n        return 'Block';\r\n      case 'recent':\r\n        return 'Recent';\r\n      case 'action':\r\n        return 'Action';\r\n      case 'setting':\r\n        return 'Setting';\r\n      case 'page':\r\n        return 'Page';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={cn(\r\n        'w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors',\r\n        isSelected ? 'bg-primary/10 border-l-2 border-primary' : 'hover:bg-gray-50'\r\n      )}\r\n      onClick={onClick}\r\n      onMouseEnter={onMouseEnter}\r\n    >\r\n      {/* Icon */}\r\n      <div className=\"flex-shrink-0\">{item.icon}</div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"font-medium text-sm text-gray-900 truncate\">{item.label}</span>\r\n          <span className=\"text-xs text-gray-400 uppercase tracking-wider font-semibold\">\r\n            {getTypeLabel()}\r\n          </span>\r\n        </div>\r\n        {item.description && (\r\n          <p className=\"text-xs text-gray-500 truncate mt-0.5\">{item.description}</p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Arrow */}\r\n      <ChevronRight className={cn('w-4 h-4 text-gray-400 flex-shrink-0', isSelected && 'text-primary')} />\r\n    </button>\r\n  );\r\n};\r\n\r\n/**\r\n * useFinder Hook\r\n */\r\nexport function useFinder() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const open = () => setIsOpen(true);\r\n  const close = () => setIsOpen(false);\r\n  const toggle = () => setIsOpen((prev) => !prev);\r\n\r\n  return { isOpen, open, close, toggle };\r\n}\r\n","import {getWindow} from '../execution-context/getWindow';\n\nexport function isDocument(node: Node): node is Document {\n  const {Document} = getWindow(node);\n\n  return node instanceof Document;\n}\n","import {useCallback, useState} from 'react';\n\nexport function useAnnouncement() {\n  const [announcement, setAnnouncement] = useState('');\n  const announce = useCallback((value: string | undefined) => {\n    if (value != null) {\n      setAnnouncement(value);\n    }\n  }, []);\n\n  return {announce, announcement} as const;\n}\n","/**\r\n * Enhanced Canvas Component with Nested Drag-and-Drop\r\n *\r\n * Supports:\r\n * - Nested containers with children\r\n * - Drag-and-drop between containers\r\n * - Visual drop indicators\r\n * - Multiple device preview modes\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport {\r\n  DndContext,\r\n  closestCenter,\r\n  KeyboardSensor,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n  DragEndEvent,\r\n  DragOverEvent,\r\n  DragStartEvent,\r\n  DragOverlay,\r\n  closestCorners,\r\n} from '@dnd-kit/core';\r\nimport {\r\n  SortableContext,\r\n  sortableKeyboardCoordinates,\r\n  verticalListSortingStrategy,\r\n} from '@dnd-kit/sortable';\r\nimport { NestedSortableBlock } from './NestedSortableBlock';\r\nimport { EditorBlock, ContainerType } from '@/types/editor';\r\nimport { DeviceType } from './DevicePreview';\r\nimport { cn } from '@/lib/utils';\r\nimport { buildBlockTree, findBlockById, isContainer, canDropInto } from '@/lib/editor-utils';\r\n\r\ninterface NestedCanvasProps {\r\n  blocks: EditorBlock[];\r\n  selectedBlockId: string | null;\r\n  hoveredBlockId?: string | null;\r\n  onSelectBlock: (id: string) => void;\r\n  onHoverBlock?: (id: string | null) => void;\r\n  onToggleBlockSettings?: (id: string) => void;\r\n  onRemoveBlock: (id: string) => void;\r\n  onReorderBlocks: (blocks: EditorBlock[]) => void;\r\n  onMoveBlock?: (blockId: string, newParentId: string | null, newOrder: number) => void;\r\n  onDuplicateBlock?: (blockId: string) => void;\r\n  onToggleVisibility?: (blockId: string) => void;\r\n  onAddBlockToContainer?: (containerId: string) => void;\r\n  device: DeviceType;\r\n}\r\n\r\nexport const NestedCanvas: React.FC<NestedCanvasProps> = ({\r\n  blocks,\r\n  selectedBlockId,\r\n  hoveredBlockId,\r\n  onSelectBlock,\r\n  onHoverBlock,\r\n  onToggleBlockSettings,\r\n  onRemoveBlock,\r\n  onReorderBlocks,\r\n  onMoveBlock,\r\n  onDuplicateBlock,\r\n  onToggleVisibility,\r\n  onAddBlockToContainer,\r\n  device,\r\n}) => {\r\n  const [activeId, setActiveId] = useState<string | null>(null);\r\n  const [overId, setOverId] = useState<string | null>(null);\r\n\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor, {\r\n      activationConstraint: {\r\n        distance: 8, // Require 8px of movement before dragging starts\r\n      },\r\n    }),\r\n    useSensor(KeyboardSensor, {\r\n      coordinateGetter: sortableKeyboardCoordinates,\r\n    })\r\n  );\r\n\r\n  // Build hierarchical tree from flat blocks\r\n  const blockTree = buildBlockTree(blocks);\r\n\r\n  const handleDragStart = (event: DragStartEvent) => {\r\n    setActiveId(event.active.id as string);\r\n  };\r\n\r\n  const handleDragOver = (event: DragOverEvent) => {\r\n    const { over } = event;\r\n    setOverId(over?.id as string | null);\r\n  };\r\n\r\n  const handleDragEnd = (event: DragEndEvent) => {\r\n    const { active, over } = event;\r\n\r\n    setActiveId(null);\r\n    setOverId(null);\r\n\r\n    if (!over || active.id === over.id) {\r\n      return;\r\n    }\r\n\r\n    const activeBlock = findBlockById(blocks, active.id as string);\r\n    const overBlock = findBlockById(blocks, over.id as string);\r\n\r\n    if (!activeBlock) {\r\n      return;\r\n    }\r\n\r\n    // Check if dropping into a container\r\n    if (over.data.current?.type === 'container' && overBlock) {\r\n      // Validate drop\r\n      if (canDropInto(activeBlock, overBlock)) {\r\n        // Move block into container\r\n        if (onMoveBlock) {\r\n          onMoveBlock(activeBlock.id, overBlock.id, 0);\r\n        }\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Otherwise, reorder at the same level\r\n    if (overBlock && activeBlock.parentId === overBlock.parentId) {\r\n      const parentBlocks = activeBlock.parentId\r\n        ? findBlockById(blocks, activeBlock.parentId)?.children || []\r\n        : blockTree;\r\n\r\n      const oldIndex = parentBlocks.findIndex((b) => b.id === active.id);\r\n      const newIndex = parentBlocks.findIndex((b) => b.id === over.id);\r\n\r\n      if (oldIndex !== -1 && newIndex !== -1 && oldIndex !== newIndex) {\r\n        // Reorder blocks\r\n        const reordered = [...parentBlocks];\r\n        const [removed] = reordered.splice(oldIndex, 1);\r\n        reordered.splice(newIndex, 0, removed);\r\n\r\n        // Update order values\r\n        const withUpdatedOrder = reordered.map((block, index) => ({\r\n          ...block,\r\n          order: index,\r\n        }));\r\n\r\n        // If at root level, update directly\r\n        if (!activeBlock.parentId) {\r\n          onReorderBlocks(withUpdatedOrder);\r\n        } else {\r\n          // Update parent's children\r\n          // This needs to bubble up to update the full blocks array\r\n          // For now, we'll call onReorderBlocks with the full updated tree\r\n          // (This will be handled better by the usePageEditor hook)\r\n          const updatedBlocks = blocks.map((b) => {\r\n            if (b.parentId === activeBlock.parentId) {\r\n              const newBlock = withUpdatedOrder.find((ub) => ub.id === b.id);\r\n              return newBlock || b;\r\n            }\r\n            return b;\r\n          });\r\n          onReorderBlocks(updatedBlocks);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDragCancel = () => {\r\n    setActiveId(null);\r\n    setOverId(null);\r\n  };\r\n\r\n  const getWidthClass = () => {\r\n    switch (device) {\r\n      case 'mobile':\r\n        return 'max-w-[375px]';\r\n      case 'tablet':\r\n        return 'max-w-[768px]';\r\n      default:\r\n        return 'max-w-full';\r\n    }\r\n  };\r\n\r\n  // Recursively render blocks and their children\r\n  const renderBlocks = (blocksToRender: EditorBlock[], depth = 0): React.ReactNode => {\r\n    return blocksToRender.map((block) => (\r\n      <NestedSortableBlock\r\n        key={block.id}\r\n        block={block}\r\n        isSelected={selectedBlockId === block.id}\r\n        isHovered={hoveredBlockId === block.id}\r\n        onSelect={() => onSelectBlock(block.id)}\r\n        onHover={onHoverBlock}\r\n        onToggleSettings={\r\n          onToggleBlockSettings\r\n            ? () => onToggleBlockSettings(block.id)\r\n            : undefined\r\n        }\r\n        onRemove={() => onRemoveBlock(block.id)}\r\n        onDuplicate={\r\n          onDuplicateBlock ? () => onDuplicateBlock(block.id) : undefined\r\n        }\r\n        onToggleVisibility={\r\n          onToggleVisibility ? () => onToggleVisibility(block.id) : undefined\r\n        }\r\n        onAddBlockToContainer={onAddBlockToContainer}\r\n        depth={depth}\r\n        renderChildren={(children) => renderBlocks(children, depth + 1)}\r\n      />\r\n    ));\r\n  };\r\n\r\n  const activeBlock = activeId ? findBlockById(blocks, activeId) : null;\r\n\r\n  return (\r\n    <div\r\n      className={cn('transition-all duration-300 ease-in-out w-full mx-auto', getWidthClass())}\r\n    >\r\n      <DndContext\r\n        sensors={sensors}\r\n        collisionDetection={closestCorners}\r\n        onDragStart={handleDragStart}\r\n        onDragOver={handleDragOver}\r\n        onDragEnd={handleDragEnd}\r\n        onDragCancel={handleDragCancel}\r\n      >\r\n        <SortableContext\r\n          items={blocks.map((b) => b.id)}\r\n          strategy={verticalListSortingStrategy}\r\n        >\r\n          <div\r\n            className={cn(\r\n              'min-h-[600px] bg-white shadow-lg border border-gray-200 transition-all',\r\n              device === 'desktop' && 'rounded-none',\r\n              device === 'tablet' && 'rounded-lg border-[3px] border-gray-400 my-8',\r\n              device === 'mobile' && 'rounded-[2rem] border-[12px] border-gray-800 my-8 shadow-2xl'\r\n            )}\r\n            style={{\r\n              minHeight: device === 'desktop' ? '100vh' : '600px'\r\n            }}\r\n          >\r\n            {/* Canvas Content */}\r\n            <div className={cn(\r\n              'min-h-full',\r\n              device === 'mobile' && 'rounded-[1.5rem] overflow-hidden'\r\n            )}>\r\n              {/* Render block tree */}\r\n              <div className=\"space-y-0\">{renderBlocks(blockTree)}</div>\r\n\r\n              {/* Empty state */}\r\n              {blocks.length === 0 && (\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-16 m-4 text-center bg-gradient-to-br from-gray-50 to-gray-100/50\">\r\n                  <div className=\"max-w-md mx-auto\">\r\n                    <div className=\"mb-4 inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 text-primary\">\r\n                      <svg\r\n                        className=\"w-8 h-8\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          strokeLinecap=\"round\"\r\n                          strokeLinejoin=\"round\"\r\n                          strokeWidth={2}\r\n                          d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\r\n                        />\r\n                      </svg>\r\n                    </div>\r\n                    <p className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                      Start Building Your Page\r\n                    </p>\r\n                    <p className=\"text-sm text-gray-600 mb-4\">\r\n                      Drag blocks from the left panel to add them to your canvas.\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                      Click blocks to configure • Drag to reorder • Nest in containers\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </SortableContext>\r\n\r\n        {/* Drag Overlay - shows dragged block while dragging */}\r\n        <DragOverlay>\r\n          {activeBlock ? (\r\n            <div className=\"bg-white rounded-lg border-2 border-primary shadow-2xl p-4 opacity-90 rotate-2 scale-105\">\r\n              <div className=\"flex items-center gap-2 text-sm font-semibold text-primary\">\r\n                <div className=\"w-2 h-2 bg-primary rounded-full animate-pulse\" />\r\n                {activeBlock.template?.name || 'Block'}\r\n                {isContainer(activeBlock) && (\r\n                  <span className=\"text-xs text-gray-500\">\r\n                    ({activeBlock.containerType})\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </DragOverlay>\r\n      </DndContext>\r\n    </div>\r\n  );\r\n};\r\n","import {getWindow} from '../execution-context/getWindow';\n\nimport {isWindow} from './isWindow';\n\nexport function isHTMLElement(node: Node | Window): node is HTMLElement {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n","import type {Disabled} from '../types';\n\nexport function normalizeDisabled(disabled: boolean | Disabled): Disabled {\n  if (typeof disabled === 'boolean') {\n    return {\n      draggable: disabled,\n      droppable: disabled,\n    };\n  }\n\n  return disabled;\n}\n","/**\r\n * Navigator Panel Component\r\n *\r\n * Tree view displaying the hierarchical structure of blocks on the page.\r\n * Similar to Elementor's Navigator panel.\r\n *\r\n * Features:\r\n * - Hierarchical tree view of blocks\r\n * - Expand/collapse containers\r\n * - Drag-and-drop reordering\r\n * - Click to select blocks\r\n * - Visibility toggle\r\n * - Search/filter\r\n */\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport {\r\n  ChevronRight,\r\n  ChevronDown,\r\n  Eye,\r\n  EyeOff,\r\n  Search,\r\n  Layers,\r\n  Trash2,\r\n  Copy,\r\n  X,\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { cn } from '@/lib/utils';\r\nimport { EditorBlock, NavigatorNode, ContainerType } from '@/types/editor';\r\nimport { blocksToNavigatorNodes, searchBlocks } from '@/lib/editor-utils';\r\nimport {\r\n  DndContext,\r\n  closestCenter,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n  DragEndEvent,\r\n} from '@dnd-kit/core';\r\nimport {\r\n  SortableContext,\r\n  useSortable,\r\n  verticalListSortingStrategy,\r\n} from '@dnd-kit/sortable';\r\nimport { CSS } from '@dnd-kit/utilities';\r\n\r\ninterface NavigatorProps {\r\n  blocks: EditorBlock[];\r\n  selectedBlockId: string | null;\r\n  onSelectBlock: (id: string) => void;\r\n  onRemoveBlock?: (id: string) => void;\r\n  onDuplicateBlock?: (id: string) => void;\r\n  onToggleVisibility?: (id: string) => void;\r\n  onReorderBlocks?: (blocks: EditorBlock[]) => void;\r\n  className?: string;\r\n}\r\n\r\nexport const Navigator: React.FC<NavigatorProps> = ({\r\n  blocks,\r\n  selectedBlockId,\r\n  onSelectBlock,\r\n  onRemoveBlock,\r\n  onDuplicateBlock,\r\n  onToggleVisibility,\r\n  onReorderBlocks,\r\n  className,\r\n}) => {\r\n  const [expandedIds, setExpandedIds] = useState<Set<string>>(new Set());\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  // Convert blocks to navigator nodes\r\n  const navigatorNodes = useMemo(() => {\r\n    if (searchQuery) {\r\n      // Filter blocks by search\r\n      const matchingBlocks = searchBlocks(blocks, searchQuery);\r\n      const matchingIds = new Set(matchingBlocks.map((b) => b.id));\r\n\r\n      // Auto-expand parents of matching blocks\r\n      const newExpandedIds = new Set(expandedIds);\r\n      matchingBlocks.forEach((block) => {\r\n        let currentBlock = block;\r\n        while (currentBlock.parentId) {\r\n          newExpandedIds.add(currentBlock.parentId);\r\n          currentBlock = blocks.find((b) => b.id === currentBlock.parentId)!;\r\n          if (!currentBlock) break;\r\n        }\r\n      });\r\n      setExpandedIds(newExpandedIds);\r\n\r\n      return blocksToNavigatorNodes(blocks, selectedBlockId, newExpandedIds).filter((node) =>\r\n        matchingIds.has(node.id)\r\n      );\r\n    }\r\n\r\n    return blocksToNavigatorNodes(blocks, selectedBlockId, expandedIds);\r\n  }, [blocks, selectedBlockId, expandedIds, searchQuery]);\r\n\r\n  const toggleExpand = (nodeId: string) => {\r\n    setExpandedIds((prev) => {\r\n      const next = new Set(prev);\r\n      if (next.has(nodeId)) {\r\n        next.delete(nodeId);\r\n      } else {\r\n        next.add(nodeId);\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const expandAll = () => {\r\n    const allContainerIds = blocks\r\n      .filter((b) => b.containerType !== ContainerType.BLOCK && b.children && b.children.length > 0)\r\n      .map((b) => b.id);\r\n    setExpandedIds(new Set(allContainerIds));\r\n  };\r\n\r\n  const collapseAll = () => {\r\n    setExpandedIds(new Set());\r\n  };\r\n\r\n  return (\r\n    <div className={cn('flex flex-col h-full bg-white border-r', className)}>\r\n      {/* Header */}\r\n      <div className=\"p-4 border-b\">\r\n        <div className=\"flex items-center justify-between mb-3\">\r\n          <div className=\"flex items-center gap-2 text-sm font-semibold text-gray-700\">\r\n            <Layers className=\"w-4 h-4\" />\r\n            <span>Navigator</span>\r\n            <span className=\"text-xs text-gray-500\">({blocks.length})</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={expandAll}\r\n              className=\"h-7 px-2 text-xs\"\r\n              title=\"Expand all\"\r\n            >\r\n              Expand\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={collapseAll}\r\n              className=\"h-7 px-2 text-xs\"\r\n              title=\"Collapse all\"\r\n            >\r\n              Collapse\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search */}\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Search blocks...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"pl-9 pr-8 h-9\"\r\n          />\r\n          {searchQuery && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7\"\r\n              onClick={() => setSearchQuery('')}\r\n            >\r\n              <X className=\"w-3 h-3\" />\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tree View */}\r\n      <div className=\"flex-1 overflow-y-auto p-2\">\r\n        {navigatorNodes.length > 0 ? (\r\n          <div className=\"space-y-0.5\">\r\n            {navigatorNodes.map((node) => (\r\n              <NavigatorTreeNode\r\n                key={node.id}\r\n                node={node}\r\n                onSelect={onSelectBlock}\r\n                onToggleExpand={toggleExpand}\r\n                onRemove={onRemoveBlock}\r\n                onDuplicate={onDuplicateBlock}\r\n                onToggleVisibility={onToggleVisibility}\r\n              />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-col items-center justify-center h-full text-center p-4\">\r\n            <Layers className=\"w-12 h-12 text-gray-300 mb-2\" />\r\n            <p className=\"text-sm text-gray-500\">\r\n              {searchQuery ? 'No blocks found' : 'No blocks yet'}\r\n            </p>\r\n            <p className=\"text-xs text-gray-400 mt-1\">\r\n              {searchQuery ? 'Try a different search' : 'Add blocks to your page'}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Navigator Tree Node Component\r\n * Represents a single node in the tree view\r\n */\r\ninterface NavigatorTreeNodeProps {\r\n  node: NavigatorNode;\r\n  onSelect: (id: string) => void;\r\n  onToggleExpand: (id: string) => void;\r\n  onRemove?: (id: string) => void;\r\n  onDuplicate?: (id: string) => void;\r\n  onToggleVisibility?: (id: string) => void;\r\n}\r\n\r\nconst NavigatorTreeNode: React.FC<NavigatorTreeNodeProps> = ({\r\n  node,\r\n  onSelect,\r\n  onToggleExpand,\r\n  onRemove,\r\n  onDuplicate,\r\n  onToggleVisibility,\r\n}) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const hasChildren = node.children && node.children.length > 0;\r\n\r\n  const {\r\n    attributes,\r\n    listeners,\r\n    setNodeRef,\r\n    transform,\r\n    transition,\r\n    isDragging,\r\n  } = useSortable({ id: node.id });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    opacity: isDragging ? 0.5 : 1,\r\n  };\r\n\r\n  const getIcon = () => {\r\n    switch (node.type) {\r\n      case ContainerType.SECTION:\r\n        return (\r\n          <svg className=\"w-3.5 h-3.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5h16M4 12h16M4 19h16\" />\r\n          </svg>\r\n        );\r\n      case ContainerType.FLEXBOX:\r\n        return (\r\n          <svg className=\"w-3.5 h-3.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7\" />\r\n          </svg>\r\n        );\r\n      case ContainerType.GRID:\r\n        return (\r\n          <svg className=\"w-3.5 h-3.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z\" />\r\n          </svg>\r\n        );\r\n      default:\r\n        return (\r\n          <svg className=\"w-3.5 h-3.5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n          </svg>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div ref={setNodeRef} style={style}>\r\n      <div\r\n        className={cn(\r\n          'group relative flex items-center gap-1 px-2 py-1.5 rounded-md text-sm transition-colors cursor-pointer',\r\n          node.isSelected && 'bg-primary/10 text-primary font-medium',\r\n          !node.isSelected && isHovered && 'bg-gray-100',\r\n          !node.isVisible && 'opacity-50'\r\n        )}\r\n        style={{ paddingLeft: `${node.depth * 20 + 8}px` }}\r\n        onClick={() => onSelect(node.id)}\r\n        onMouseEnter={() => setIsHovered(true)}\r\n        onMouseLeave={() => setIsHovered(false)}\r\n      >\r\n        {/* Expand/Collapse Button */}\r\n        {hasChildren && (\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onToggleExpand(node.id);\r\n            }}\r\n            className=\"flex-shrink-0 p-0.5 hover:bg-gray-200 rounded transition-colors\"\r\n          >\r\n            {node.isExpanded ? (\r\n              <ChevronDown className=\"w-3 h-3\" />\r\n            ) : (\r\n              <ChevronRight className=\"w-3 h-3\" />\r\n            )}\r\n          </button>\r\n        )}\r\n        {!hasChildren && <div className=\"w-4\" />}\r\n\r\n        {/* Icon */}\r\n        <div className=\"flex-shrink-0 text-gray-500\">{getIcon()}</div>\r\n\r\n        {/* Label */}\r\n        <div className=\"flex-1 truncate text-xs\">{node.label}</div>\r\n\r\n        {/* Action Buttons */}\r\n        <div\r\n          className={cn(\r\n            'flex-shrink-0 flex items-center gap-0.5 transition-opacity',\r\n            (isHovered || node.isSelected) ? 'opacity-100' : 'opacity-0'\r\n          )}\r\n        >\r\n          {/* Visibility Toggle */}\r\n          {onToggleVisibility && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"h-6 w-6\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                onToggleVisibility(node.id);\r\n              }}\r\n              title={node.isVisible ? 'Hide' : 'Show'}\r\n            >\r\n              {node.isVisible ? (\r\n                <Eye className=\"w-3 h-3\" />\r\n              ) : (\r\n                <EyeOff className=\"w-3 h-3\" />\r\n              )}\r\n            </Button>\r\n          )}\r\n\r\n          {/* Duplicate */}\r\n          {onDuplicate && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"h-6 w-6\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                onDuplicate(node.id);\r\n              }}\r\n              title=\"Duplicate\"\r\n            >\r\n              <Copy className=\"w-3 h-3\" />\r\n            </Button>\r\n          )}\r\n\r\n          {/* Remove */}\r\n          {onRemove && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"h-6 w-6 text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                onRemove(node.id);\r\n              }}\r\n              title=\"Remove\"\r\n            >\r\n              <Trash2 className=\"w-3 h-3\" />\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Children */}\r\n      {hasChildren && node.isExpanded && (\r\n        <div>\r\n          {node.children!.map((child) => (\r\n            <NavigatorTreeNode\r\n              key={child.id}\r\n              node={child}\r\n              onSelect={onSelect}\r\n              onToggleExpand={onToggleExpand}\r\n              onRemove={onRemove}\r\n              onDuplicate={onDuplicate}\r\n              onToggleVisibility={onToggleVisibility}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import {getWindow} from '../execution-context/getWindow';\n\nexport function isSVGElement(node: Node): node is SVGElement {\n  return node instanceof getWindow(node).SVGElement;\n}\n","import {\n  isWindow,\n  isHTMLElement,\n  isDocument,\n  isNode,\n  isSVGElement,\n} from '../type-guards';\n\nexport function getOwnerDocument(target: Event['target']): Document {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n","import type {ClientRect} from '@dnd-kit/core';\nimport type {SortingStrategy} from '../types';\n\n// To-do: We should be calculating scale transformation\nconst defaultScale = {\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport const horizontalListSortingStrategy: SortingStrategy = ({\n  rects,\n  activeNodeRect: fallbackActiveRect,\n  activeIndex,\n  overIndex,\n  index,\n}) => {\n  const activeNodeRect = rects[activeIndex] ?? fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  const itemGap = getItemGap(rects, index, activeIndex);\n\n  if (index === activeIndex) {\n    const newIndexRect = rects[overIndex];\n\n    if (!newIndexRect) {\n      return null;\n    }\n\n    return {\n      x:\n        activeIndex < overIndex\n          ? newIndexRect.left +\n            newIndexRect.width -\n            (activeNodeRect.left + activeNodeRect.width)\n          : newIndexRect.left - activeNodeRect.left,\n      y: 0,\n      ...defaultScale,\n    };\n  }\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: -activeNodeRect.width - itemGap,\n      y: 0,\n      ...defaultScale,\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: activeNodeRect.width + itemGap,\n      y: 0,\n      ...defaultScale,\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale,\n  };\n};\n\nfunction getItemGap(rects: ClientRect[], index: number, activeIndex: number) {\n  const currentRect: ClientRect | undefined = rects[index];\n  const previousRect: ClientRect | undefined = rects[index - 1];\n  const nextRect: ClientRect | undefined = rects[index + 1];\n\n  if (!currentRect || (!previousRect && !nextRect)) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect\n      ? currentRect.left - (previousRect.left + previousRect.width)\n      : nextRect.left - (currentRect.left + currentRect.width);\n  }\n\n  return nextRect\n    ? nextRect.left - (currentRect.left + currentRect.width)\n    : currentRect.left - (previousRect.left + previousRect.width);\n}\n","import React, {useEffect, useMemo, useState} from 'react';\nimport {createPortal} from 'react-dom';\nimport {useUniqueId} from '@dnd-kit/utilities';\nimport {HiddenText, LiveRegion, useAnnouncement} from '@dnd-kit/accessibility';\n\nimport {DndMonitorListener, useDndMonitor} from '../DndMonitor';\n\nimport type {Announcements, ScreenReaderInstructions} from './types';\nimport {\n  defaultAnnouncements,\n  defaultScreenReaderInstructions,\n} from './defaults';\n\ninterface Props {\n  announcements?: Announcements;\n  container?: Element;\n  screenReaderInstructions?: ScreenReaderInstructions;\n  hiddenTextDescribedById: string;\n}\n\nexport function Accessibility({\n  announcements = defaultAnnouncements,\n  container,\n  hiddenTextDescribedById,\n  screenReaderInstructions = defaultScreenReaderInstructions,\n}: Props) {\n  const {announce, announcement} = useAnnouncement();\n  const liveRegionId = useUniqueId(`DndLiveRegion`);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useDndMonitor(\n    useMemo<DndMonitorListener>(\n      () => ({\n        onDragStart({active}) {\n          announce(announcements.onDragStart({active}));\n        },\n        onDragMove({active, over}) {\n          if (announcements.onDragMove) {\n            announce(announcements.onDragMove({active, over}));\n          }\n        },\n        onDragOver({active, over}) {\n          announce(announcements.onDragOver({active, over}));\n        },\n        onDragEnd({active, over}) {\n          announce(announcements.onDragEnd({active, over}));\n        },\n        onDragCancel({active, over}) {\n          announce(announcements.onDragCancel({active, over}));\n        },\n      }),\n      [announce, announcements]\n    )\n  );\n\n  if (!mounted) {\n    return null;\n  }\n\n  const markup = (\n    <>\n      <HiddenText\n        id={hiddenTextDescribedById}\n        value={screenReaderInstructions.draggable}\n      />\n      <LiveRegion id={liveRegionId} announcement={announcement} />\n    </>\n  );\n\n  return container ? createPortal(markup, container) : markup;\n}\n","import {useEffect, useLayoutEffect} from 'react';\n\nimport {canUseDOM} from '../execution-context';\n\n/**\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\n */\nexport const useIsomorphicLayoutEffect = canUseDOM\n  ? useLayoutEffect\n  : useEffect;\n","import {useCallback, useRef} from 'react';\n\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect';\n\nexport function useEvent<T extends Function>(handler: T | undefined) {\n  const handlerRef = useRef<T | undefined>(handler);\n\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n\n  return useCallback(function (...args: any) {\n    return handlerRef.current?.(...args);\n  }, []);\n}\n","import {useCallback, useRef} from 'react';\n\nexport function useInterval() {\n  const intervalRef = useRef<number | null>(null);\n\n  const set = useCallback((listener: Function, duration: number) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n\n  const clear = useCallback(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n\n  return [set, clear] as const;\n}\n","import {useRef} from 'react';\nimport type {DependencyList} from 'react';\n\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect';\n\nexport function useLatestValue<T extends any>(\n  value: T,\n  dependencies: DependencyList = [value]\n) {\n  const valueRef = useRef<T>(value);\n\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n\n  return valueRef;\n}\n","import {useMemo, useRef} from 'react';\n\nexport function useLazyMemo<T>(\n  callback: (prevValue: T | undefined) => T,\n  dependencies: any[]\n) {\n  const valueRef = useRef<T>();\n\n  return useMemo(\n    () => {\n      const newValue = callback(valueRef.current);\n      valueRef.current = newValue;\n\n      return newValue;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [...dependencies]\n  );\n}\n","import {arrayMove} from '../utilities';\nimport type {SortingStrategy} from '../types';\n\nexport const rectSortingStrategy: SortingStrategy = ({\n  rects,\n  activeIndex,\n  overIndex,\n  index,\n}) => {\n  const newRects = arrayMove(rects, overIndex, activeIndex);\n\n  const oldRect = rects[index];\n  const newRect = newRects[index];\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height,\n  };\n};\n","import {useRef, useCallback} from 'react';\n\nimport {useEvent} from './useEvent';\n\nexport function useNodeRef(\n  onChange?: (\n    newElement: HTMLElement | null,\n    previousElement: HTMLElement | null\n  ) => void\n) {\n  const onChangeHandler = useEvent(onChange);\n  const node = useRef<HTMLElement | null>(null);\n  const setNodeRef = useCallback(\n    (element: HTMLElement | null) => {\n      if (element !== node.current) {\n        onChangeHandler?.(element, node.current);\n      }\n\n      node.current = element;\n    },\n    //eslint-disable-next-line\n    []\n  );\n\n  return [node, setNodeRef] as const;\n}\n","import {useRef, useEffect} from 'react';\n\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import type {SortingStrategy} from '../types';\n\nexport const rectSwappingStrategy: SortingStrategy = ({\n  activeIndex,\n  index,\n  rects,\n  overIndex,\n}) => {\n  let oldRect;\n  let newRect;\n\n  if (index === activeIndex) {\n    oldRect = rects[index];\n    newRect = rects[overIndex];\n  }\n\n  if (index === overIndex) {\n    oldRect = rects[index];\n    newRect = rects[activeIndex];\n  }\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height,\n  };\n};\n","import {useMemo} from 'react';\n\nlet ids: Record<string, number> = {};\n\nexport function useUniqueId(prefix: string, value?: string) {\n  return useMemo(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n\n    return `${prefix}-${id}`;\n  }, [prefix, value]);\n}\n","import type {Coordinates, UniqueIdentifier} from '../types';\nimport type {DroppableContainer} from './types';\n\nexport enum Action {\n  DragStart = 'dragStart',\n  DragMove = 'dragMove',\n  DragEnd = 'dragEnd',\n  DragCancel = 'dragCancel',\n  DragOver = 'dragOver',\n  RegisterDroppable = 'registerDroppable',\n  SetDroppableDisabled = 'setDroppableDisabled',\n  UnregisterDroppable = 'unregisterDroppable',\n}\n\nexport type Actions =\n  | {\n      type: Action.DragStart;\n      active: UniqueIdentifier;\n      initialCoordinates: Coordinates;\n    }\n  | {type: Action.DragMove; coordinates: Coordinates}\n  | {type: Action.DragEnd}\n  | {type: Action.DragCancel}\n  | {\n      type: Action.RegisterDroppable;\n      element: DroppableContainer;\n    }\n  | {\n      type: Action.SetDroppableDisabled;\n      id: UniqueIdentifier;\n      key: UniqueIdentifier;\n      disabled: boolean;\n    }\n  | {\n      type: Action.UnregisterDroppable;\n      id: UniqueIdentifier;\n      key: UniqueIdentifier;\n    };\n","function createAdjustmentFn(modifier: number) {\n  return <T extends Record<U, number>, U extends string>(\n    object: T,\n    ...adjustments: Partial<T>[]\n  ): T => {\n    return adjustments.reduce<T>(\n      (accumulator, adjustment) => {\n        const entries = Object.entries(adjustment) as [U, number][];\n\n        for (const [key, valueAdjustment] of entries) {\n          const value = accumulator[key];\n\n          if (value != null) {\n            accumulator[key] = (value + modifier * valueAdjustment) as T[U];\n          }\n        }\n\n        return accumulator;\n      },\n      {\n        ...object,\n      }\n    );\n  };\n}\n\nexport const add = createAdjustmentFn(1);\nexport const subtract = createAdjustmentFn(-1);\n","export function noop(..._args: any) {}\n","import {useMemo} from 'react';\n\nimport type {Sensor, SensorDescriptor, SensorOptions} from './types';\n\nexport function useSensor<T extends SensorOptions>(\n  sensor: Sensor<T>,\n  options?: T\n): SensorDescriptor<T> {\n  return useMemo(\n    () => ({\n      sensor,\n      options: options ?? ({} as T),\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [sensor, options]\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SensorDescriptor, SensorOptions} from './types';\n\nexport function useSensors(\n  ...sensors: (SensorDescriptor<any> | undefined | null)[]\n): SensorDescriptor<SensorOptions>[] {\n  return useMemo(\n    () =>\n      [...sensors].filter(\n        (sensor): sensor is SensorDescriptor<any> => sensor != null\n      ),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [...sensors]\n  );\n}\n","import type {ClientRect} from '@dnd-kit/core';\nimport type {SortingStrategy} from '../types';\n\n// To-do: We should be calculating scale transformation\nconst defaultScale = {\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport const verticalListSortingStrategy: SortingStrategy = ({\n  activeIndex,\n  activeNodeRect: fallbackActiveRect,\n  index,\n  rects,\n  overIndex,\n}) => {\n  const activeNodeRect = rects[activeIndex] ?? fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  if (index === activeIndex) {\n    const overIndexRect = rects[overIndex];\n\n    if (!overIndexRect) {\n      return null;\n    }\n\n    return {\n      x: 0,\n      y:\n        activeIndex < overIndex\n          ? overIndexRect.top +\n            overIndexRect.height -\n            (activeNodeRect.top + activeNodeRect.height)\n          : overIndexRect.top - activeNodeRect.top,\n      ...defaultScale,\n    };\n  }\n\n  const itemGap = getItemGap(rects, index, activeIndex);\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: 0,\n      y: -activeNodeRect.height - itemGap,\n      ...defaultScale,\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: 0,\n      y: activeNodeRect.height + itemGap,\n      ...defaultScale,\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale,\n  };\n};\n\nfunction getItemGap(\n  clientRects: ClientRect[],\n  index: number,\n  activeIndex: number\n) {\n  const currentRect: ClientRect | undefined = clientRects[index];\n  const previousRect: ClientRect | undefined = clientRects[index - 1];\n  const nextRect: ClientRect | undefined = clientRects[index + 1];\n\n  if (!currentRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect\n      ? currentRect.top - (previousRect.top + previousRect.height)\n      : nextRect\n      ? nextRect.top - (currentRect.top + currentRect.height)\n      : 0;\n  }\n\n  return nextRect\n    ? nextRect.top - (currentRect.top + currentRect.height)\n    : previousRect\n    ? currentRect.top - (previousRect.top + previousRect.height)\n    : 0;\n}\n","import type {Coordinates} from '../../types';\n\nexport const defaultCoordinates: Coordinates = Object.freeze({\n  x: 0,\n  y: 0,\n});\n","export function hasViewportRelativeCoordinates(\n  event: Event\n): event is Event & Pick<PointerEvent, 'clientX' | 'clientY'> {\n  return 'clientX' in event && 'clientY' in event;\n}\n","import {getWindow} from '../execution-context';\n\nexport function isKeyboardEvent(\n  event: Event | undefined | null\n): event is KeyboardEvent {\n  if (!event) {\n    return false;\n  }\n\n  const {KeyboardEvent} = getWindow(event.target);\n\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n","import type {Coordinates} from '../../types';\n\n/**\n * Returns the distance between two points\n */\nexport function distanceBetween(p1: Coordinates, p2: Coordinates) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n}\n","import {getEventCoordinates} from '@dnd-kit/utilities';\nimport type {ClientRect} from '../../types';\n\nexport function getRelativeTransformOrigin(\n  event: MouseEvent | TouchEvent | KeyboardEvent,\n  rect: ClientRect\n) {\n  const eventCoordinates = getEventCoordinates(event);\n\n  if (!eventCoordinates) {\n    return '0 0';\n  }\n\n  const transformOrigin = {\n    x: ((eventCoordinates.x - rect.left) / rect.width) * 100,\n    y: ((eventCoordinates.y - rect.top) / rect.height) * 100,\n  };\n\n  return `${transformOrigin.x}% ${transformOrigin.y}%`;\n}\n","import {getWindow} from '../execution-context';\n\nexport function isTouchEvent(\n  event: Event | undefined | null\n): event is TouchEvent {\n  if (!event) {\n    return false;\n  }\n\n  const {TouchEvent} = getWindow(event.target);\n\n  return TouchEvent && event instanceof TouchEvent;\n}\n","/* eslint-disable no-redeclare */\nimport type {ClientRect} from '../../types';\n\nimport type {Collision, CollisionDescriptor} from './types';\n\n/**\n * Sort collisions from smallest to greatest value\n */\nexport function sortCollisionsAsc(\n  {data: {value: a}}: CollisionDescriptor,\n  {data: {value: b}}: CollisionDescriptor\n) {\n  return a - b;\n}\n\n/**\n * Sort collisions from greatest to smallest value\n */\nexport function sortCollisionsDesc(\n  {data: {value: a}}: CollisionDescriptor,\n  {data: {value: b}}: CollisionDescriptor\n) {\n  return b - a;\n}\n\n/**\n * Returns the coordinates of the corners of a given rectangle:\n * [TopLeft {x, y}, TopRight {x, y}, BottomLeft {x, y}, BottomRight {x, y}]\n */\nexport function cornersOfRectangle({left, top, height, width}: ClientRect) {\n  return [\n    {\n      x: left,\n      y: top,\n    },\n    {\n      x: left + width,\n      y: top,\n    },\n    {\n      x: left,\n      y: top + height,\n    },\n    {\n      x: left + width,\n      y: top + height,\n    },\n  ];\n}\n\n/**\n * Returns the first collision, or null if there isn't one.\n * If a property is specified, returns the specified property of the first collision.\n */\nexport function getFirstCollision(\n  collisions: Collision[] | null | undefined\n): Collision | null;\nexport function getFirstCollision<T extends keyof Collision>(\n  collisions: Collision[] | null | undefined,\n  property: T\n): Collision[T] | null;\nexport function getFirstCollision(\n  collisions: Collision[] | null | undefined,\n  property?: keyof Collision\n) {\n  if (!collisions || collisions.length === 0) {\n    return null;\n  }\n\n  const [firstCollision] = collisions;\n\n  return property ? firstCollision[property] : firstCollision;\n}\n","import type {Coordinates} from './types';\nimport {isTouchEvent, hasViewportRelativeCoordinates} from '../event';\n\n/**\n * Returns the normalized x and y coordinates for mouse and touch events.\n */\nexport function getEventCoordinates(event: Event): Coordinates | null {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {clientX: x, clientY: y} = event.touches[0];\n\n      return {\n        x,\n        y,\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {clientX: x, clientY: y} = event.changedTouches[0];\n\n      return {\n        x,\n        y,\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY,\n    };\n  }\n\n  return null;\n}\n","export type Transform = {\n  x: number;\n  y: number;\n  scaleX: number;\n  scaleY: number;\n};\n\nexport interface Transition {\n  property: string;\n  easing: string;\n  duration: number;\n}\n\nexport const CSS = Object.freeze({\n  Translate: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      const {x, y} = transform;\n\n      return `translate3d(${x ? Math.round(x) : 0}px, ${\n        y ? Math.round(y) : 0\n      }px, 0)`;\n    },\n  },\n  Scale: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      const {scaleX, scaleY} = transform;\n\n      return `scaleX(${scaleX}) scaleY(${scaleY})`;\n    },\n  },\n  Transform: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      return [\n        CSS.Translate.toString(transform),\n        CSS.Scale.toString(transform),\n      ].join(' ');\n    },\n  },\n  Transition: {\n    toString({property, duration, easing}: Transition) {\n      return `${property} ${duration}ms ${easing}`;\n    },\n  },\n});\n","import React, {useEffect, useMemo, useRef} from 'react';\nimport {useDndContext, ClientRect, UniqueIdentifier} from '@dnd-kit/core';\nimport {useIsomorphicLayoutEffect, useUniqueId} from '@dnd-kit/utilities';\n\nimport type {Disabled, SortingStrategy} from '../types';\nimport {getSortedRects, itemsEqual, normalizeDisabled} from '../utilities';\nimport {rectSortingStrategy} from '../strategies';\n\nexport interface Props {\n  children: React.ReactNode;\n  items: (UniqueIdentifier | {id: UniqueIdentifier})[];\n  strategy?: SortingStrategy;\n  id?: string;\n  disabled?: boolean | Disabled;\n}\n\nconst ID_PREFIX = 'Sortable';\n\ninterface ContextDescriptor {\n  activeIndex: number;\n  containerId: string;\n  disabled: Disabled;\n  disableTransforms: boolean;\n  items: UniqueIdentifier[];\n  overIndex: number;\n  useDragOverlay: boolean;\n  sortedRects: ClientRect[];\n  strategy: SortingStrategy;\n}\n\nexport const Context = React.createContext<ContextDescriptor>({\n  activeIndex: -1,\n  containerId: ID_PREFIX,\n  disableTransforms: false,\n  items: [],\n  overIndex: -1,\n  useDragOverlay: false,\n  sortedRects: [],\n  strategy: rectSortingStrategy,\n  disabled: {\n    draggable: false,\n    droppable: false,\n  },\n});\n\nexport function SortableContext({\n  children,\n  id,\n  items: userDefinedItems,\n  strategy = rectSortingStrategy,\n  disabled: disabledProp = false,\n}: Props) {\n  const {\n    active,\n    dragOverlay,\n    droppableRects,\n    over,\n    measureDroppableContainers,\n  } = useDndContext();\n  const containerId = useUniqueId(ID_PREFIX, id);\n  const useDragOverlay = Boolean(dragOverlay.rect !== null);\n  const items = useMemo<UniqueIdentifier[]>(\n    () =>\n      userDefinedItems.map((item) =>\n        typeof item === 'object' && 'id' in item ? item.id : item\n      ),\n    [userDefinedItems]\n  );\n  const isDragging = active != null;\n  const activeIndex = active ? items.indexOf(active.id) : -1;\n  const overIndex = over ? items.indexOf(over.id) : -1;\n  const previousItemsRef = useRef(items);\n  const itemsHaveChanged = !itemsEqual(items, previousItemsRef.current);\n  const disableTransforms =\n    (overIndex !== -1 && activeIndex === -1) || itemsHaveChanged;\n  const disabled = normalizeDisabled(disabledProp);\n\n  useIsomorphicLayoutEffect(() => {\n    if (itemsHaveChanged && isDragging) {\n      measureDroppableContainers(items);\n    }\n  }, [itemsHaveChanged, items, isDragging, measureDroppableContainers]);\n\n  useEffect(() => {\n    previousItemsRef.current = items;\n  }, [items]);\n\n  const contextValue = useMemo(\n    (): ContextDescriptor => ({\n      activeIndex,\n      containerId,\n      disabled,\n      disableTransforms,\n      items,\n      overIndex,\n      useDragOverlay,\n      sortedRects: getSortedRects(items, droppableRects),\n      strategy,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      activeIndex,\n      containerId,\n      disabled.draggable,\n      disabled.droppable,\n      disableTransforms,\n      items,\n      overIndex,\n      droppableRects,\n      useDragOverlay,\n      strategy,\n    ]\n  );\n\n  return <Context.Provider value={contextValue}>{children}</Context.Provider>;\n}\n","import {distanceBetween} from '../coordinates';\nimport type {Coordinates, ClientRect} from '../../types';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {sortCollisionsAsc} from './helpers';\n\n/**\n * Returns the coordinates of the center of a given ClientRect\n */\nfunction centerOfRectangle(\n  rect: ClientRect,\n  left = rect.left,\n  top = rect.top\n): Coordinates {\n  return {\n    x: left + rect.width * 0.5,\n    y: top + rect.height * 0.5,\n  };\n}\n\n/**\n * Returns the closest rectangles from an array of rectangles to the center of a given\n * rectangle.\n */\nexport const closestCenter: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const centerRect = centerOfRectangle(\n    collisionRect,\n    collisionRect.left,\n    collisionRect.top\n  );\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const distBetween = distanceBetween(centerOfRectangle(rect), centerRect);\n\n      collisions.push({id, data: {droppableContainer, value: distBetween}});\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n","const SELECTOR =\n  'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\n\nexport function findFirstFocusableNode(\n  element: HTMLElement\n): HTMLElement | null {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n","import {CSS} from '@dnd-kit/utilities';\n\nimport {arrayMove} from '../utilities';\n\nimport type {\n  AnimateLayoutChanges,\n  NewIndexGetter,\n  SortableTransition,\n} from './types';\n\nexport const defaultNewIndexGetter: NewIndexGetter = ({\n  id,\n  items,\n  activeIndex,\n  overIndex,\n}) => arrayMove(items, activeIndex, overIndex).indexOf(id);\n\nexport const defaultAnimateLayoutChanges: AnimateLayoutChanges = ({\n  containerId,\n  isSorting,\n  wasDragging,\n  index,\n  items,\n  newIndex,\n  previousItems,\n  previousContainerId,\n  transition,\n}) => {\n  if (!transition || !wasDragging) {\n    return false;\n  }\n\n  if (previousItems !== items && index === newIndex) {\n    return false;\n  }\n\n  if (isSorting) {\n    return true;\n  }\n\n  return newIndex !== index && containerId === previousContainerId;\n};\n\nexport const defaultTransition: SortableTransition = {\n  duration: 200,\n  easing: 'ease',\n};\n\nexport const transitionProperty = 'transform';\n\nexport const disabledTransition = CSS.Transition.toString({\n  property: transitionProperty,\n  duration: 0,\n  easing: 'linear',\n});\n\nexport const defaultAttributes = {\n  roleDescription: 'sortable',\n};\n","import {distanceBetween} from '../coordinates';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {cornersOfRectangle, sortCollisionsAsc} from './helpers';\n\n/**\n * Returns the closest rectangles from an array of rectangles to the corners of\n * another rectangle.\n */\nexport const closestCorners: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const corners = cornersOfRectangle(collisionRect);\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const rectCorners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner, index) => {\n        return accumulator + distanceBetween(rectCorners[index], corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n\n      collisions.push({\n        id,\n        data: {droppableContainer, value: effectiveDistance},\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n","import {useEffect, useRef, useState} from 'react';\nimport {getClientRect, ClientRect} from '@dnd-kit/core';\nimport {Transform, useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  rect: React.MutableRefObject<ClientRect | null>;\n  disabled: boolean;\n  index: number;\n  node: React.MutableRefObject<HTMLElement | null>;\n}\n\n/*\n * When the index of an item changes while sorting,\n * we need to temporarily disable the transforms\n */\nexport function useDerivedTransform({disabled, index, node, rect}: Arguments) {\n  const [derivedTransform, setDerivedtransform] = useState<Transform | null>(\n    null\n  );\n  const previousIndex = useRef(index);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!disabled && index !== previousIndex.current && node.current) {\n      const initial = rect.current;\n\n      if (initial) {\n        const current = getClientRect(node.current, {\n          ignoreTransform: true,\n        });\n\n        const delta = {\n          x: initial.left - current.left,\n          y: initial.top - current.top,\n          scaleX: initial.width / current.width,\n          scaleY: initial.height / current.height,\n        };\n\n        if (delta.x || delta.y) {\n          setDerivedtransform(delta);\n        }\n      }\n    }\n\n    if (index !== previousIndex.current) {\n      previousIndex.current = index;\n    }\n  }, [disabled, index, node, rect]);\n\n  useEffect(() => {\n    if (derivedTransform) {\n      setDerivedtransform(null);\n    }\n  }, [derivedTransform]);\n\n  return derivedTransform;\n}\n","import type {ClientRect} from '../../types';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {sortCollisionsDesc} from './helpers';\n\n/**\n * Returns the intersecting rectangle area between two rectangles\n */\nexport function getIntersectionRatio(\n  entry: ClientRect,\n  target: ClientRect\n): number {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio =\n      intersectionArea / (targetArea + entryArea - intersectionArea);\n\n    return Number(intersectionRatio.toFixed(4));\n  }\n\n  // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n  return 0;\n}\n\n/**\n * Returns the rectangles that has the greatest intersection area with a given\n * rectangle in an array of rectangles.\n */\nexport const rectIntersection: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, collisionRect);\n\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {droppableContainer, value: intersectionRatio},\n        });\n      }\n    }\n  }\n\n  return collisions.sort(sortCollisionsDesc);\n};\n","import {useContext, useEffect, useMemo, useRef} from 'react';\nimport {\n  useDraggable,\n  useDroppable,\n  UseDraggableArguments,\n  UseDroppableArguments,\n} from '@dnd-kit/core';\nimport type {Data} from '@dnd-kit/core';\nimport {CSS, isKeyboardEvent, useCombinedRefs} from '@dnd-kit/utilities';\n\nimport {Context} from '../components';\nimport type {Disabled, SortableData, SortingStrategy} from '../types';\nimport {isValidIndex} from '../utilities';\nimport {\n  defaultAnimateLayoutChanges,\n  defaultAttributes,\n  defaultNewIndexGetter,\n  defaultTransition,\n  disabledTransition,\n  transitionProperty,\n} from './defaults';\nimport type {\n  AnimateLayoutChanges,\n  NewIndexGetter,\n  SortableTransition,\n} from './types';\nimport {useDerivedTransform} from './utilities';\n\nexport interface Arguments\n  extends Omit<UseDraggableArguments, 'disabled'>,\n    Pick<UseDroppableArguments, 'resizeObserverConfig'> {\n  animateLayoutChanges?: AnimateLayoutChanges;\n  disabled?: boolean | Disabled;\n  getNewIndex?: NewIndexGetter;\n  strategy?: SortingStrategy;\n  transition?: SortableTransition | null;\n}\n\nexport function useSortable({\n  animateLayoutChanges = defaultAnimateLayoutChanges,\n  attributes: userDefinedAttributes,\n  disabled: localDisabled,\n  data: customData,\n  getNewIndex = defaultNewIndexGetter,\n  id,\n  strategy: localStrategy,\n  resizeObserverConfig,\n  transition = defaultTransition,\n}: Arguments) {\n  const {\n    items,\n    containerId,\n    activeIndex,\n    disabled: globalDisabled,\n    disableTransforms,\n    sortedRects,\n    overIndex,\n    useDragOverlay,\n    strategy: globalStrategy,\n  } = useContext(Context);\n  const disabled: Disabled = normalizeLocalDisabled(\n    localDisabled,\n    globalDisabled\n  );\n  const index = items.indexOf(id);\n  const data = useMemo<SortableData & Data>(\n    () => ({sortable: {containerId, index, items}, ...customData}),\n    [containerId, customData, index, items]\n  );\n  const itemsAfterCurrentSortable = useMemo(\n    () => items.slice(items.indexOf(id)),\n    [items, id]\n  );\n  const {\n    rect,\n    node,\n    isOver,\n    setNodeRef: setDroppableNodeRef,\n  } = useDroppable({\n    id,\n    data,\n    disabled: disabled.droppable,\n    resizeObserverConfig: {\n      updateMeasurementsFor: itemsAfterCurrentSortable,\n      ...resizeObserverConfig,\n    },\n  });\n  const {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes,\n    setNodeRef: setDraggableNodeRef,\n    listeners,\n    isDragging,\n    over,\n    setActivatorNodeRef,\n    transform,\n  } = useDraggable({\n    id,\n    data,\n    attributes: {\n      ...defaultAttributes,\n      ...userDefinedAttributes,\n    },\n    disabled: disabled.draggable,\n  });\n  const setNodeRef = useCombinedRefs(setDroppableNodeRef, setDraggableNodeRef);\n  const isSorting = Boolean(active);\n  const displaceItem =\n    isSorting &&\n    !disableTransforms &&\n    isValidIndex(activeIndex) &&\n    isValidIndex(overIndex);\n  const shouldDisplaceDragSource = !useDragOverlay && isDragging;\n  const dragSourceDisplacement =\n    shouldDisplaceDragSource && displaceItem ? transform : null;\n  const strategy = localStrategy ?? globalStrategy;\n  const finalTransform = displaceItem\n    ? dragSourceDisplacement ??\n      strategy({\n        rects: sortedRects,\n        activeNodeRect,\n        activeIndex,\n        overIndex,\n        index,\n      })\n    : null;\n  const newIndex =\n    isValidIndex(activeIndex) && isValidIndex(overIndex)\n      ? getNewIndex({id, items, activeIndex, overIndex})\n      : index;\n  const activeId = active?.id;\n  const previous = useRef({\n    activeId,\n    items,\n    newIndex,\n    containerId,\n  });\n  const itemsHaveChanged = items !== previous.current.items;\n  const shouldAnimateLayoutChanges = animateLayoutChanges({\n    active,\n    containerId,\n    isDragging,\n    isSorting,\n    id,\n    index,\n    items,\n    newIndex: previous.current.newIndex,\n    previousItems: previous.current.items,\n    previousContainerId: previous.current.containerId,\n    transition,\n    wasDragging: previous.current.activeId != null,\n  });\n\n  const derivedTransform = useDerivedTransform({\n    disabled: !shouldAnimateLayoutChanges,\n    index,\n    node,\n    rect,\n  });\n\n  useEffect(() => {\n    if (isSorting && previous.current.newIndex !== newIndex) {\n      previous.current.newIndex = newIndex;\n    }\n\n    if (containerId !== previous.current.containerId) {\n      previous.current.containerId = containerId;\n    }\n\n    if (items !== previous.current.items) {\n      previous.current.items = items;\n    }\n  }, [isSorting, newIndex, containerId, items]);\n\n  useEffect(() => {\n    if (activeId === previous.current.activeId) {\n      return;\n    }\n\n    if (activeId != null && previous.current.activeId == null) {\n      previous.current.activeId = activeId;\n      return;\n    }\n\n    const timeoutId = setTimeout(() => {\n      previous.current.activeId = activeId;\n    }, 50);\n\n    return () => clearTimeout(timeoutId);\n  }, [activeId]);\n\n  return {\n    active,\n    activeIndex,\n    attributes,\n    data,\n    rect,\n    index,\n    newIndex,\n    items,\n    isOver,\n    isSorting,\n    isDragging,\n    listeners,\n    node,\n    overIndex,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    setDroppableNodeRef,\n    setDraggableNodeRef,\n    transform: derivedTransform ?? finalTransform,\n    transition: getTransition(),\n  };\n\n  function getTransition() {\n    if (\n      // Temporarily disable transitions for a single frame to set up derived transforms\n      derivedTransform ||\n      // Or to prevent items jumping to back to their \"new\" position when items change\n      (itemsHaveChanged && previous.current.newIndex === index)\n    ) {\n      return disabledTransition;\n    }\n\n    if (\n      (shouldDisplaceDragSource && !isKeyboardEvent(activatorEvent)) ||\n      !transition\n    ) {\n      return undefined;\n    }\n\n    if (isSorting || shouldAnimateLayoutChanges) {\n      return CSS.Transition.toString({\n        ...transition,\n        property: transitionProperty,\n      });\n    }\n\n    return undefined;\n  }\n}\n\nfunction normalizeLocalDisabled(\n  localDisabled: Arguments['disabled'],\n  globalDisabled: Disabled\n) {\n  if (typeof localDisabled === 'boolean') {\n    return {\n      draggable: localDisabled,\n      // Backwards compatibility\n      droppable: false,\n    };\n  }\n\n  return {\n    draggable: localDisabled?.draggable ?? globalDisabled.draggable,\n    droppable: localDisabled?.droppable ?? globalDisabled.droppable,\n  };\n}\n","import type {Coordinates, ClientRect} from '../../types';\nimport {distanceBetween} from '../coordinates';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {cornersOfRectangle, sortCollisionsAsc} from './helpers';\n\n/**\n * Check if a given point is contained within a bounding rectangle\n */\nfunction isPointWithinRect(point: Coordinates, rect: ClientRect): boolean {\n  const {top, left, bottom, right} = rect;\n\n  return (\n    top <= point.y && point.y <= bottom && left <= point.x && point.x <= right\n  );\n}\n\n/**\n * Returns the rectangles that the pointer is hovering over\n */\nexport const pointerWithin: CollisionDetection = ({\n  droppableContainers,\n  droppableRects,\n  pointerCoordinates,\n}) => {\n  if (!pointerCoordinates) {\n    return [];\n  }\n\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect && isPointWithinRect(pointerCoordinates, rect)) {\n      /* There may be more than a single rectangle intersecting\n       * with the pointer coordinates. In order to sort the\n       * colliding rectangles, we measure the distance between\n       * the pointer and the corners of the intersecting rectangle\n       */\n      const corners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner) => {\n        return accumulator + distanceBetween(pointerCoordinates, corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n\n      collisions.push({\n        id,\n        data: {droppableContainer, value: effectiveDistance},\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n","import type {Transform} from '@dnd-kit/utilities';\nimport type {ClientRect} from '../../types';\n\nexport function adjustScale(\n  transform: Transform,\n  rect1: ClientRect | null,\n  rect2: ClientRect | null\n): Transform {\n  return {\n    ...transform,\n    scaleX: rect1 && rect2 ? rect1.width / rect2.width : 1,\n    scaleY: rect1 && rect2 ? rect1.height / rect2.height : 1,\n  };\n}\n","import type {Coordinates, ClientRect} from '../../types';\nimport {defaultCoordinates} from '../coordinates';\n\nexport function getRectDelta(\n  rect1: ClientRect | null,\n  rect2: ClientRect | null\n): Coordinates {\n  return rect1 && rect2\n    ? {\n        x: rect1.left - rect2.left,\n        y: rect1.top - rect2.top,\n      }\n    : defaultCoordinates;\n}\n","import type {Coordinates, ClientRect} from '../../types';\n\nexport function createRectAdjustmentFn(modifier: number) {\n  return function adjustClientRect(\n    rect: ClientRect,\n    ...adjustments: Coordinates[]\n  ): ClientRect {\n    return adjustments.reduce<ClientRect>(\n      (acc, adjustment) => ({\n        ...acc,\n        top: acc.top + modifier * adjustment.y,\n        bottom: acc.bottom + modifier * adjustment.y,\n        left: acc.left + modifier * adjustment.x,\n        right: acc.right + modifier * adjustment.x,\n      }),\n      {...rect}\n    );\n  };\n}\n\nexport const getAdjustedRect = createRectAdjustmentFn(1);\n","import type {Transform} from '@dnd-kit/utilities';\n\nexport function parseTransform(transform: string): Transform | null {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5],\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3],\n    };\n  }\n\n  return null;\n}\n","import type {ClientRect} from '../../types';\n\nimport {parseTransform} from './parseTransform';\n\nexport function inverseTransform(\n  rect: ClientRect,\n  transform: string,\n  transformOrigin: string\n): ClientRect {\n  const parsedTransform = parseTransform(transform);\n\n  if (!parsedTransform) {\n    return rect;\n  }\n\n  const {scaleX, scaleY, x: translateX, y: translateY} = parsedTransform;\n\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y =\n    rect.top -\n    translateY -\n    (1 - scaleY) *\n      parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x,\n  };\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {inverseTransform} from '../transform';\n\ninterface Options {\n  ignoreTransform?: boolean;\n}\n\nconst defaultOptions: Options = {ignoreTransform: false};\n\n/**\n * Returns the bounding client rect of an element relative to the viewport.\n */\nexport function getClientRect(\n  element: Element,\n  options: Options = defaultOptions\n) {\n  let rect: ClientRect = element.getBoundingClientRect();\n\n  if (options.ignoreTransform) {\n    const {transform, transformOrigin} =\n      getWindow(element).getComputedStyle(element);\n\n    if (transform) {\n      rect = inverseTransform(rect, transform, transformOrigin);\n    }\n  }\n\n  const {top, left, width, height, bottom, right} = rect;\n\n  return {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right,\n  };\n}\n\n/**\n * Returns the bounding client rect of an element relative to the viewport.\n *\n * @remarks\n * The ClientRect returned by this method does not take into account transforms\n * applied to the element it measures.\n *\n */\nexport function getTransformAgnosticClientRect(element: Element): ClientRect {\n  return getClientRect(element, {ignoreTransform: true});\n}\n","import type {\n  Active,\n  Data,\n  DroppableContainer,\n  DraggableNode,\n  Over,\n} from '@dnd-kit/core';\n\nimport type {SortableData} from './data';\n\nexport function hasSortableData<\n  T extends Active | Over | DraggableNode | DroppableContainer\n>(\n  entry: T | null | undefined\n): entry is T & {data: {current: Data<SortableData>}} {\n  if (!entry) {\n    return false;\n  }\n\n  const data = entry.data.current;\n\n  if (\n    data &&\n    'sortable' in data &&\n    typeof data.sortable === 'object' &&\n    'containerId' in data.sortable &&\n    'items' in data.sortable &&\n    'index' in data.sortable\n  ) {\n    return true;\n  }\n\n  return false;\n}\n","import type {ClientRect} from '../../types';\n\nexport function getWindowClientRect(element: typeof window): ClientRect {\n  const width = element.innerWidth;\n  const height = element.innerHeight;\n\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height,\n  };\n}\n","import {\n  closestCorners,\n  getScrollableAncestors,\n  getFirstCollision,\n  KeyboardCode,\n  DroppableContainer,\n  KeyboardCoordinateGetter,\n} from '@dnd-kit/core';\nimport {subtract} from '@dnd-kit/utilities';\n\nimport {hasSortableData} from '../../types';\n\nconst directions: string[] = [\n  KeyboardCode.Down,\n  KeyboardCode.Right,\n  KeyboardCode.Up,\n  KeyboardCode.Left,\n];\n\nexport const sortableKeyboardCoordinates: KeyboardCoordinateGetter = (\n  event,\n  {\n    context: {\n      active,\n      collisionRect,\n      droppableRects,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n    },\n  }\n) => {\n  if (directions.includes(event.code)) {\n    event.preventDefault();\n\n    if (!active || !collisionRect) {\n      return;\n    }\n\n    const filteredContainers: DroppableContainer[] = [];\n\n    droppableContainers.getEnabled().forEach((entry) => {\n      if (!entry || entry?.disabled) {\n        return;\n      }\n\n      const rect = droppableRects.get(entry.id);\n\n      if (!rect) {\n        return;\n      }\n\n      switch (event.code) {\n        case KeyboardCode.Down:\n          if (collisionRect.top < rect.top) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Up:\n          if (collisionRect.top > rect.top) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Left:\n          if (collisionRect.left > rect.left) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Right:\n          if (collisionRect.left < rect.left) {\n            filteredContainers.push(entry);\n          }\n          break;\n      }\n    });\n\n    const collisions = closestCorners({\n      active,\n      collisionRect: collisionRect,\n      droppableRects,\n      droppableContainers: filteredContainers,\n      pointerCoordinates: null,\n    });\n    let closestId = getFirstCollision(collisions, 'id');\n\n    if (closestId === over?.id && collisions.length > 1) {\n      closestId = collisions[1].id;\n    }\n\n    if (closestId != null) {\n      const activeDroppable = droppableContainers.get(active.id);\n      const newDroppable = droppableContainers.get(closestId);\n      const newRect = newDroppable ? droppableRects.get(newDroppable.id) : null;\n      const newNode = newDroppable?.node.current;\n\n      if (newNode && newRect && activeDroppable && newDroppable) {\n        const newScrollAncestors = getScrollableAncestors(newNode);\n        const hasDifferentScrollAncestors = newScrollAncestors.some(\n          (element, index) => scrollableAncestors[index] !== element\n        );\n        const hasSameContainer = isSameContainer(activeDroppable, newDroppable);\n        const isAfterActive = isAfter(activeDroppable, newDroppable);\n        const offset =\n          hasDifferentScrollAncestors || !hasSameContainer\n            ? {\n                x: 0,\n                y: 0,\n              }\n            : {\n                x: isAfterActive ? collisionRect.width - newRect.width : 0,\n                y: isAfterActive ? collisionRect.height - newRect.height : 0,\n              };\n        const rectCoordinates = {\n          x: newRect.left,\n          y: newRect.top,\n        };\n\n        const newCoordinates =\n          offset.x && offset.y\n            ? rectCoordinates\n            : subtract(rectCoordinates, offset);\n\n        return newCoordinates;\n      }\n    }\n  }\n\n  return undefined;\n};\n\nfunction isSameContainer(a: DroppableContainer, b: DroppableContainer) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  return (\n    a.data.current.sortable.containerId === b.data.current.sortable.containerId\n  );\n}\n\nfunction isAfter(a: DroppableContainer, b: DroppableContainer) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  if (!isSameContainer(a, b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.index < b.data.current.sortable.index;\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nexport function isFixed(\n  node: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getWindow(node).getComputedStyle(node)\n): boolean {\n  return computedStyle.position === 'fixed';\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nexport function isScrollable(\n  element: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getWindow(element).getComputedStyle(\n    element\n  )\n): boolean {\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n\n  return properties.some((property) => {\n    const value = computedStyle[property as keyof CSSStyleDeclaration];\n\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n","import {\n  getWindow,\n  isDocument,\n  isHTMLElement,\n  isSVGElement,\n} from '@dnd-kit/utilities';\n\nimport {isFixed} from './isFixed';\nimport {isScrollable} from './isScrollable';\n\nexport function getScrollableAncestors(\n  element: Node | null,\n  limit?: number\n): Element[] {\n  const scrollParents: Element[] = [];\n\n  function findScrollableAncestors(node: Node | null): Element[] {\n    if (limit != null && scrollParents.length >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if (\n      isDocument(node) &&\n      node.scrollingElement != null &&\n      !scrollParents.includes(node.scrollingElement)\n    ) {\n      scrollParents.push(node.scrollingElement);\n\n      return scrollParents;\n    }\n\n    if (!isHTMLElement(node) || isSVGElement(node)) {\n      return scrollParents;\n    }\n\n    if (scrollParents.includes(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = getWindow(element).getComputedStyle(node);\n\n    if (node !== element) {\n      if (isScrollable(node, computedStyle)) {\n        scrollParents.push(node);\n      }\n    }\n\n    if (isFixed(node, computedStyle)) {\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\n\nexport function getFirstScrollableAncestor(node: Node | null): Element | null {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, 1);\n\n  return firstScrollableAncestor ?? null;\n}\n","import {\n  canUseDOM,\n  isHTMLElement,\n  isDocument,\n  getOwnerDocument,\n  isNode,\n  isWindow,\n} from '@dnd-kit/utilities';\n\nexport function getScrollableElement(element: EventTarget | null) {\n  if (!canUseDOM || !element) {\n    return null;\n  }\n\n  if (isWindow(element)) {\n    return element;\n  }\n\n  if (!isNode(element)) {\n    return null;\n  }\n\n  if (\n    isDocument(element) ||\n    element === getOwnerDocument(element).scrollingElement\n  ) {\n    return window;\n  }\n\n  if (isHTMLElement(element)) {\n    return element;\n  }\n\n  return null;\n}\n","import {isWindow} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\n\nexport function getScrollXCoordinate(element: Element | typeof window): number {\n  if (isWindow(element)) {\n    return element.scrollX;\n  }\n\n  return element.scrollLeft;\n}\n\nexport function getScrollYCoordinate(element: Element | typeof window): number {\n  if (isWindow(element)) {\n    return element.scrollY;\n  }\n\n  return element.scrollTop;\n}\n\nexport function getScrollCoordinates(\n  element: Element | typeof window\n): Coordinates {\n  return {\n    x: getScrollXCoordinate(element),\n    y: getScrollYCoordinate(element),\n  };\n}\n","export enum Direction {\n  Forward = 1,\n  Backward = -1,\n}\n","import {canUseDOM} from '@dnd-kit/utilities';\n\nexport function isDocumentScrollingElement(element: Element | null) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n\n  return element === document.scrollingElement;\n}\n","import {isDocumentScrollingElement} from './documentScrollingElement';\n\nexport function getScrollPosition(scrollingContainer: Element) {\n  const minScroll = {\n    x: 0,\n    y: 0,\n  };\n  const dimensions = isDocumentScrollingElement(scrollingContainer)\n    ? {\n        height: window.innerHeight,\n        width: window.innerWidth,\n      }\n    : {\n        height: scrollingContainer.clientHeight,\n        width: scrollingContainer.clientWidth,\n      };\n  const maxScroll = {\n    x: scrollingContainer.scrollWidth - dimensions.width,\n    y: scrollingContainer.scrollHeight - dimensions.height,\n  };\n\n  const isTop = scrollingContainer.scrollTop <= minScroll.y;\n  const isLeft = scrollingContainer.scrollLeft <= minScroll.x;\n  const isBottom = scrollingContainer.scrollTop >= maxScroll.y;\n  const isRight = scrollingContainer.scrollLeft >= maxScroll.x;\n\n  return {\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n    maxScroll,\n    minScroll,\n  };\n}\n","import {Direction, ClientRect} from '../../types';\nimport {getScrollPosition} from './getScrollPosition';\n\ninterface PositionalCoordinates\n  extends Pick<ClientRect, 'top' | 'left' | 'right' | 'bottom'> {}\n\nconst defaultThreshold = {\n  x: 0.2,\n  y: 0.2,\n};\n\nexport function getScrollDirectionAndSpeed(\n  scrollContainer: Element,\n  scrollContainerRect: ClientRect,\n  {top, left, right, bottom}: PositionalCoordinates,\n  acceleration = 10,\n  thresholdPercentage = defaultThreshold\n) {\n  const {isTop, isBottom, isLeft, isRight} = getScrollPosition(scrollContainer);\n\n  const direction = {\n    x: 0,\n    y: 0,\n  };\n  const speed = {\n    x: 0,\n    y: 0,\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x,\n  };\n\n  if (!isTop && top <= scrollContainerRect.top + threshold.height) {\n    // Scroll Up\n    direction.y = Direction.Backward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.top + threshold.height - top) / threshold.height\n      );\n  } else if (\n    !isBottom &&\n    bottom >= scrollContainerRect.bottom - threshold.height\n  ) {\n    // Scroll Down\n    direction.y = Direction.Forward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.bottom - threshold.height - bottom) /\n          threshold.height\n      );\n  }\n\n  if (!isRight && right >= scrollContainerRect.right - threshold.width) {\n    // Scroll Right\n    direction.x = Direction.Forward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.right - threshold.width - right) / threshold.width\n      );\n  } else if (!isLeft && left <= scrollContainerRect.left + threshold.width) {\n    // Scroll Left\n    direction.x = Direction.Backward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.left + threshold.width - left) / threshold.width\n      );\n  }\n\n  return {\n    direction,\n    speed,\n  };\n}\n","export function getScrollElementRect(element: Element) {\n  if (element === document.scrollingElement) {\n    const {innerWidth, innerHeight} = window;\n\n    return {\n      top: 0,\n      left: 0,\n      right: innerWidth,\n      bottom: innerHeight,\n      width: innerWidth,\n      height: innerHeight,\n    };\n  }\n\n  const {top, left, right, bottom} = element.getBoundingClientRect();\n\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width: element.clientWidth,\n    height: element.clientHeight,\n  };\n}\n","import {add} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\nimport {\n  getScrollCoordinates,\n  getScrollXCoordinate,\n  getScrollYCoordinate,\n} from './getScrollCoordinates';\nimport {defaultCoordinates} from '../coordinates';\n\nexport function getScrollOffsets(scrollableAncestors: Element[]): Coordinates {\n  return scrollableAncestors.reduce<Coordinates>((acc, node) => {\n    return add(acc, getScrollCoordinates(node));\n  }, defaultCoordinates);\n}\n\nexport function getScrollXOffset(scrollableAncestors: Element[]): number {\n  return scrollableAncestors.reduce<number>((acc, node) => {\n    return acc + getScrollXCoordinate(node);\n  }, 0);\n}\n\nexport function getScrollYOffset(scrollableAncestors: Element[]): number {\n  return scrollableAncestors.reduce<number>((acc, node) => {\n    return acc + getScrollYCoordinate(node);\n  }, 0);\n}\n","import type {ClientRect} from '../../types';\nimport {getClientRect} from '../rect/getRect';\nimport {getFirstScrollableAncestor} from './getScrollableAncestors';\n\nexport function scrollIntoViewIfNeeded(\n  element: HTMLElement | null | undefined,\n  measure: (node: HTMLElement) => ClientRect = getClientRect\n) {\n  if (!element) {\n    return;\n  }\n\n  const {top, left, bottom, right} = measure(element);\n  const firstScrollableAncestor = getFirstScrollableAncestor(element);\n\n  if (!firstScrollableAncestor) {\n    return;\n  }\n\n  if (\n    bottom <= 0 ||\n    right <= 0 ||\n    top >= window.innerHeight ||\n    left >= window.innerWidth\n  ) {\n    element.scrollIntoView({\n      block: 'center',\n      inline: 'center',\n    });\n  }\n}\n","import type {ClientRect} from '../../types/rect';\nimport {\n  getScrollableAncestors,\n  getScrollOffsets,\n  getScrollXOffset,\n  getScrollYOffset,\n} from '../scroll';\n\nconst properties = [\n  ['x', ['left', 'right'], getScrollXOffset],\n  ['y', ['top', 'bottom'], getScrollYOffset],\n] as const;\n\nexport class Rect {\n  constructor(rect: ClientRect, element: Element) {\n    const scrollableAncestors = getScrollableAncestors(element);\n    const scrollOffsets = getScrollOffsets(scrollableAncestors);\n\n    this.rect = {...rect};\n    this.width = rect.width;\n    this.height = rect.height;\n\n    for (const [axis, keys, getScrollOffset] of properties) {\n      for (const key of keys) {\n        Object.defineProperty(this, key, {\n          get: () => {\n            const currentOffsets = getScrollOffset(scrollableAncestors);\n            const scrollOffsetsDeltla = scrollOffsets[axis] - currentOffsets;\n\n            return this.rect[key] + scrollOffsetsDeltla;\n          },\n          enumerable: true,\n        });\n      }\n    }\n\n    Object.defineProperty(this, 'rect', {enumerable: false});\n  }\n\n  private rect: ClientRect;\n\n  public width: number;\n\n  public height: number;\n\n  // The below properties are set by the `Object.defineProperty` calls in the constructor\n  // @ts-ignore\n  public top: number;\n  // @ts-ignore\n  public bottom: number;\n  // @ts-ignore\n  public right: number;\n  // @ts-ignore\n  public left: number;\n}\n","export class Listeners {\n  private listeners: [\n    string,\n    EventListenerOrEventListenerObject,\n    AddEventListenerOptions | boolean | undefined\n  ][] = [];\n\n  constructor(private target: EventTarget | null) {}\n\n  public add<T extends Event>(\n    eventName: string,\n    handler: (event: T) => void,\n    options?: AddEventListenerOptions | boolean\n  ) {\n    this.target?.addEventListener(eventName, handler as EventListener, options);\n    this.listeners.push([eventName, handler as EventListener, options]);\n  }\n\n  public removeAll = () => {\n    this.listeners.forEach((listener) =>\n      this.target?.removeEventListener(...listener)\n    );\n  };\n}\n","import {getOwnerDocument, getWindow} from '@dnd-kit/utilities';\n\nexport function getEventListenerTarget(\n  target: EventTarget | null\n): EventTarget | Document {\n  // If the `event.target` element is removed from the document events will still be targeted\n  // at it, and hence won't always bubble up to the window or document anymore.\n  // If there is any risk of an element being removed while it is being dragged,\n  // the best practice is to attach the event listeners directly to the target.\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n\n  const {EventTarget} = getWindow(target);\n\n  return target instanceof EventTarget ? target : getOwnerDocument(target);\n}\n","import type {Coordinates, DistanceMeasurement} from '../../types';\n\nexport function hasExceededDistance(\n  delta: Coordinates,\n  measurement: DistanceMeasurement\n): boolean {\n  const dx = Math.abs(delta.x);\n  const dy = Math.abs(delta.y);\n\n  if (typeof measurement === 'number') {\n    return Math.sqrt(dx ** 2 + dy ** 2) > measurement;\n  }\n\n  if ('x' in measurement && 'y' in measurement) {\n    return dx > measurement.x && dy > measurement.y;\n  }\n\n  if ('x' in measurement) {\n    return dx > measurement.x;\n  }\n\n  if ('y' in measurement) {\n    return dy > measurement.y;\n  }\n\n  return false;\n}\n","export enum EventName {\n  Click = 'click',\n  DragStart = 'dragstart',\n  Keydown = 'keydown',\n  ContextMenu = 'contextmenu',\n  Resize = 'resize',\n  SelectionChange = 'selectionchange',\n  VisibilityChange = 'visibilitychange',\n}\n\nexport function preventDefault(event: Event) {\n  event.preventDefault();\n}\n\nexport function stopPropagation(event: Event) {\n  event.stopPropagation();\n}\n","import type {Coordinates, UniqueIdentifier} from '../../types';\nimport type {SensorContext} from '../types';\n\nexport enum KeyboardCode {\n  Space = 'Space',\n  Down = 'ArrowDown',\n  Right = 'ArrowRight',\n  Left = 'ArrowLeft',\n  Up = 'ArrowUp',\n  Esc = 'Escape',\n  Enter = 'Enter',\n  Tab = 'Tab',\n}\n\nexport type KeyboardCodes = {\n  start: KeyboardEvent['code'][];\n  cancel: KeyboardEvent['code'][];\n  end: KeyboardEvent['code'][];\n};\n\nexport type KeyboardCoordinateGetter = (\n  event: KeyboardEvent,\n  args: {\n    active: UniqueIdentifier;\n    currentCoordinates: Coordinates;\n    context: SensorContext;\n  }\n) => Coordinates | void;\n","import {KeyboardCoordinateGetter, KeyboardCode, KeyboardCodes} from './types';\n\nexport const defaultKeyboardCodes: KeyboardCodes = {\n  start: [KeyboardCode.Space, KeyboardCode.Enter],\n  cancel: [KeyboardCode.Esc],\n  end: [KeyboardCode.Space, KeyboardCode.Enter, KeyboardCode.Tab],\n};\n\nexport const defaultKeyboardCoordinateGetter: KeyboardCoordinateGetter = (\n  event,\n  {currentCoordinates}\n) => {\n  switch (event.code) {\n    case KeyboardCode.Right:\n      return {\n        ...currentCoordinates,\n        x: currentCoordinates.x + 25,\n      };\n    case KeyboardCode.Left:\n      return {\n        ...currentCoordinates,\n        x: currentCoordinates.x - 25,\n      };\n    case KeyboardCode.Down:\n      return {\n        ...currentCoordinates,\n        y: currentCoordinates.y + 25,\n      };\n    case KeyboardCode.Up:\n      return {\n        ...currentCoordinates,\n        y: currentCoordinates.y - 25,\n      };\n  }\n\n  return undefined;\n};\n","import {\n  add as getAdjustedCoordinates,\n  subtract as getCoordinatesDelta,\n  getOwnerDocument,\n  getWindow,\n  isKeyboardEvent,\n} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\nimport {\n  defaultCoordinates,\n  getScrollPosition,\n  getScrollElementRect,\n} from '../../utilities';\nimport {scrollIntoViewIfNeeded} from '../../utilities/scroll';\nimport {EventName} from '../events';\nimport {Listeners} from '../utilities';\nimport type {\n  Activators,\n  SensorInstance,\n  SensorProps,\n  SensorOptions,\n} from '../types';\n\nimport {KeyboardCoordinateGetter, KeyboardCode, KeyboardCodes} from './types';\nimport {\n  defaultKeyboardCodes,\n  defaultKeyboardCoordinateGetter,\n} from './defaults';\n\nexport interface KeyboardSensorOptions extends SensorOptions {\n  keyboardCodes?: KeyboardCodes;\n  coordinateGetter?: KeyboardCoordinateGetter;\n  scrollBehavior?: ScrollBehavior;\n  onActivation?({event}: {event: KeyboardEvent}): void;\n}\n\nexport type KeyboardSensorProps = SensorProps<KeyboardSensorOptions>;\n\nexport class KeyboardSensor implements SensorInstance {\n  public autoScrollEnabled = false;\n  private referenceCoordinates: Coordinates | undefined;\n  private listeners: Listeners;\n  private windowListeners: Listeners;\n\n  constructor(private props: KeyboardSensorProps) {\n    const {\n      event: {target},\n    } = props;\n\n    this.props = props;\n    this.listeners = new Listeners(getOwnerDocument(target));\n    this.windowListeners = new Listeners(getWindow(target));\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n\n    this.attach();\n  }\n\n  private attach() {\n    this.handleStart();\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n\n    setTimeout(() => this.listeners.add(EventName.Keydown, this.handleKeyDown));\n  }\n\n  private handleStart() {\n    const {activeNode, onStart} = this.props;\n    const node = activeNode.node.current;\n\n    if (node) {\n      scrollIntoViewIfNeeded(node);\n    }\n\n    onStart(defaultCoordinates);\n  }\n\n  private handleKeyDown(event: Event) {\n    if (isKeyboardEvent(event)) {\n      const {active, context, options} = this.props;\n      const {\n        keyboardCodes = defaultKeyboardCodes,\n        coordinateGetter = defaultKeyboardCoordinateGetter,\n        scrollBehavior = 'smooth',\n      } = options;\n      const {code} = event;\n\n      if (keyboardCodes.end.includes(code)) {\n        this.handleEnd(event);\n        return;\n      }\n\n      if (keyboardCodes.cancel.includes(code)) {\n        this.handleCancel(event);\n        return;\n      }\n\n      const {collisionRect} = context.current;\n      const currentCoordinates = collisionRect\n        ? {x: collisionRect.left, y: collisionRect.top}\n        : defaultCoordinates;\n\n      if (!this.referenceCoordinates) {\n        this.referenceCoordinates = currentCoordinates;\n      }\n\n      const newCoordinates = coordinateGetter(event, {\n        active,\n        context: context.current,\n        currentCoordinates,\n      });\n\n      if (newCoordinates) {\n        const coordinatesDelta = getCoordinatesDelta(\n          newCoordinates,\n          currentCoordinates\n        );\n        const scrollDelta = {\n          x: 0,\n          y: 0,\n        };\n        const {scrollableAncestors} = context.current;\n\n        for (const scrollContainer of scrollableAncestors) {\n          const direction = event.code;\n          const {isTop, isRight, isLeft, isBottom, maxScroll, minScroll} =\n            getScrollPosition(scrollContainer);\n          const scrollElementRect = getScrollElementRect(scrollContainer);\n\n          const clampedCoordinates = {\n            x: Math.min(\n              direction === KeyboardCode.Right\n                ? scrollElementRect.right - scrollElementRect.width / 2\n                : scrollElementRect.right,\n              Math.max(\n                direction === KeyboardCode.Right\n                  ? scrollElementRect.left\n                  : scrollElementRect.left + scrollElementRect.width / 2,\n                newCoordinates.x\n              )\n            ),\n            y: Math.min(\n              direction === KeyboardCode.Down\n                ? scrollElementRect.bottom - scrollElementRect.height / 2\n                : scrollElementRect.bottom,\n              Math.max(\n                direction === KeyboardCode.Down\n                  ? scrollElementRect.top\n                  : scrollElementRect.top + scrollElementRect.height / 2,\n                newCoordinates.y\n              )\n            ),\n          };\n\n          const canScrollX =\n            (direction === KeyboardCode.Right && !isRight) ||\n            (direction === KeyboardCode.Left && !isLeft);\n          const canScrollY =\n            (direction === KeyboardCode.Down && !isBottom) ||\n            (direction === KeyboardCode.Up && !isTop);\n\n          if (canScrollX && clampedCoordinates.x !== newCoordinates.x) {\n            const newScrollCoordinates =\n              scrollContainer.scrollLeft + coordinatesDelta.x;\n            const canScrollToNewCoordinates =\n              (direction === KeyboardCode.Right &&\n                newScrollCoordinates <= maxScroll.x) ||\n              (direction === KeyboardCode.Left &&\n                newScrollCoordinates >= minScroll.x);\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.y) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                left: newScrollCoordinates,\n                behavior: scrollBehavior,\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.x = scrollContainer.scrollLeft - newScrollCoordinates;\n            } else {\n              scrollDelta.x =\n                direction === KeyboardCode.Right\n                  ? scrollContainer.scrollLeft - maxScroll.x\n                  : scrollContainer.scrollLeft - minScroll.x;\n            }\n\n            if (scrollDelta.x) {\n              scrollContainer.scrollBy({\n                left: -scrollDelta.x,\n                behavior: scrollBehavior,\n              });\n            }\n            break;\n          } else if (canScrollY && clampedCoordinates.y !== newCoordinates.y) {\n            const newScrollCoordinates =\n              scrollContainer.scrollTop + coordinatesDelta.y;\n            const canScrollToNewCoordinates =\n              (direction === KeyboardCode.Down &&\n                newScrollCoordinates <= maxScroll.y) ||\n              (direction === KeyboardCode.Up &&\n                newScrollCoordinates >= minScroll.y);\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.x) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                top: newScrollCoordinates,\n                behavior: scrollBehavior,\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.y = scrollContainer.scrollTop - newScrollCoordinates;\n            } else {\n              scrollDelta.y =\n                direction === KeyboardCode.Down\n                  ? scrollContainer.scrollTop - maxScroll.y\n                  : scrollContainer.scrollTop - minScroll.y;\n            }\n\n            if (scrollDelta.y) {\n              scrollContainer.scrollBy({\n                top: -scrollDelta.y,\n                behavior: scrollBehavior,\n              });\n            }\n\n            break;\n          }\n        }\n\n        this.handleMove(\n          event,\n          getAdjustedCoordinates(\n            getCoordinatesDelta(newCoordinates, this.referenceCoordinates),\n            scrollDelta\n          )\n        );\n      }\n    }\n  }\n\n  private handleMove(event: Event, coordinates: Coordinates) {\n    const {onMove} = this.props;\n\n    event.preventDefault();\n    onMove(coordinates);\n  }\n\n  private handleEnd(event: Event) {\n    const {onEnd} = this.props;\n\n    event.preventDefault();\n    this.detach();\n    onEnd();\n  }\n\n  private handleCancel(event: Event) {\n    const {onCancel} = this.props;\n\n    event.preventDefault();\n    this.detach();\n    onCancel();\n  }\n\n  private detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n  }\n\n  static activators: Activators<KeyboardSensorOptions> = [\n    {\n      eventName: 'onKeyDown' as const,\n      handler: (\n        event: React.KeyboardEvent,\n        {keyboardCodes = defaultKeyboardCodes, onActivation},\n        {active}\n      ) => {\n        const {code} = event.nativeEvent;\n\n        if (keyboardCodes.start.includes(code)) {\n          const activator = active.activatorNode.current;\n\n          if (activator && event.target !== activator) {\n            return false;\n          }\n\n          event.preventDefault();\n\n          onActivation?.({event: event.nativeEvent});\n\n          return true;\n        }\n\n        return false;\n      },\n    },\n  ];\n}\n","import {\n  subtract as getCoordinatesDelta,\n  getEventCoordinates,\n  getOwnerDocument,\n  getWindow,\n} from '@dnd-kit/utilities';\n\nimport {defaultCoordinates} from '../../utilities';\nimport {\n  getEventListenerTarget,\n  hasExceededDistance,\n  Listeners,\n} from '../utilities';\nimport {EventName, preventDefault, stopPropagation} from '../events';\nimport {KeyboardCode} from '../keyboard';\nimport type {SensorInstance, SensorProps, SensorOptions} from '../types';\nimport type {Coordinates, DistanceMeasurement} from '../../types';\n\ninterface DistanceConstraint {\n  distance: DistanceMeasurement;\n  tolerance?: DistanceMeasurement;\n}\n\ninterface DelayConstraint {\n  delay: number;\n  tolerance: DistanceMeasurement;\n}\n\ninterface EventDescriptor {\n  name: keyof DocumentEventMap;\n  passive?: boolean;\n}\n\nexport interface PointerEventHandlers {\n  cancel?: EventDescriptor;\n  move: EventDescriptor;\n  end: EventDescriptor;\n}\n\nexport type PointerActivationConstraint =\n  | DelayConstraint\n  | DistanceConstraint\n  | (DelayConstraint & DistanceConstraint);\n\nfunction isDistanceConstraint(\n  constraint: PointerActivationConstraint\n): constraint is PointerActivationConstraint & DistanceConstraint {\n  return Boolean(constraint && 'distance' in constraint);\n}\n\nfunction isDelayConstraint(\n  constraint: PointerActivationConstraint\n): constraint is DelayConstraint {\n  return Boolean(constraint && 'delay' in constraint);\n}\n\nexport interface AbstractPointerSensorOptions extends SensorOptions {\n  activationConstraint?: PointerActivationConstraint;\n  bypassActivationConstraint?(\n    props: Pick<AbstractPointerSensorProps, 'activeNode' | 'event' | 'options'>\n  ): boolean;\n  onActivation?({event}: {event: Event}): void;\n}\n\nexport type AbstractPointerSensorProps =\n  SensorProps<AbstractPointerSensorOptions>;\n\nexport class AbstractPointerSensor implements SensorInstance {\n  public autoScrollEnabled = true;\n  private document: Document;\n  private activated: boolean = false;\n  private initialCoordinates: Coordinates;\n  private timeoutId: NodeJS.Timeout | null = null;\n  private listeners: Listeners;\n  private documentListeners: Listeners;\n  private windowListeners: Listeners;\n\n  constructor(\n    private props: AbstractPointerSensorProps,\n    private events: PointerEventHandlers,\n    listenerTarget = getEventListenerTarget(props.event.target)\n  ) {\n    const {event} = props;\n    const {target} = event;\n\n    this.props = props;\n    this.events = events;\n    this.document = getOwnerDocument(target);\n    this.documentListeners = new Listeners(this.document);\n    this.listeners = new Listeners(listenerTarget);\n    this.windowListeners = new Listeners(getWindow(target));\n    this.initialCoordinates = getEventCoordinates(event) ?? defaultCoordinates;\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n    this.removeTextSelection = this.removeTextSelection.bind(this);\n\n    this.attach();\n  }\n\n  private attach() {\n    const {\n      events,\n      props: {\n        options: {activationConstraint, bypassActivationConstraint},\n      },\n    } = this;\n\n    this.listeners.add(events.move.name, this.handleMove, {passive: false});\n    this.listeners.add(events.end.name, this.handleEnd);\n\n    if (events.cancel) {\n      this.listeners.add(events.cancel.name, this.handleCancel);\n    }\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.DragStart, preventDefault);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    this.windowListeners.add(EventName.ContextMenu, preventDefault);\n    this.documentListeners.add(EventName.Keydown, this.handleKeydown);\n\n    if (activationConstraint) {\n      if (\n        bypassActivationConstraint?.({\n          event: this.props.event,\n          activeNode: this.props.activeNode,\n          options: this.props.options,\n        })\n      ) {\n        return this.handleStart();\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        this.timeoutId = setTimeout(\n          this.handleStart,\n          activationConstraint.delay\n        );\n        this.handlePending(activationConstraint);\n        return;\n      }\n\n      if (isDistanceConstraint(activationConstraint)) {\n        this.handlePending(activationConstraint);\n        return;\n      }\n    }\n\n    this.handleStart();\n  }\n\n  private detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n\n    // Wait until the next event loop before removing document listeners\n    // This is necessary because we listen for `click` and `selection` events on the document\n    setTimeout(this.documentListeners.removeAll, 50);\n\n    if (this.timeoutId !== null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n\n  private handlePending(\n    constraint: PointerActivationConstraint,\n    offset?: Coordinates | undefined\n  ): void {\n    const {active, onPending} = this.props;\n    onPending(active, constraint, this.initialCoordinates, offset);\n  }\n\n  private handleStart() {\n    const {initialCoordinates} = this;\n    const {onStart} = this.props;\n\n    if (initialCoordinates) {\n      this.activated = true;\n\n      // Stop propagation of click events once activation constraints are met\n      this.documentListeners.add(EventName.Click, stopPropagation, {\n        capture: true,\n      });\n\n      // Remove any text selection from the document\n      this.removeTextSelection();\n\n      // Prevent further text selection while dragging\n      this.documentListeners.add(\n        EventName.SelectionChange,\n        this.removeTextSelection\n      );\n\n      onStart(initialCoordinates);\n    }\n  }\n\n  private handleMove(event: Event) {\n    const {activated, initialCoordinates, props} = this;\n    const {\n      onMove,\n      options: {activationConstraint},\n    } = props;\n\n    if (!initialCoordinates) {\n      return;\n    }\n\n    const coordinates = getEventCoordinates(event) ?? defaultCoordinates;\n    const delta = getCoordinatesDelta(initialCoordinates, coordinates);\n\n    // Constraint validation\n    if (!activated && activationConstraint) {\n      if (isDistanceConstraint(activationConstraint)) {\n        if (\n          activationConstraint.tolerance != null &&\n          hasExceededDistance(delta, activationConstraint.tolerance)\n        ) {\n          return this.handleCancel();\n        }\n\n        if (hasExceededDistance(delta, activationConstraint.distance)) {\n          return this.handleStart();\n        }\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        if (hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n      }\n\n      this.handlePending(activationConstraint, delta);\n      return;\n    }\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    onMove(coordinates);\n  }\n\n  private handleEnd() {\n    const {onAbort, onEnd} = this.props;\n\n    this.detach();\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n    onEnd();\n  }\n\n  private handleCancel() {\n    const {onAbort, onCancel} = this.props;\n\n    this.detach();\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n    onCancel();\n  }\n\n  private handleKeydown(event: KeyboardEvent) {\n    if (event.code === KeyboardCode.Esc) {\n      this.handleCancel();\n    }\n  }\n\n  private removeTextSelection() {\n    this.document.getSelection()?.removeAllRanges();\n  }\n}\n","import type {PointerEvent} from 'react';\nimport {getOwnerDocument} from '@dnd-kit/utilities';\n\nimport type {SensorProps} from '../types';\nimport {\n  AbstractPointerSensor,\n  AbstractPointerSensorOptions,\n  PointerEventHandlers,\n} from './AbstractPointerSensor';\n\nconst events: PointerEventHandlers = {\n  cancel: {name: 'pointercancel'},\n  move: {name: 'pointermove'},\n  end: {name: 'pointerup'},\n};\n\nexport interface PointerSensorOptions extends AbstractPointerSensorOptions {}\n\nexport type PointerSensorProps = SensorProps<PointerSensorOptions>;\n\nexport class PointerSensor extends AbstractPointerSensor {\n  constructor(props: PointerSensorProps) {\n    const {event} = props;\n    // Pointer events stop firing if the target is unmounted while dragging\n    // Therefore we attach listeners to the owner document instead\n    const listenerTarget = getOwnerDocument(event.target);\n\n    super(props, events, listenerTarget);\n  }\n\n  static activators = [\n    {\n      eventName: 'onPointerDown' as const,\n      handler: (\n        {nativeEvent: event}: PointerEvent,\n        {onActivation}: PointerSensorOptions\n      ) => {\n        if (!event.isPrimary || event.button !== 0) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n}\n","import type {MouseEvent} from 'react';\nimport {getOwnerDocument} from '@dnd-kit/utilities';\n\nimport type {SensorProps} from '../types';\nimport {\n  AbstractPointerSensor,\n  PointerEventHandlers,\n  AbstractPointerSensorOptions,\n} from '../pointer';\n\nconst events: PointerEventHandlers = {\n  move: {name: 'mousemove'},\n  end: {name: 'mouseup'},\n};\n\nenum MouseButton {\n  RightClick = 2,\n}\n\nexport interface MouseSensorOptions extends AbstractPointerSensorOptions {}\n\nexport type MouseSensorProps = SensorProps<MouseSensorOptions>;\n\nexport class MouseSensor extends AbstractPointerSensor {\n  constructor(props: MouseSensorProps) {\n    super(props, events, getOwnerDocument(props.event.target));\n  }\n\n  static activators = [\n    {\n      eventName: 'onMouseDown' as const,\n      handler: (\n        {nativeEvent: event}: MouseEvent,\n        {onActivation}: MouseSensorOptions\n      ) => {\n        if (event.button === MouseButton.RightClick) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n}\n","import type {TouchEvent} from 'react';\n\nimport {\n  AbstractPointerSensor,\n  PointerSensorProps,\n  PointerEventHandlers,\n  PointerSensorOptions,\n} from '../pointer';\nimport type {SensorProps} from '../types';\n\nconst events: PointerEventHandlers = {\n  cancel: {name: 'touchcancel'},\n  move: {name: 'touchmove'},\n  end: {name: 'touchend'},\n};\n\nexport interface TouchSensorOptions extends PointerSensorOptions {}\n\nexport type TouchSensorProps = SensorProps<TouchSensorOptions>;\n\nexport class TouchSensor extends AbstractPointerSensor {\n  constructor(props: PointerSensorProps) {\n    super(props, events);\n  }\n\n  static activators = [\n    {\n      eventName: 'onTouchStart' as const,\n      handler: (\n        {nativeEvent: event}: TouchEvent,\n        {onActivation}: TouchSensorOptions\n      ) => {\n        const {touches} = event;\n\n        if (touches.length > 1) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n\n  static setup() {\n    // Adding a non-capture and non-passive `touchmove` listener in order\n    // to force `event.preventDefault()` calls to work in dynamically added\n    // touchmove event handlers. This is required for iOS Safari.\n    window.addEventListener(events.move.name, noop, {\n      capture: false,\n      passive: false,\n    });\n\n    return function teardown() {\n      window.removeEventListener(events.move.name, noop);\n    };\n\n    // We create a new handler because the teardown function of another sensor\n    // could remove our event listener if we use a referentially equal listener.\n    function noop() {}\n  }\n}\n","import {useCallback, useEffect, useMemo, useRef} from 'react';\nimport {useInterval, useLazyMemo, usePrevious} from '@dnd-kit/utilities';\n\nimport {getScrollDirectionAndSpeed} from '../../utilities';\nimport {Direction} from '../../types';\nimport type {Coordinates, ClientRect} from '../../types';\n\nexport type ScrollAncestorSortingFn = (ancestors: Element[]) => Element[];\n\nexport enum AutoScrollActivator {\n  Pointer,\n  DraggableRect,\n}\n\nexport interface Options {\n  acceleration?: number;\n  activator?: AutoScrollActivator;\n  canScroll?: CanScroll;\n  enabled?: boolean;\n  interval?: number;\n  layoutShiftCompensation?:\n    | boolean\n    | {\n        x: boolean;\n        y: boolean;\n      };\n  order?: TraversalOrder;\n  threshold?: {\n    x: number;\n    y: number;\n  };\n}\n\ninterface Arguments extends Options {\n  draggingRect: ClientRect | null;\n  enabled: boolean;\n  pointerCoordinates: Coordinates | null;\n  scrollableAncestors: Element[];\n  scrollableAncestorRects: ClientRect[];\n  delta: Coordinates;\n}\n\nexport type CanScroll = (element: Element) => boolean;\n\nexport enum TraversalOrder {\n  TreeOrder,\n  ReversedTreeOrder,\n}\n\ninterface ScrollDirection {\n  x: 0 | Direction;\n  y: 0 | Direction;\n}\n\nexport function useAutoScroller({\n  acceleration,\n  activator = AutoScrollActivator.Pointer,\n  canScroll,\n  draggingRect,\n  enabled,\n  interval = 5,\n  order = TraversalOrder.TreeOrder,\n  pointerCoordinates,\n  scrollableAncestors,\n  scrollableAncestorRects,\n  delta,\n  threshold,\n}: Arguments) {\n  const scrollIntent = useScrollIntent({delta, disabled: !enabled});\n  const [setAutoScrollInterval, clearAutoScrollInterval] = useInterval();\n  const scrollSpeed = useRef<Coordinates>({x: 0, y: 0});\n  const scrollDirection = useRef<ScrollDirection>({x: 0, y: 0});\n  const rect = useMemo(() => {\n    switch (activator) {\n      case AutoScrollActivator.Pointer:\n        return pointerCoordinates\n          ? {\n              top: pointerCoordinates.y,\n              bottom: pointerCoordinates.y,\n              left: pointerCoordinates.x,\n              right: pointerCoordinates.x,\n            }\n          : null;\n      case AutoScrollActivator.DraggableRect:\n        return draggingRect;\n    }\n  }, [activator, draggingRect, pointerCoordinates]);\n  const scrollContainerRef = useRef<Element | null>(null);\n  const autoScroll = useCallback(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const scrollLeft = scrollSpeed.current.x * scrollDirection.current.x;\n    const scrollTop = scrollSpeed.current.y * scrollDirection.current.y;\n\n    scrollContainer.scrollBy(scrollLeft, scrollTop);\n  }, []);\n  const sortedScrollableAncestors = useMemo(\n    () =>\n      order === TraversalOrder.TreeOrder\n        ? [...scrollableAncestors].reverse()\n        : scrollableAncestors,\n    [order, scrollableAncestors]\n  );\n\n  useEffect(\n    () => {\n      if (!enabled || !scrollableAncestors.length || !rect) {\n        clearAutoScrollInterval();\n        return;\n      }\n\n      for (const scrollContainer of sortedScrollableAncestors) {\n        if (canScroll?.(scrollContainer) === false) {\n          continue;\n        }\n\n        const index = scrollableAncestors.indexOf(scrollContainer);\n        const scrollContainerRect = scrollableAncestorRects[index];\n\n        if (!scrollContainerRect) {\n          continue;\n        }\n\n        const {direction, speed} = getScrollDirectionAndSpeed(\n          scrollContainer,\n          scrollContainerRect,\n          rect,\n          acceleration,\n          threshold\n        );\n\n        for (const axis of ['x', 'y'] as const) {\n          if (!scrollIntent[axis][direction[axis] as Direction]) {\n            speed[axis] = 0;\n            direction[axis] = 0;\n          }\n        }\n\n        if (speed.x > 0 || speed.y > 0) {\n          clearAutoScrollInterval();\n\n          scrollContainerRef.current = scrollContainer;\n          setAutoScrollInterval(autoScroll, interval);\n\n          scrollSpeed.current = speed;\n          scrollDirection.current = direction;\n\n          return;\n        }\n      }\n\n      scrollSpeed.current = {x: 0, y: 0};\n      scrollDirection.current = {x: 0, y: 0};\n      clearAutoScrollInterval();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      acceleration,\n      autoScroll,\n      canScroll,\n      clearAutoScrollInterval,\n      enabled,\n      interval,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(rect),\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(scrollIntent),\n      setAutoScrollInterval,\n      scrollableAncestors,\n      sortedScrollableAncestors,\n      scrollableAncestorRects,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(threshold),\n    ]\n  );\n}\n\ninterface ScrollIntent {\n  x: Record<Direction, boolean>;\n  y: Record<Direction, boolean>;\n}\n\nconst defaultScrollIntent: ScrollIntent = {\n  x: {[Direction.Backward]: false, [Direction.Forward]: false},\n  y: {[Direction.Backward]: false, [Direction.Forward]: false},\n};\n\nfunction useScrollIntent({\n  delta,\n  disabled,\n}: {\n  delta: Coordinates;\n  disabled: boolean;\n}): ScrollIntent {\n  const previousDelta = usePrevious(delta);\n\n  return useLazyMemo<ScrollIntent>(\n    (previousIntent) => {\n      if (disabled || !previousDelta || !previousIntent) {\n        // Reset scroll intent tracking when auto-scrolling is disabled\n        return defaultScrollIntent;\n      }\n\n      const direction = {\n        x: Math.sign(delta.x - previousDelta.x),\n        y: Math.sign(delta.y - previousDelta.y),\n      };\n\n      // Keep track of the user intent to scroll in each direction for both axis\n      return {\n        x: {\n          [Direction.Backward]:\n            previousIntent.x[Direction.Backward] || direction.x === -1,\n          [Direction.Forward]:\n            previousIntent.x[Direction.Forward] || direction.x === 1,\n        },\n        y: {\n          [Direction.Backward]:\n            previousIntent.y[Direction.Backward] || direction.y === -1,\n          [Direction.Forward]:\n            previousIntent.y[Direction.Forward] || direction.y === 1,\n        },\n      };\n    },\n    [disabled, delta, previousDelta]\n  );\n}\n","import {useLazyMemo} from '@dnd-kit/utilities';\n\nimport type {DraggableNode, DraggableNodes} from '../../store';\nimport type {UniqueIdentifier} from '../../types';\n\nexport function useCachedNode(\n  draggableNodes: DraggableNodes,\n  id: UniqueIdentifier | null\n): DraggableNode['node']['current'] {\n  const draggableNode = id != null ? draggableNodes.get(id) : undefined;\n  const node = draggableNode ? draggableNode.node.current : null;\n\n  return useLazyMemo(\n    (cachedNode) => {\n      if (id == null) {\n        return null;\n      }\n\n      // In some cases, the draggable node can unmount while dragging\n      // This is the case for virtualized lists. In those situations,\n      // we fall back to the last known value for that node.\n      return node ?? cachedNode ?? null;\n    },\n    [node, id]\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SensorActivatorFunction, SensorDescriptor} from '../../sensors';\nimport type {\n  SyntheticListener,\n  SyntheticListeners,\n} from './useSyntheticListeners';\n\nexport function useCombineActivators(\n  sensors: SensorDescriptor<any>[],\n  getSyntheticHandler: (\n    handler: SensorActivatorFunction<any>,\n    sensor: SensorDescriptor<any>\n  ) => SyntheticListener['handler']\n): SyntheticListeners {\n  return useMemo(\n    () =>\n      sensors.reduce<SyntheticListeners>((accumulator, sensor) => {\n        const {sensor: Sensor} = sensor;\n\n        const sensorActivators = Sensor.activators.map((activator) => ({\n          eventName: activator.eventName,\n          handler: getSyntheticHandler(activator.handler, sensor),\n        }));\n\n        return [...accumulator, ...sensorActivators];\n      }, []),\n    [sensors, getSyntheticHandler]\n  );\n}\n","import {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLatestValue, useLazyMemo} from '@dnd-kit/utilities';\n\nimport {Rect} from '../../utilities/rect';\nimport type {DroppableContainer, RectMap} from '../../store/types';\nimport type {ClientRect, UniqueIdentifier} from '../../types';\n\ninterface Arguments {\n  dragging: boolean;\n  dependencies: any[];\n  config: DroppableMeasuring;\n}\n\nexport enum MeasuringStrategy {\n  Always,\n  BeforeDragging,\n  WhileDragging,\n}\n\nexport enum MeasuringFrequency {\n  Optimized = 'optimized',\n}\n\ntype MeasuringFunction = (element: HTMLElement) => ClientRect;\n\nexport interface DroppableMeasuring {\n  measure: MeasuringFunction;\n  strategy: MeasuringStrategy;\n  frequency: MeasuringFrequency | number;\n}\n\nconst defaultValue: RectMap = new Map();\n\nexport function useDroppableMeasuring(\n  containers: DroppableContainer[],\n  {dragging, dependencies, config}: Arguments\n) {\n  const [queue, setQueue] = useState<UniqueIdentifier[] | null>(null);\n  const {frequency, measure, strategy} = config;\n  const containersRef = useRef(containers);\n  const disabled = isDisabled();\n  const disabledRef = useLatestValue(disabled);\n  const measureDroppableContainers = useCallback(\n    (ids: UniqueIdentifier[] = []) => {\n      if (disabledRef.current) {\n        return;\n      }\n\n      setQueue((value) => {\n        if (value === null) {\n          return ids;\n        }\n\n        return value.concat(ids.filter((id) => !value.includes(id)));\n      });\n    },\n    [disabledRef]\n  );\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n  const droppableRects = useLazyMemo<RectMap>(\n    (previousValue) => {\n      if (disabled && !dragging) {\n        return defaultValue;\n      }\n\n      if (\n        !previousValue ||\n        previousValue === defaultValue ||\n        containersRef.current !== containers ||\n        queue != null\n      ) {\n        const map: RectMap = new Map();\n\n        for (let container of containers) {\n          if (!container) {\n            continue;\n          }\n\n          if (\n            queue &&\n            queue.length > 0 &&\n            !queue.includes(container.id) &&\n            container.rect.current\n          ) {\n            // This container does not need to be re-measured\n            map.set(container.id, container.rect.current);\n            continue;\n          }\n\n          const node = container.node.current;\n          const rect = node ? new Rect(measure(node), node) : null;\n\n          container.rect.current = rect;\n\n          if (rect) {\n            map.set(container.id, rect);\n          }\n        }\n\n        return map;\n      }\n\n      return previousValue;\n    },\n    [containers, queue, dragging, disabled, measure]\n  );\n\n  useEffect(() => {\n    containersRef.current = containers;\n  }, [containers]);\n\n  useEffect(\n    () => {\n      if (disabled) {\n        return;\n      }\n\n      measureDroppableContainers();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [dragging, disabled]\n  );\n\n  useEffect(\n    () => {\n      if (queue && queue.length > 0) {\n        setQueue(null);\n      }\n    },\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(queue)]\n  );\n\n  useEffect(\n    () => {\n      if (\n        disabled ||\n        typeof frequency !== 'number' ||\n        timeoutId.current !== null\n      ) {\n        return;\n      }\n\n      timeoutId.current = setTimeout(() => {\n        measureDroppableContainers();\n        timeoutId.current = null;\n      }, frequency);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [frequency, disabled, measureDroppableContainers, ...dependencies]\n  );\n\n  return {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled: queue != null,\n  };\n\n  function isDisabled() {\n    switch (strategy) {\n      case MeasuringStrategy.Always:\n        return false;\n      case MeasuringStrategy.BeforeDragging:\n        return dragging;\n      default:\n        return !dragging;\n    }\n  }\n}\n","import {useLazyMemo} from '@dnd-kit/utilities';\n\ntype AnyFunction = (...args: any) => any;\n\nexport function useInitialValue<\n  T,\n  U extends AnyFunction | undefined = undefined\n>(\n  value: T | null,\n  computeFn?: U\n): U extends AnyFunction ? ReturnType<U> | null : T | null {\n  return useLazyMemo(\n    (previousValue) => {\n      if (!value) {\n        return null;\n      }\n\n      if (previousValue) {\n        return previousValue;\n      }\n\n      return typeof computeFn === 'function' ? computeFn(value) : value;\n    },\n    [computeFn, value]\n  );\n}\n","import type {ClientRect} from '../../types';\nimport {useInitialValue} from './useInitialValue';\n\nexport function useInitialRect(\n  node: HTMLElement | null,\n  measure: (node: HTMLElement) => ClientRect\n) {\n  return useInitialValue(node, measure);\n}\n","import {useEffect, useMemo} from 'react';\nimport {useEvent} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  callback: MutationCallback;\n  disabled?: boolean;\n}\n\n/**\n * Returns a new MutationObserver instance.\n * If `MutationObserver` is undefined in the execution environment, returns `undefined`.\n */\nexport function useMutationObserver({callback, disabled}: Arguments) {\n  const handleMutations = useEvent(callback);\n  const mutationObserver = useMemo(() => {\n    if (\n      disabled ||\n      typeof window === 'undefined' ||\n      typeof window.MutationObserver === 'undefined'\n    ) {\n      return undefined;\n    }\n\n    const {MutationObserver} = window;\n\n    return new MutationObserver(handleMutations);\n  }, [handleMutations, disabled]);\n\n  useEffect(() => {\n    return () => mutationObserver?.disconnect();\n  }, [mutationObserver]);\n\n  return mutationObserver;\n}\n","import {useEffect, useMemo} from 'react';\nimport {useEvent} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  callback: ResizeObserverCallback;\n  disabled?: boolean;\n}\n\n/**\n * Returns a new ResizeObserver instance bound to the `onResize` callback.\n * If `ResizeObserver` is undefined in the execution environment, returns `undefined`.\n */\nexport function useResizeObserver({callback, disabled}: Arguments) {\n  const handleResize = useEvent(callback);\n  const resizeObserver = useMemo(\n    () => {\n      if (\n        disabled ||\n        typeof window === 'undefined' ||\n        typeof window.ResizeObserver === 'undefined'\n      ) {\n        return undefined;\n      }\n\n      const {ResizeObserver} = window;\n\n      return new ResizeObserver(handleResize);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [disabled]\n  );\n\n  useEffect(() => {\n    return () => resizeObserver?.disconnect();\n  }, [resizeObserver]);\n\n  return resizeObserver;\n}\n","import {useState} from 'react';\nimport {useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {getClientRect, Rect} from '../../utilities';\n\nimport {useMutationObserver} from './useMutationObserver';\nimport {useResizeObserver} from './useResizeObserver';\n\nfunction defaultMeasure(element: HTMLElement) {\n  return new Rect(getClientRect(element), element);\n}\n\nexport function useRect(\n  element: HTMLElement | null,\n  measure: (element: HTMLElement) => ClientRect = defaultMeasure,\n  fallbackRect?: ClientRect | null\n) {\n  const [rect, setRect] = useState<ClientRect | null>(null);\n\n  function measureRect() {\n    setRect((currentRect): ClientRect | null => {\n      if (!element) {\n        return null;\n      }\n  \n      if (element.isConnected === false) {\n        // Fall back to last rect we measured if the element is\n        // no longer connected to the DOM.\n        return currentRect ?? fallbackRect ?? null;\n      }\n  \n      const newRect = measure(element);\n  \n      if (JSON.stringify(currentRect) === JSON.stringify(newRect)) {\n        return currentRect;\n      }\n  \n      return newRect;\n    });\n  }\n  \n  const mutationObserver = useMutationObserver({\n    callback(records) {\n      if (!element) {\n        return;\n      }\n\n      for (const record of records) {\n        const {type, target} = record;\n\n        if (\n          type === 'childList' &&\n          target instanceof HTMLElement &&\n          target.contains(element)\n        ) {\n          measureRect();\n          break;\n        }\n      }\n    },\n  });\n  const resizeObserver = useResizeObserver({callback: measureRect});\n\n  useIsomorphicLayoutEffect(() => {\n    measureRect();\n\n    if (element) {\n      resizeObserver?.observe(element);\n      mutationObserver?.observe(document.body, {\n        childList: true,\n        subtree: true,\n      });\n    } else {\n      resizeObserver?.disconnect();\n      mutationObserver?.disconnect();\n    }\n  }, [element]);\n\n  return rect;\n}\n","import type {ClientRect} from '../../types';\nimport {getRectDelta} from '../../utilities';\n\nimport {useInitialValue} from './useInitialValue';\n\nexport function useRectDelta(rect: ClientRect | null) {\n  const initialRect = useInitialValue(rect);\n\n  return getRectDelta(rect, initialRect);\n}\n","import {useEffect, useRef} from 'react';\nimport {useLazyMemo} from '@dnd-kit/utilities';\n\nimport {getScrollableAncestors} from '../../utilities';\n\nconst defaultValue: Element[] = [];\n\nexport function useScrollableAncestors(node: HTMLElement | null) {\n  const previousNode = useRef(node);\n\n  const ancestors = useLazyMemo<Element[]>(\n    (previousValue) => {\n      if (!node) {\n        return defaultValue;\n      }\n\n      if (\n        previousValue &&\n        previousValue !== defaultValue &&\n        node &&\n        previousNode.current &&\n        node.parentNode === previousNode.current.parentNode\n      ) {\n        return previousValue;\n      }\n\n      return getScrollableAncestors(node);\n    },\n    [node]\n  );\n\n  useEffect(() => {\n    previousNode.current = node;\n  }, [node]);\n\n  return ancestors;\n}\n","import {useState, useCallback, useMemo, useRef, useEffect} from 'react';\nimport {add} from '@dnd-kit/utilities';\n\nimport {\n  defaultCoordinates,\n  getScrollableElement,\n  getScrollCoordinates,\n  getScrollOffsets,\n} from '../../utilities';\nimport type {Coordinates} from '../../types';\n\ntype ScrollCoordinates = Map<HTMLElement | Window, Coordinates>;\n\nexport function useScrollOffsets(elements: Element[]): Coordinates {\n  const [\n    scrollCoordinates,\n    setScrollCoordinates,\n  ] = useState<ScrollCoordinates | null>(null);\n  const prevElements = useRef(elements);\n\n  // To-do: Throttle the handleScroll callback\n  const handleScroll = useCallback((event: Event) => {\n    const scrollingElement = getScrollableElement(event.target);\n\n    if (!scrollingElement) {\n      return;\n    }\n\n    setScrollCoordinates((scrollCoordinates) => {\n      if (!scrollCoordinates) {\n        return null;\n      }\n\n      scrollCoordinates.set(\n        scrollingElement,\n        getScrollCoordinates(scrollingElement)\n      );\n\n      return new Map(scrollCoordinates);\n    });\n  }, []);\n\n  useEffect(() => {\n    const previousElements = prevElements.current;\n\n    if (elements !== previousElements) {\n      cleanup(previousElements);\n\n      const entries = elements\n        .map((element) => {\n          const scrollableElement = getScrollableElement(element);\n\n          if (scrollableElement) {\n            scrollableElement.addEventListener('scroll', handleScroll, {\n              passive: true,\n            });\n\n            return [\n              scrollableElement,\n              getScrollCoordinates(scrollableElement),\n            ] as const;\n          }\n\n          return null;\n        })\n        .filter(\n          (\n            entry\n          ): entry is [\n            HTMLElement | (Window & typeof globalThis),\n            Coordinates\n          ] => entry != null\n        );\n\n      setScrollCoordinates(entries.length ? new Map(entries) : null);\n\n      prevElements.current = elements;\n    }\n\n    return () => {\n      cleanup(elements);\n      cleanup(previousElements);\n    };\n\n    function cleanup(elements: Element[]) {\n      elements.forEach((element) => {\n        const scrollableElement = getScrollableElement(element);\n\n        scrollableElement?.removeEventListener('scroll', handleScroll);\n      });\n    }\n  }, [handleScroll, elements]);\n\n  return useMemo(() => {\n    if (elements.length) {\n      return scrollCoordinates\n        ? Array.from(scrollCoordinates.values()).reduce(\n            (acc, coordinates) => add(acc, coordinates),\n            defaultCoordinates\n          )\n        : getScrollOffsets(elements);\n    }\n\n    return defaultCoordinates;\n  }, [elements, scrollCoordinates]);\n}\n","import {useEffect, useRef} from 'react';\nimport {Coordinates, subtract} from '@dnd-kit/utilities';\n\nimport {defaultCoordinates} from '../../utilities';\n\nexport function useScrollOffsetsDelta(\n  scrollOffsets: Coordinates,\n  dependencies: any[] = []\n) {\n  const initialScrollOffsets = useRef<Coordinates | null>(null);\n\n  useEffect(\n    () => {\n      initialScrollOffsets.current = null;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    dependencies\n  );\n\n  useEffect(() => {\n    const hasScrollOffsets = scrollOffsets !== defaultCoordinates;\n\n    if (hasScrollOffsets && !initialScrollOffsets.current) {\n      initialScrollOffsets.current = scrollOffsets;\n    }\n\n    if (!hasScrollOffsets && initialScrollOffsets.current) {\n      initialScrollOffsets.current = null;\n    }\n  }, [scrollOffsets]);\n\n  return initialScrollOffsets.current\n    ? subtract(scrollOffsets, initialScrollOffsets.current)\n    : defaultCoordinates;\n}\n","import {useEffect} from 'react';\nimport {canUseDOM} from '@dnd-kit/utilities';\n\nimport type {SensorDescriptor} from '../../sensors';\n\nexport function useSensorSetup(sensors: SensorDescriptor<any>[]) {\n  useEffect(\n    () => {\n      if (!canUseDOM) {\n        return;\n      }\n\n      const teardownFns = sensors.map(({sensor}) => sensor.setup?.());\n\n      return () => {\n        for (const teardown of teardownFns) {\n          teardown?.();\n        }\n      };\n    },\n    // TO-DO: Sensors length could theoretically change which would not be a valid dependency\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    sensors.map(({sensor}) => sensor)\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SyntheticEventName, UniqueIdentifier} from '../../types';\n\nexport type SyntheticListener = {\n  eventName: SyntheticEventName;\n  handler: (event: React.SyntheticEvent, id: UniqueIdentifier) => void;\n};\n\nexport type SyntheticListeners = SyntheticListener[];\n\nexport type SyntheticListenerMap = Record<string, Function>;\n\nexport function useSyntheticListeners(\n  listeners: SyntheticListeners,\n  id: UniqueIdentifier\n): SyntheticListenerMap {\n  return useMemo(() => {\n    return listeners.reduce<SyntheticListenerMap>(\n      (acc, {eventName, handler}) => {\n        acc[eventName] = (event: React.SyntheticEvent) => {\n          handler(event, id);\n        };\n\n        return acc;\n      },\n      {} as SyntheticListenerMap\n    );\n  }, [listeners, id]);\n}\n","import {useMemo} from 'react';\n\nimport {getWindowClientRect} from '../../utilities/rect';\n\nexport function useWindowRect(element: typeof window | null) {\n  return useMemo(() => (element ? getWindowClientRect(element) : null), [\n    element,\n  ]);\n}\n","import {useState} from 'react';\nimport {getWindow, useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {Rect, getClientRect} from '../../utilities/rect';\nimport {isDocumentScrollingElement} from '../../utilities';\n\nimport {useResizeObserver} from './useResizeObserver';\nimport {useWindowRect} from './useWindowRect';\n\nconst defaultValue: Rect[] = [];\n\nexport function useRects(\n  elements: Element[],\n  measure: (element: Element) => ClientRect = getClientRect\n): ClientRect[] {\n  const [firstElement] = elements;\n  const windowRect = useWindowRect(\n    firstElement ? getWindow(firstElement) : null\n  );\n  const [rects, setRects] = useState<ClientRect[]>(defaultValue);\n\n  function measureRects() {\n    setRects(() => {\n      if (!elements.length) {\n        return defaultValue;\n      }\n\n      return elements.map((element) =>\n        isDocumentScrollingElement(element)\n          ? (windowRect as ClientRect)\n          : new Rect(measure(element), element)\n      );\n    });\n  }\n\n  const resizeObserver = useResizeObserver({callback: measureRects});\n\n  useIsomorphicLayoutEffect(() => {\n    resizeObserver?.disconnect();\n    measureRects();\n    elements.forEach((element) => resizeObserver?.observe(element));\n  }, [elements]);\n\n  return rects;\n}\n","import {isHTMLElement} from '@dnd-kit/utilities';\n\nexport function getMeasurableNode(\n  node: HTMLElement | undefined | null\n): HTMLElement | null {\n  if (!node) {\n    return null;\n  }\n\n  if (node.children.length > 1) {\n    return node;\n  }\n  const firstChild = node.children[0];\n\n  return isHTMLElement(firstChild) ? firstChild : node;\n}\n","import {useMemo, useCallback, useState} from 'react';\nimport {isHTMLElement, useNodeRef} from '@dnd-kit/utilities';\n\nimport {useResizeObserver} from './useResizeObserver';\nimport {getMeasurableNode} from '../../utilities/nodes';\nimport type {PublicContextDescriptor} from '../../store';\nimport type {ClientRect} from '../../types';\n\ninterface Arguments {\n  measure(element: HTMLElement): ClientRect;\n}\n\nexport function useDragOverlayMeasuring({\n  measure,\n}: Arguments): PublicContextDescriptor['dragOverlay'] {\n  const [rect, setRect] = useState<ClientRect | null>(null);\n  const handleResize = useCallback(\n    (entries: ResizeObserverEntry[]) => {\n      for (const {target} of entries) {\n        if (isHTMLElement(target)) {\n          setRect((rect) => {\n            const newRect = measure(target);\n\n            return rect\n              ? {...rect, width: newRect.width, height: newRect.height}\n              : newRect;\n          });\n          break;\n        }\n      }\n    },\n    [measure]\n  );\n  const resizeObserver = useResizeObserver({callback: handleResize});\n  const handleNodeChange = useCallback(\n    (element) => {\n      const node = getMeasurableNode(element);\n\n      resizeObserver?.disconnect();\n\n      if (node) {\n        resizeObserver?.observe(node);\n      }\n\n      setRect(node ? measure(node) : null);\n    },\n    [measure, resizeObserver]\n  );\n  const [nodeRef, setRef] = useNodeRef(handleNodeChange);\n\n  return useMemo(\n    () => ({\n      nodeRef,\n      rect,\n      setRef,\n    }),\n    [rect, nodeRef, setRef]\n  );\n}\n","import type {DeepRequired} from '@dnd-kit/utilities';\n\nimport type {DataRef} from '../../store/types';\nimport {KeyboardSensor, PointerSensor} from '../../sensors';\nimport {MeasuringStrategy, MeasuringFrequency} from '../../hooks/utilities';\nimport {\n  getClientRect,\n  getTransformAgnosticClientRect,\n} from '../../utilities/rect';\n\nimport type {MeasuringConfiguration} from './types';\n\nexport const defaultSensors = [\n  {sensor: PointerSensor, options: {}},\n  {sensor: KeyboardSensor, options: {}},\n];\n\nexport const defaultData: DataRef = {current: {}};\n\nexport const defaultMeasuringConfiguration: DeepRequired<MeasuringConfiguration> = {\n  draggable: {\n    measure: getTransformAgnosticClientRect,\n  },\n  droppable: {\n    measure: getTransformAgnosticClientRect,\n    strategy: MeasuringStrategy.WhileDragging,\n    frequency: MeasuringFrequency.Optimized,\n  },\n  dragOverlay: {\n    measure: getClientRect,\n  },\n};\n","import type {UniqueIdentifier} from '../types';\nimport type {DroppableContainer} from './types';\n\ntype Identifier = UniqueIdentifier | null | undefined;\n\nexport class DroppableContainersMap extends Map<\n  UniqueIdentifier,\n  DroppableContainer\n> {\n  get(id: Identifier) {\n    return id != null ? super.get(id) ?? undefined : undefined;\n  }\n\n  toArray(): DroppableContainer[] {\n    return Array.from(this.values());\n  }\n\n  getEnabled(): DroppableContainer[] {\n    return this.toArray().filter(({disabled}) => !disabled);\n  }\n\n  getNodeFor(id: Identifier) {\n    return this.get(id)?.node.current ?? undefined;\n  }\n}\n","import {createContext} from 'react';\n\nimport {noop} from '../utilities/other';\nimport {defaultMeasuringConfiguration} from '../components/DndContext/defaults';\nimport {DroppableContainersMap} from './constructors';\nimport type {InternalContextDescriptor, PublicContextDescriptor} from './types';\n\nexport const defaultPublicContext: PublicContextDescriptor = {\n  activatorEvent: null,\n  active: null,\n  activeNode: null,\n  activeNodeRect: null,\n  collisions: null,\n  containerNodeRect: null,\n  draggableNodes: new Map(),\n  droppableRects: new Map(),\n  droppableContainers: new DroppableContainersMap(),\n  over: null,\n  dragOverlay: {\n    nodeRef: {\n      current: null,\n    },\n    rect: null,\n    setRef: noop,\n  },\n  scrollableAncestors: [],\n  scrollableAncestorRects: [],\n  measuringConfiguration: defaultMeasuringConfiguration,\n  measureDroppableContainers: noop,\n  windowRect: null,\n  measuringScheduled: false,\n};\n\nexport const defaultInternalContext: InternalContextDescriptor = {\n  activatorEvent: null,\n  activators: [],\n  active: null,\n  activeNodeRect: null,\n  ariaDescribedById: {\n    draggable: '',\n  },\n  dispatch: noop,\n  draggableNodes: new Map(),\n  over: null,\n  measureDroppableContainers: noop,\n};\n\nexport const InternalContext = createContext<InternalContextDescriptor>(\n  defaultInternalContext\n);\n\nexport const PublicContext = createContext<PublicContextDescriptor>(\n  defaultPublicContext\n);\n","import {Action, Actions} from './actions';\nimport {DroppableContainersMap} from './constructors';\nimport type {State} from './types';\n\nexport function getInitialState(): State {\n  return {\n    draggable: {\n      active: null,\n      initialCoordinates: {x: 0, y: 0},\n      nodes: new Map(),\n      translate: {x: 0, y: 0},\n    },\n    droppable: {\n      containers: new DroppableContainersMap(),\n    },\n  };\n}\n\nexport function reducer(state: State, action: Actions): State {\n  switch (action.type) {\n    case Action.DragStart:\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          initialCoordinates: action.initialCoordinates,\n          active: action.active,\n        },\n      };\n    case Action.DragMove:\n      if (state.draggable.active == null) {\n        return state;\n      }\n\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          translate: {\n            x: action.coordinates.x - state.draggable.initialCoordinates.x,\n            y: action.coordinates.y - state.draggable.initialCoordinates.y,\n          },\n        },\n      };\n    case Action.DragEnd:\n    case Action.DragCancel:\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          active: null,\n          initialCoordinates: {x: 0, y: 0},\n          translate: {x: 0, y: 0},\n        },\n      };\n\n    case Action.RegisterDroppable: {\n      const {element} = action;\n      const {id} = element;\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.set(id, element);\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    case Action.SetDroppableDisabled: {\n      const {id, key, disabled} = action;\n      const element = state.droppable.containers.get(id);\n\n      if (!element || key !== element.key) {\n        return state;\n      }\n\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.set(id, {\n        ...element,\n        disabled,\n      });\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    case Action.UnregisterDroppable: {\n      const {id, key} = action;\n      const element = state.droppable.containers.get(id);\n\n      if (!element || key !== element.key) {\n        return state;\n      }\n\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.delete(id);\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import {useContext, useEffect} from 'react';\nimport {\n  findFirstFocusableNode,\n  isKeyboardEvent,\n  usePrevious,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext} from '../../../store';\n\ninterface Props {\n  disabled: boolean;\n}\n\nexport function RestoreFocus({disabled}: Props) {\n  const {active, activatorEvent, draggableNodes} = useContext(InternalContext);\n  const previousActivatorEvent = usePrevious(activatorEvent);\n  const previousActiveId = usePrevious(active?.id);\n\n  // Restore keyboard focus on the activator node\n  useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    if (!activatorEvent && previousActivatorEvent && previousActiveId != null) {\n      if (!isKeyboardEvent(previousActivatorEvent)) {\n        return;\n      }\n\n      if (document.activeElement === previousActivatorEvent.target) {\n        // No need to restore focus\n        return;\n      }\n\n      const draggableNode = draggableNodes.get(previousActiveId);\n\n      if (!draggableNode) {\n        return;\n      }\n\n      const {activatorNode, node} = draggableNode;\n\n      if (!activatorNode.current && !node.current) {\n        return;\n      }\n\n      requestAnimationFrame(() => {\n        for (const element of [activatorNode.current, node.current]) {\n          if (!element) {\n            continue;\n          }\n\n          const focusableNode = findFirstFocusableNode(element);\n\n          if (focusableNode) {\n            focusableNode.focus();\n            break;\n          }\n        }\n      });\n    }\n  }, [\n    activatorEvent,\n    disabled,\n    draggableNodes,\n    previousActiveId,\n    previousActivatorEvent,\n  ]);\n\n  return null;\n}\n","import type {FirstArgument, Transform} from '@dnd-kit/utilities';\n\nimport type {Modifiers, Modifier} from './types';\n\nexport function applyModifiers(\n  modifiers: Modifiers | undefined,\n  {transform, ...args}: FirstArgument<Modifier>\n): Transform {\n  return modifiers?.length\n    ? modifiers.reduce<Transform>((accumulator, modifier) => {\n        return modifier({\n          transform: accumulator,\n          ...args,\n        });\n      }, transform)\n    : transform;\n}\n","import {useMemo} from 'react';\nimport type {DeepRequired} from '@dnd-kit/utilities';\n\nimport {defaultMeasuringConfiguration} from '../defaults';\nimport type {MeasuringConfiguration} from '../types';\n\nexport function useMeasuringConfiguration(\n  config: MeasuringConfiguration | undefined\n): DeepRequired<MeasuringConfiguration> {\n  return useMemo(\n    () => ({\n      draggable: {\n        ...defaultMeasuringConfiguration.draggable,\n        ...config?.draggable,\n      },\n      droppable: {\n        ...defaultMeasuringConfiguration.droppable,\n        ...config?.droppable,\n      },\n      dragOverlay: {\n        ...defaultMeasuringConfiguration.dragOverlay,\n        ...config?.dragOverlay,\n      },\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [config?.draggable, config?.droppable, config?.dragOverlay]\n  );\n}\n","import {useRef} from 'react';\nimport {useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport {getRectDelta} from '../../../utilities/rect';\nimport {getFirstScrollableAncestor} from '../../../utilities/scroll';\nimport type {ClientRect} from '../../../types';\nimport type {DraggableNode} from '../../../store';\nimport type {MeasuringFunction} from '../types';\n\ninterface Options {\n  activeNode: DraggableNode | null | undefined;\n  config: boolean | {x: boolean; y: boolean} | undefined;\n  initialRect: ClientRect | null;\n  measure: MeasuringFunction;\n}\n\nexport function useLayoutShiftScrollCompensation({\n  activeNode,\n  measure,\n  initialRect,\n  config = true,\n}: Options) {\n  const initialized = useRef(false);\n  const {x, y} = typeof config === 'boolean' ? {x: config, y: config} : config;\n\n  useIsomorphicLayoutEffect(() => {\n    const disabled = !x && !y;\n\n    if (disabled || !activeNode) {\n      initialized.current = false;\n      return;\n    }\n\n    if (initialized.current || !initialRect) {\n      // Return early if layout shift scroll compensation was already attempted\n      // or if there is no initialRect to compare to.\n      return;\n    }\n\n    // Get the most up to date node ref for the active draggable\n    const node = activeNode?.node.current;\n\n    if (!node || node.isConnected === false) {\n      // Return early if there is no attached node ref or if the node is\n      // disconnected from the document.\n      return;\n    }\n\n    const rect = measure(node);\n    const rectDelta = getRectDelta(rect, initialRect);\n\n    if (!x) {\n      rectDelta.x = 0;\n    }\n\n    if (!y) {\n      rectDelta.y = 0;\n    }\n\n    // Only perform layout shift scroll compensation once\n    initialized.current = true;\n\n    if (Math.abs(rectDelta.x) > 0 || Math.abs(rectDelta.y) > 0) {\n      const firstScrollableAncestor = getFirstScrollableAncestor(node);\n\n      if (firstScrollableAncestor) {\n        firstScrollableAncestor.scrollBy({\n          top: rectDelta.y,\n          left: rectDelta.x,\n        });\n      }\n    }\n  }, [activeNode, x, y, initialRect, measure]);\n}\n","import React, {\n  memo,\n  createContext,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from 'react';\nimport {unstable_batchedUpdates} from 'react-dom';\nimport {\n  add,\n  getEventCoordinates,\n  getWindow,\n  useLatestValue,\n  useIsomorphicLayoutEffect,\n  useUniqueId,\n} from '@dnd-kit/utilities';\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {\n  Action,\n  PublicContext,\n  InternalContext,\n  PublicContextDescriptor,\n  InternalContextDescriptor,\n  getInitialState,\n  reducer,\n} from '../../store';\nimport {DndMonitorContext, useDndMonitorProvider} from '../DndMonitor';\nimport {\n  useAutoScroller,\n  useCachedNode,\n  useCombineActivators,\n  useDragOverlayMeasuring,\n  useDroppableMeasuring,\n  useInitialRect,\n  useRect,\n  useRectDelta,\n  useRects,\n  useScrollableAncestors,\n  useScrollOffsets,\n  useScrollOffsetsDelta,\n  useSensorSetup,\n  useWindowRect,\n} from '../../hooks/utilities';\nimport type {AutoScrollOptions, SyntheticListener} from '../../hooks/utilities';\nimport type {\n  Sensor,\n  SensorContext,\n  SensorDescriptor,\n  SensorActivatorFunction,\n  SensorInstance,\n} from '../../sensors';\nimport {\n  adjustScale,\n  CollisionDetection,\n  defaultCoordinates,\n  getAdjustedRect,\n  getFirstCollision,\n  rectIntersection,\n} from '../../utilities';\nimport {applyModifiers, Modifiers} from '../../modifiers';\nimport type {Active, Over} from '../../store/types';\nimport type {\n  DragStartEvent,\n  DragCancelEvent,\n  DragEndEvent,\n  DragMoveEvent,\n  DragOverEvent,\n  UniqueIdentifier,\n  DragPendingEvent,\n  DragAbortEvent,\n} from '../../types';\nimport {\n  Accessibility,\n  Announcements,\n  RestoreFocus,\n  ScreenReaderInstructions,\n} from '../Accessibility';\n\nimport {defaultData, defaultSensors} from './defaults';\nimport {\n  useLayoutShiftScrollCompensation,\n  useMeasuringConfiguration,\n} from './hooks';\nimport type {MeasuringConfiguration} from './types';\n\nexport interface Props {\n  id?: string;\n  accessibility?: {\n    announcements?: Announcements;\n    container?: Element;\n    restoreFocus?: boolean;\n    screenReaderInstructions?: ScreenReaderInstructions;\n  };\n  autoScroll?: boolean | AutoScrollOptions;\n  cancelDrop?: CancelDrop;\n  children?: React.ReactNode;\n  collisionDetection?: CollisionDetection;\n  measuring?: MeasuringConfiguration;\n  modifiers?: Modifiers;\n  sensors?: SensorDescriptor<any>[];\n  onDragAbort?(event: DragAbortEvent): void;\n  onDragPending?(event: DragPendingEvent): void;\n  onDragStart?(event: DragStartEvent): void;\n  onDragMove?(event: DragMoveEvent): void;\n  onDragOver?(event: DragOverEvent): void;\n  onDragEnd?(event: DragEndEvent): void;\n  onDragCancel?(event: DragCancelEvent): void;\n}\n\nexport interface CancelDropArguments extends DragEndEvent {}\n\nexport type CancelDrop = (\n  args: CancelDropArguments\n) => boolean | Promise<boolean>;\n\ninterface DndEvent extends Event {\n  dndKit?: {\n    capturedBy: Sensor<any>;\n  };\n}\n\nexport const ActiveDraggableContext = createContext<Transform>({\n  ...defaultCoordinates,\n  scaleX: 1,\n  scaleY: 1,\n});\n\nenum Status {\n  Uninitialized,\n  Initializing,\n  Initialized,\n}\n\nexport const DndContext = memo(function DndContext({\n  id,\n  accessibility,\n  autoScroll = true,\n  children,\n  sensors = defaultSensors,\n  collisionDetection = rectIntersection,\n  measuring,\n  modifiers,\n  ...props\n}: Props) {\n  const store = useReducer(reducer, undefined, getInitialState);\n  const [state, dispatch] = store;\n  const [dispatchMonitorEvent, registerMonitorListener] =\n    useDndMonitorProvider();\n  const [status, setStatus] = useState<Status>(Status.Uninitialized);\n  const isInitialized = status === Status.Initialized;\n  const {\n    draggable: {active: activeId, nodes: draggableNodes, translate},\n    droppable: {containers: droppableContainers},\n  } = state;\n  const node = activeId != null ? draggableNodes.get(activeId) : null;\n  const activeRects = useRef<Active['rect']['current']>({\n    initial: null,\n    translated: null,\n  });\n  const active = useMemo<Active | null>(\n    () =>\n      activeId != null\n        ? {\n            id: activeId,\n            // It's possible for the active node to unmount while dragging\n            data: node?.data ?? defaultData,\n            rect: activeRects,\n          }\n        : null,\n    [activeId, node]\n  );\n  const activeRef = useRef<UniqueIdentifier | null>(null);\n  const [activeSensor, setActiveSensor] = useState<SensorInstance | null>(null);\n  const [activatorEvent, setActivatorEvent] = useState<Event | null>(null);\n  const latestProps = useLatestValue(props, Object.values(props));\n  const draggableDescribedById = useUniqueId(`DndDescribedBy`, id);\n  const enabledDroppableContainers = useMemo(\n    () => droppableContainers.getEnabled(),\n    [droppableContainers]\n  );\n  const measuringConfiguration = useMeasuringConfiguration(measuring);\n  const {droppableRects, measureDroppableContainers, measuringScheduled} =\n    useDroppableMeasuring(enabledDroppableContainers, {\n      dragging: isInitialized,\n      dependencies: [translate.x, translate.y],\n      config: measuringConfiguration.droppable,\n    });\n  const activeNode = useCachedNode(draggableNodes, activeId);\n  const activationCoordinates = useMemo(\n    () => (activatorEvent ? getEventCoordinates(activatorEvent) : null),\n    [activatorEvent]\n  );\n  const autoScrollOptions = getAutoScrollerOptions();\n  const initialActiveNodeRect = useInitialRect(\n    activeNode,\n    measuringConfiguration.draggable.measure\n  );\n\n  useLayoutShiftScrollCompensation({\n    activeNode: activeId != null ? draggableNodes.get(activeId) : null,\n    config: autoScrollOptions.layoutShiftCompensation,\n    initialRect: initialActiveNodeRect,\n    measure: measuringConfiguration.draggable.measure,\n  });\n\n  const activeNodeRect = useRect(\n    activeNode,\n    measuringConfiguration.draggable.measure,\n    initialActiveNodeRect\n  );\n  const containerNodeRect = useRect(\n    activeNode ? activeNode.parentElement : null\n  );\n  const sensorContext = useRef<SensorContext>({\n    activatorEvent: null,\n    active: null,\n    activeNode,\n    collisionRect: null,\n    collisions: null,\n    droppableRects,\n    draggableNodes,\n    draggingNode: null,\n    draggingNodeRect: null,\n    droppableContainers,\n    over: null,\n    scrollableAncestors: [],\n    scrollAdjustedTranslate: null,\n  });\n  const overNode = droppableContainers.getNodeFor(\n    sensorContext.current.over?.id\n  );\n  const dragOverlay = useDragOverlayMeasuring({\n    measure: measuringConfiguration.dragOverlay.measure,\n  });\n\n  // Use the rect of the drag overlay if it is mounted\n  const draggingNode = dragOverlay.nodeRef.current ?? activeNode;\n  const draggingNodeRect = isInitialized\n    ? dragOverlay.rect ?? activeNodeRect\n    : null;\n  const usesDragOverlay = Boolean(\n    dragOverlay.nodeRef.current && dragOverlay.rect\n  );\n  // The delta between the previous and new position of the draggable node\n  // is only relevant when there is no drag overlay\n  const nodeRectDelta = useRectDelta(usesDragOverlay ? null : activeNodeRect);\n\n  // Get the window rect of the dragging node\n  const windowRect = useWindowRect(\n    draggingNode ? getWindow(draggingNode) : null\n  );\n\n  // Get scrollable ancestors of the dragging node\n  const scrollableAncestors = useScrollableAncestors(\n    isInitialized ? overNode ?? activeNode : null\n  );\n  const scrollableAncestorRects = useRects(scrollableAncestors);\n\n  // Apply modifiers\n  const modifiedTranslate = applyModifiers(modifiers, {\n    transform: {\n      x: translate.x - nodeRectDelta.x,\n      y: translate.y - nodeRectDelta.y,\n      scaleX: 1,\n      scaleY: 1,\n    },\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect,\n    over: sensorContext.current.over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect,\n  });\n\n  const pointerCoordinates = activationCoordinates\n    ? add(activationCoordinates, translate)\n    : null;\n\n  const scrollOffsets = useScrollOffsets(scrollableAncestors);\n  // Represents the scroll delta since dragging was initiated\n  const scrollAdjustment = useScrollOffsetsDelta(scrollOffsets);\n  // Represents the scroll delta since the last time the active node rect was measured\n  const activeNodeScrollDelta = useScrollOffsetsDelta(scrollOffsets, [\n    activeNodeRect,\n  ]);\n\n  const scrollAdjustedTranslate = add(modifiedTranslate, scrollAdjustment);\n\n  const collisionRect = draggingNodeRect\n    ? getAdjustedRect(draggingNodeRect, modifiedTranslate)\n    : null;\n\n  const collisions =\n    active && collisionRect\n      ? collisionDetection({\n          active,\n          collisionRect,\n          droppableRects,\n          droppableContainers: enabledDroppableContainers,\n          pointerCoordinates,\n        })\n      : null;\n  const overId = getFirstCollision(collisions, 'id');\n  const [over, setOver] = useState<Over | null>(null);\n\n  // When there is no drag overlay used, we need to account for the\n  // window scroll delta\n  const appliedTranslate = usesDragOverlay\n    ? modifiedTranslate\n    : add(modifiedTranslate, activeNodeScrollDelta);\n\n  const transform = adjustScale(\n    appliedTranslate,\n    over?.rect ?? null,\n    activeNodeRect\n  );\n\n  const activeSensorRef = useRef<SensorInstance | null>(null);\n  const instantiateSensor = useCallback(\n    (\n      event: React.SyntheticEvent,\n      {sensor: Sensor, options}: SensorDescriptor<any>\n    ) => {\n      if (activeRef.current == null) {\n        return;\n      }\n\n      const activeNode = draggableNodes.get(activeRef.current);\n\n      if (!activeNode) {\n        return;\n      }\n\n      const activatorEvent = event.nativeEvent;\n\n      const sensorInstance = new Sensor({\n        active: activeRef.current,\n        activeNode,\n        event: activatorEvent,\n        options,\n        // Sensors need to be instantiated with refs for arguments that change over time\n        // otherwise they are frozen in time with the stale arguments\n        context: sensorContext,\n        onAbort(id) {\n          const draggableNode = draggableNodes.get(id);\n\n          if (!draggableNode) {\n            return;\n          }\n\n          const {onDragAbort} = latestProps.current;\n          const event: DragAbortEvent = {id};\n          onDragAbort?.(event);\n          dispatchMonitorEvent({type: 'onDragAbort', event});\n        },\n        onPending(id, constraint, initialCoordinates, offset) {\n          const draggableNode = draggableNodes.get(id);\n\n          if (!draggableNode) {\n            return;\n          }\n\n          const {onDragPending} = latestProps.current;\n          const event: DragPendingEvent = {\n            id,\n            constraint,\n            initialCoordinates,\n            offset,\n          };\n\n          onDragPending?.(event);\n          dispatchMonitorEvent({type: 'onDragPending', event});\n        },\n        onStart(initialCoordinates) {\n          const id = activeRef.current;\n\n          if (id == null) {\n            return;\n          }\n\n          const draggableNode = draggableNodes.get(id);\n\n          if (!draggableNode) {\n            return;\n          }\n\n          const {onDragStart} = latestProps.current;\n          const event: DragStartEvent = {\n            activatorEvent,\n            active: {id, data: draggableNode.data, rect: activeRects},\n          };\n\n          unstable_batchedUpdates(() => {\n            onDragStart?.(event);\n            setStatus(Status.Initializing);\n            dispatch({\n              type: Action.DragStart,\n              initialCoordinates,\n              active: id,\n            });\n            dispatchMonitorEvent({type: 'onDragStart', event});\n            setActiveSensor(activeSensorRef.current);\n            setActivatorEvent(activatorEvent);\n          });\n        },\n        onMove(coordinates) {\n          dispatch({\n            type: Action.DragMove,\n            coordinates,\n          });\n        },\n        onEnd: createHandler(Action.DragEnd),\n        onCancel: createHandler(Action.DragCancel),\n      });\n\n      activeSensorRef.current = sensorInstance;\n\n      function createHandler(type: Action.DragEnd | Action.DragCancel) {\n        return async function handler() {\n          const {active, collisions, over, scrollAdjustedTranslate} =\n            sensorContext.current;\n          let event: DragEndEvent | null = null;\n\n          if (active && scrollAdjustedTranslate) {\n            const {cancelDrop} = latestProps.current;\n\n            event = {\n              activatorEvent,\n              active: active,\n              collisions,\n              delta: scrollAdjustedTranslate,\n              over,\n            };\n\n            if (type === Action.DragEnd && typeof cancelDrop === 'function') {\n              const shouldCancel = await Promise.resolve(cancelDrop(event));\n\n              if (shouldCancel) {\n                type = Action.DragCancel;\n              }\n            }\n          }\n\n          activeRef.current = null;\n\n          unstable_batchedUpdates(() => {\n            dispatch({type});\n            setStatus(Status.Uninitialized);\n            setOver(null);\n            setActiveSensor(null);\n            setActivatorEvent(null);\n            activeSensorRef.current = null;\n\n            const eventName =\n              type === Action.DragEnd ? 'onDragEnd' : 'onDragCancel';\n\n            if (event) {\n              const handler = latestProps.current[eventName];\n\n              handler?.(event);\n              dispatchMonitorEvent({type: eventName, event});\n            }\n          });\n        };\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [draggableNodes]\n  );\n\n  const bindActivatorToSensorInstantiator = useCallback(\n    (\n      handler: SensorActivatorFunction<any>,\n      sensor: SensorDescriptor<any>\n    ): SyntheticListener['handler'] => {\n      return (event, active) => {\n        const nativeEvent = event.nativeEvent as DndEvent;\n        const activeDraggableNode = draggableNodes.get(active);\n\n        if (\n          // Another sensor is already instantiating\n          activeRef.current !== null ||\n          // No active draggable\n          !activeDraggableNode ||\n          // Event has already been captured\n          nativeEvent.dndKit ||\n          nativeEvent.defaultPrevented\n        ) {\n          return;\n        }\n\n        const activationContext = {\n          active: activeDraggableNode,\n        };\n        const shouldActivate = handler(\n          event,\n          sensor.options,\n          activationContext\n        );\n\n        if (shouldActivate === true) {\n          nativeEvent.dndKit = {\n            capturedBy: sensor.sensor,\n          };\n\n          activeRef.current = active;\n          instantiateSensor(event, sensor);\n        }\n      };\n    },\n    [draggableNodes, instantiateSensor]\n  );\n\n  const activators = useCombineActivators(\n    sensors,\n    bindActivatorToSensorInstantiator\n  );\n\n  useSensorSetup(sensors);\n\n  useIsomorphicLayoutEffect(() => {\n    if (activeNodeRect && status === Status.Initializing) {\n      setStatus(Status.Initialized);\n    }\n  }, [activeNodeRect, status]);\n\n  useEffect(\n    () => {\n      const {onDragMove} = latestProps.current;\n      const {active, activatorEvent, collisions, over} = sensorContext.current;\n\n      if (!active || !activatorEvent) {\n        return;\n      }\n\n      const event: DragMoveEvent = {\n        active,\n        activatorEvent,\n        collisions,\n        delta: {\n          x: scrollAdjustedTranslate.x,\n          y: scrollAdjustedTranslate.y,\n        },\n        over,\n      };\n\n      unstable_batchedUpdates(() => {\n        onDragMove?.(event);\n        dispatchMonitorEvent({type: 'onDragMove', event});\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [scrollAdjustedTranslate.x, scrollAdjustedTranslate.y]\n  );\n\n  useEffect(\n    () => {\n      const {\n        active,\n        activatorEvent,\n        collisions,\n        droppableContainers,\n        scrollAdjustedTranslate,\n      } = sensorContext.current;\n\n      if (\n        !active ||\n        activeRef.current == null ||\n        !activatorEvent ||\n        !scrollAdjustedTranslate\n      ) {\n        return;\n      }\n\n      const {onDragOver} = latestProps.current;\n      const overContainer = droppableContainers.get(overId);\n      const over =\n        overContainer && overContainer.rect.current\n          ? {\n              id: overContainer.id,\n              rect: overContainer.rect.current,\n              data: overContainer.data,\n              disabled: overContainer.disabled,\n            }\n          : null;\n      const event: DragOverEvent = {\n        active,\n        activatorEvent,\n        collisions,\n        delta: {\n          x: scrollAdjustedTranslate.x,\n          y: scrollAdjustedTranslate.y,\n        },\n        over,\n      };\n\n      unstable_batchedUpdates(() => {\n        setOver(over);\n        onDragOver?.(event);\n        dispatchMonitorEvent({type: 'onDragOver', event});\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [overId]\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    sensorContext.current = {\n      activatorEvent,\n      active,\n      activeNode,\n      collisionRect,\n      collisions,\n      droppableRects,\n      draggableNodes,\n      draggingNode,\n      draggingNodeRect,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n      scrollAdjustedTranslate,\n    };\n\n    activeRects.current = {\n      initial: draggingNodeRect,\n      translated: collisionRect,\n    };\n  }, [\n    active,\n    activeNode,\n    collisions,\n    collisionRect,\n    draggableNodes,\n    draggingNode,\n    draggingNodeRect,\n    droppableRects,\n    droppableContainers,\n    over,\n    scrollableAncestors,\n    scrollAdjustedTranslate,\n  ]);\n\n  useAutoScroller({\n    ...autoScrollOptions,\n    delta: translate,\n    draggingRect: collisionRect,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects,\n  });\n\n  const publicContext = useMemo(() => {\n    const context: PublicContextDescriptor = {\n      active,\n      activeNode,\n      activeNodeRect,\n      activatorEvent,\n      collisions,\n      containerNodeRect,\n      dragOverlay,\n      draggableNodes,\n      droppableContainers,\n      droppableRects,\n      over,\n      measureDroppableContainers,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      measuringConfiguration,\n      measuringScheduled,\n      windowRect,\n    };\n\n    return context;\n  }, [\n    active,\n    activeNode,\n    activeNodeRect,\n    activatorEvent,\n    collisions,\n    containerNodeRect,\n    dragOverlay,\n    draggableNodes,\n    droppableContainers,\n    droppableRects,\n    over,\n    measureDroppableContainers,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    measuringConfiguration,\n    measuringScheduled,\n    windowRect,\n  ]);\n\n  const internalContext = useMemo(() => {\n    const context: InternalContextDescriptor = {\n      activatorEvent,\n      activators,\n      active,\n      activeNodeRect,\n      ariaDescribedById: {\n        draggable: draggableDescribedById,\n      },\n      dispatch,\n      draggableNodes,\n      over,\n      measureDroppableContainers,\n    };\n\n    return context;\n  }, [\n    activatorEvent,\n    activators,\n    active,\n    activeNodeRect,\n    dispatch,\n    draggableDescribedById,\n    draggableNodes,\n    over,\n    measureDroppableContainers,\n  ]);\n\n  return (\n    <DndMonitorContext.Provider value={registerMonitorListener}>\n      <InternalContext.Provider value={internalContext}>\n        <PublicContext.Provider value={publicContext}>\n          <ActiveDraggableContext.Provider value={transform}>\n            {children}\n          </ActiveDraggableContext.Provider>\n        </PublicContext.Provider>\n        <RestoreFocus disabled={accessibility?.restoreFocus === false} />\n      </InternalContext.Provider>\n      <Accessibility\n        {...accessibility}\n        hiddenTextDescribedById={draggableDescribedById}\n      />\n    </DndMonitorContext.Provider>\n  );\n\n  function getAutoScrollerOptions() {\n    const activeSensorDisablesAutoscroll =\n      activeSensor?.autoScrollEnabled === false;\n    const autoScrollGloballyDisabled =\n      typeof autoScroll === 'object'\n        ? autoScroll.enabled === false\n        : autoScroll === false;\n    const enabled =\n      isInitialized &&\n      !activeSensorDisablesAutoscroll &&\n      !autoScrollGloballyDisabled;\n\n    if (typeof autoScroll === 'object') {\n      return {\n        ...autoScroll,\n        enabled,\n      };\n    }\n\n    return {enabled};\n  }\n});\n","import {createContext, useContext, useMemo} from 'react';\nimport {\n  Transform,\n  useNodeRef,\n  useIsomorphicLayoutEffect,\n  useLatestValue,\n  useUniqueId,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext, Data} from '../store';\nimport type {UniqueIdentifier} from '../types';\nimport {ActiveDraggableContext} from '../components/DndContext';\nimport {useSyntheticListeners, SyntheticListenerMap} from './utilities';\n\nexport interface UseDraggableArguments {\n  id: UniqueIdentifier;\n  data?: Data;\n  disabled?: boolean;\n  attributes?: {\n    role?: string;\n    roleDescription?: string;\n    tabIndex?: number;\n  };\n}\n\nexport interface DraggableAttributes {\n  role: string;\n  tabIndex: number;\n  'aria-disabled': boolean;\n  'aria-pressed': boolean | undefined;\n  'aria-roledescription': string;\n  'aria-describedby': string;\n}\n\nexport type DraggableSyntheticListeners = SyntheticListenerMap | undefined;\n\nconst NullContext = createContext<any>(null);\n\nconst defaultRole = 'button';\n\nconst ID_PREFIX = 'Draggable';\n\nexport function useDraggable({\n  id,\n  data,\n  disabled = false,\n  attributes,\n}: UseDraggableArguments) {\n  const key = useUniqueId(ID_PREFIX);\n  const {\n    activators,\n    activatorEvent,\n    active,\n    activeNodeRect,\n    ariaDescribedById,\n    draggableNodes,\n    over,\n  } = useContext(InternalContext);\n  const {\n    role = defaultRole,\n    roleDescription = 'draggable',\n    tabIndex = 0,\n  } = attributes ?? {};\n  const isDragging = active?.id === id;\n  const transform: Transform | null = useContext(\n    isDragging ? ActiveDraggableContext : NullContext\n  );\n  const [node, setNodeRef] = useNodeRef();\n  const [activatorNode, setActivatorNodeRef] = useNodeRef();\n  const listeners = useSyntheticListeners(activators, id);\n  const dataRef = useLatestValue(data);\n\n  useIsomorphicLayoutEffect(\n    () => {\n      draggableNodes.set(id, {id, key, node, activatorNode, data: dataRef});\n\n      return () => {\n        const node = draggableNodes.get(id);\n\n        if (node && node.key === key) {\n          draggableNodes.delete(id);\n        }\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [draggableNodes, id]\n  );\n\n  const memoizedAttributes: DraggableAttributes = useMemo(\n    () => ({\n      role,\n      tabIndex,\n      'aria-disabled': disabled,\n      'aria-pressed': isDragging && role === defaultRole ? true : undefined,\n      'aria-roledescription': roleDescription,\n      'aria-describedby': ariaDescribedById.draggable,\n    }),\n    [\n      disabled,\n      role,\n      tabIndex,\n      isDragging,\n      roleDescription,\n      ariaDescribedById.draggable,\n    ]\n  );\n\n  return {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes: memoizedAttributes,\n    isDragging,\n    listeners: disabled ? undefined : listeners,\n    node,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    transform,\n  };\n}\n","import {ContextType, useContext} from 'react';\nimport {PublicContext} from '../store';\n\nexport function useDndContext() {\n  return useContext(PublicContext);\n}\n\nexport type UseDndContextReturnValue = ContextType<typeof PublicContext>;\n","import {useCallback, useContext, useEffect, useRef} from 'react';\nimport {useLatestValue, useNodeRef, useUniqueId} from '@dnd-kit/utilities';\n\nimport {InternalContext, Action, Data} from '../store';\nimport type {ClientRect, UniqueIdentifier} from '../types';\n\nimport {useResizeObserver} from './utilities';\n\ninterface ResizeObserverConfig {\n  /** Whether the ResizeObserver should be disabled entirely */\n  disabled?: boolean;\n  /** Resize events may affect the layout and position of other droppable containers.\n   * Specify an array of `UniqueIdentifier` of droppable containers that should also be re-measured\n   * when this droppable container resizes. Specifying an empty array re-measures all droppable containers.\n   */\n  updateMeasurementsFor?: UniqueIdentifier[];\n  /** Represents the debounce timeout between when resize events are observed and when elements are re-measured */\n  timeout?: number;\n}\n\nexport interface UseDroppableArguments {\n  id: UniqueIdentifier;\n  disabled?: boolean;\n  data?: Data;\n  resizeObserverConfig?: ResizeObserverConfig;\n}\n\nconst ID_PREFIX = 'Droppable';\n\nconst defaultResizeObserverConfig = {\n  timeout: 25,\n};\n\nexport function useDroppable({\n  data,\n  disabled = false,\n  id,\n  resizeObserverConfig,\n}: UseDroppableArguments) {\n  const key = useUniqueId(ID_PREFIX);\n  const {active, dispatch, over, measureDroppableContainers} =\n    useContext(InternalContext);\n  const previous = useRef({disabled});\n  const resizeObserverConnected = useRef(false);\n  const rect = useRef<ClientRect | null>(null);\n  const callbackId = useRef<NodeJS.Timeout | null>(null);\n  const {\n    disabled: resizeObserverDisabled,\n    updateMeasurementsFor,\n    timeout: resizeObserverTimeout,\n  } = {\n    ...defaultResizeObserverConfig,\n    ...resizeObserverConfig,\n  };\n  const ids = useLatestValue(updateMeasurementsFor ?? id);\n  const handleResize = useCallback(\n    () => {\n      if (!resizeObserverConnected.current) {\n        // ResizeObserver invokes the `handleResize` callback as soon as `observe` is called,\n        // assuming the element is rendered and displayed.\n        resizeObserverConnected.current = true;\n        return;\n      }\n\n      if (callbackId.current != null) {\n        clearTimeout(callbackId.current);\n      }\n\n      callbackId.current = setTimeout(() => {\n        measureDroppableContainers(\n          Array.isArray(ids.current) ? ids.current : [ids.current]\n        );\n        callbackId.current = null;\n      }, resizeObserverTimeout);\n    },\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n    [resizeObserverTimeout]\n  );\n  const resizeObserver = useResizeObserver({\n    callback: handleResize,\n    disabled: resizeObserverDisabled || !active,\n  });\n  const handleNodeChange = useCallback(\n    (newElement: HTMLElement | null, previousElement: HTMLElement | null) => {\n      if (!resizeObserver) {\n        return;\n      }\n\n      if (previousElement) {\n        resizeObserver.unobserve(previousElement);\n        resizeObserverConnected.current = false;\n      }\n\n      if (newElement) {\n        resizeObserver.observe(newElement);\n      }\n    },\n    [resizeObserver]\n  );\n  const [nodeRef, setNodeRef] = useNodeRef(handleNodeChange);\n  const dataRef = useLatestValue(data);\n\n  useEffect(() => {\n    if (!resizeObserver || !nodeRef.current) {\n      return;\n    }\n\n    resizeObserver.disconnect();\n    resizeObserverConnected.current = false;\n    resizeObserver.observe(nodeRef.current);\n  }, [nodeRef, resizeObserver]);\n\n  useEffect(\n    () => {\n      dispatch({\n        type: Action.RegisterDroppable,\n        element: {\n          id,\n          key,\n          disabled,\n          node: nodeRef,\n          rect,\n          data: dataRef,\n        },\n      });\n\n      return () =>\n        dispatch({\n          type: Action.UnregisterDroppable,\n          key,\n          id,\n        });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  useEffect(() => {\n    if (disabled !== previous.current.disabled) {\n      dispatch({\n        type: Action.SetDroppableDisabled,\n        id,\n        key,\n        disabled,\n      });\n\n      previous.current.disabled = disabled;\n    }\n  }, [id, key, disabled, dispatch]);\n\n  return {\n    active,\n    rect,\n    isOver: over?.id === id,\n    node: nodeRef,\n    over,\n    setNodeRef,\n  };\n}\n","import React, {cloneElement, useState} from 'react';\nimport {useIsomorphicLayoutEffect, usePrevious} from '@dnd-kit/utilities';\n\nimport type {UniqueIdentifier} from '../../../../types';\n\nexport type Animation = (\n  key: UniqueIdentifier,\n  node: HTMLElement\n) => Promise<void> | void;\n\nexport interface Props {\n  animation: Animation;\n  children: React.ReactElement | null;\n}\n\nexport function AnimationManager({animation, children}: Props) {\n  const [\n    clonedChildren,\n    setClonedChildren,\n  ] = useState<React.ReactElement | null>(null);\n  const [element, setElement] = useState<HTMLElement | null>(null);\n  const previousChildren = usePrevious(children);\n\n  if (!children && !clonedChildren && previousChildren) {\n    setClonedChildren(previousChildren);\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const key = clonedChildren?.key;\n    const id = clonedChildren?.props.id;\n\n    if (key == null || id == null) {\n      setClonedChildren(null);\n      return;\n    }\n\n    Promise.resolve(animation(id, element)).then(() => {\n      setClonedChildren(null);\n    });\n  }, [animation, clonedChildren, element]);\n\n  return (\n    <>\n      {children}\n      {clonedChildren ? cloneElement(clonedChildren, {ref: setElement}) : null}\n    </>\n  );\n}\n","import React from 'react';\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {InternalContext, defaultInternalContext} from '../../../../store';\nimport {ActiveDraggableContext} from '../../../DndContext';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nconst defaultTransform: Transform = {\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport function NullifiedContextProvider({children}: Props) {\n  return (\n    <InternalContext.Provider value={defaultInternalContext}>\n      <ActiveDraggableContext.Provider value={defaultTransform}>\n        {children}\n      </ActiveDraggableContext.Provider>\n    </InternalContext.Provider>\n  );\n}\n","import React, {forwardRef} from 'react';\nimport {CSS, isKeyboardEvent} from '@dnd-kit/utilities';\n\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {getRelativeTransformOrigin} from '../../../../utilities';\nimport type {ClientRect, UniqueIdentifier} from '../../../../types';\n\ntype TransitionGetter = (\n  activatorEvent: Event | null\n) => React.CSSProperties['transition'] | undefined;\n\nexport interface Props {\n  as: keyof JSX.IntrinsicElements;\n  activatorEvent: Event | null;\n  adjustScale?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  id: UniqueIdentifier;\n  rect: ClientRect | null;\n  style?: React.CSSProperties;\n  transition?: string | TransitionGetter;\n  transform: Transform;\n}\n\nconst baseStyles: React.CSSProperties = {\n  position: 'fixed',\n  touchAction: 'none',\n};\n\nconst defaultTransition: TransitionGetter = (activatorEvent) => {\n  const isKeyboardActivator = isKeyboardEvent(activatorEvent);\n\n  return isKeyboardActivator ? 'transform 250ms ease' : undefined;\n};\n\nexport const PositionedOverlay = forwardRef<HTMLElement, Props>(\n  (\n    {\n      as,\n      activatorEvent,\n      adjustScale,\n      children,\n      className,\n      rect,\n      style,\n      transform,\n      transition = defaultTransition,\n    },\n    ref\n  ) => {\n    if (!rect) {\n      return null;\n    }\n\n    const scaleAdjustedTransform = adjustScale\n      ? transform\n      : {\n          ...transform,\n          scaleX: 1,\n          scaleY: 1,\n        };\n    const styles: React.CSSProperties | undefined = {\n      ...baseStyles,\n      width: rect.width,\n      height: rect.height,\n      top: rect.top,\n      left: rect.left,\n      transform: CSS.Transform.toString(scaleAdjustedTransform),\n      transformOrigin:\n        adjustScale && activatorEvent\n          ? getRelativeTransformOrigin(\n              activatorEvent as MouseEvent | KeyboardEvent | TouchEvent,\n              rect\n            )\n          : undefined,\n      transition:\n        typeof transition === 'function'\n          ? transition(activatorEvent)\n          : transition,\n      ...style,\n    };\n\n    return React.createElement(\n      as,\n      {\n        className,\n        style: styles,\n        ref,\n      },\n      children\n    );\n  }\n);\n","import {CSS, useEvent, getWindow} from '@dnd-kit/utilities';\nimport type {DeepRequired, Transform} from '@dnd-kit/utilities';\n\nimport type {\n  Active,\n  DraggableNode,\n  DraggableNodes,\n  DroppableContainers,\n} from '../../../store';\nimport type {ClientRect, UniqueIdentifier} from '../../../types';\nimport {getMeasurableNode} from '../../../utilities/nodes';\nimport {scrollIntoViewIfNeeded} from '../../../utilities/scroll';\nimport {parseTransform} from '../../../utilities/transform';\nimport type {MeasuringConfiguration} from '../../DndContext';\nimport type {Animation} from '../components';\n\ninterface SharedParameters {\n  active: {\n    id: UniqueIdentifier;\n    data: Active['data'];\n    node: HTMLElement;\n    rect: ClientRect;\n  };\n  dragOverlay: {\n    node: HTMLElement;\n    rect: ClientRect;\n  };\n  draggableNodes: DraggableNodes;\n  droppableContainers: DroppableContainers;\n  measuringConfiguration: DeepRequired<MeasuringConfiguration>;\n}\n\nexport interface KeyframeResolverParameters extends SharedParameters {\n  transform: {\n    initial: Transform;\n    final: Transform;\n  };\n}\n\nexport type KeyframeResolver = (\n  parameters: KeyframeResolverParameters\n) => Keyframe[];\n\nexport interface DropAnimationOptions {\n  keyframes?: KeyframeResolver;\n  duration?: number;\n  easing?: string;\n  sideEffects?: DropAnimationSideEffects | null;\n}\n\nexport type DropAnimation = DropAnimationFunction | DropAnimationOptions;\n\ninterface Arguments {\n  draggableNodes: DraggableNodes;\n  droppableContainers: DroppableContainers;\n  measuringConfiguration: DeepRequired<MeasuringConfiguration>;\n  config?: DropAnimation | null;\n}\n\nexport interface DropAnimationFunctionArguments extends SharedParameters {\n  transform: Transform;\n}\n\nexport type DropAnimationFunction = (\n  args: DropAnimationFunctionArguments\n) => Promise<void> | void;\n\ntype CleanupFunction = () => void;\n\nexport interface DropAnimationSideEffectsParameters extends SharedParameters {}\n\nexport type DropAnimationSideEffects = (\n  parameters: DropAnimationSideEffectsParameters\n) => CleanupFunction | void;\n\ntype ExtractStringProperties<T> = {\n  [K in keyof T]?: T[K] extends string ? string : never;\n};\n\ntype Styles = ExtractStringProperties<CSSStyleDeclaration>;\n\ninterface DefaultDropAnimationSideEffectsOptions {\n  className?: {\n    active?: string;\n    dragOverlay?: string;\n  };\n  styles?: {\n    active?: Styles;\n    dragOverlay?: Styles;\n  };\n}\n\nexport const defaultDropAnimationSideEffects = (\n  options: DefaultDropAnimationSideEffectsOptions\n): DropAnimationSideEffects => ({active, dragOverlay}) => {\n  const originalStyles: Record<string, string> = {};\n  const {styles, className} = options;\n\n  if (styles?.active) {\n    for (const [key, value] of Object.entries(styles.active)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      originalStyles[key] = active.node.style.getPropertyValue(key);\n      active.node.style.setProperty(key, value);\n    }\n  }\n\n  if (styles?.dragOverlay) {\n    for (const [key, value] of Object.entries(styles.dragOverlay)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      dragOverlay.node.style.setProperty(key, value);\n    }\n  }\n\n  if (className?.active) {\n    active.node.classList.add(className.active);\n  }\n\n  if (className?.dragOverlay) {\n    dragOverlay.node.classList.add(className.dragOverlay);\n  }\n\n  return function cleanup() {\n    for (const [key, value] of Object.entries(originalStyles)) {\n      active.node.style.setProperty(key, value);\n    }\n\n    if (className?.active) {\n      active.node.classList.remove(className.active);\n    }\n  };\n};\n\nconst defaultKeyframeResolver: KeyframeResolver = ({\n  transform: {initial, final},\n}) => [\n  {\n    transform: CSS.Transform.toString(initial),\n  },\n  {\n    transform: CSS.Transform.toString(final),\n  },\n];\n\nexport const defaultDropAnimationConfiguration: Required<DropAnimationOptions> = {\n  duration: 250,\n  easing: 'ease',\n  keyframes: defaultKeyframeResolver,\n  sideEffects: defaultDropAnimationSideEffects({\n    styles: {\n      active: {\n        opacity: '0',\n      },\n    },\n  }),\n};\n\nexport function useDropAnimation({\n  config,\n  draggableNodes,\n  droppableContainers,\n  measuringConfiguration,\n}: Arguments) {\n  return useEvent<Animation>((id, node) => {\n    if (config === null) {\n      return;\n    }\n\n    const activeDraggable: DraggableNode | undefined = draggableNodes.get(id);\n\n    if (!activeDraggable) {\n      return;\n    }\n\n    const activeNode = activeDraggable.node.current;\n\n    if (!activeNode) {\n      return;\n    }\n\n    const measurableNode = getMeasurableNode(node);\n\n    if (!measurableNode) {\n      return;\n    }\n    const {transform} = getWindow(node).getComputedStyle(node);\n    const parsedTransform = parseTransform(transform);\n\n    if (!parsedTransform) {\n      return;\n    }\n\n    const animation: DropAnimationFunction =\n      typeof config === 'function'\n        ? config\n        : createDefaultDropAnimation(config);\n\n    scrollIntoViewIfNeeded(\n      activeNode,\n      measuringConfiguration.draggable.measure\n    );\n\n    return animation({\n      active: {\n        id,\n        data: activeDraggable.data,\n        node: activeNode,\n        rect: measuringConfiguration.draggable.measure(activeNode),\n      },\n      draggableNodes,\n      dragOverlay: {\n        node,\n        rect: measuringConfiguration.dragOverlay.measure(measurableNode),\n      },\n      droppableContainers,\n      measuringConfiguration,\n      transform: parsedTransform,\n    });\n  });\n}\n\nfunction createDefaultDropAnimation(\n  options: DropAnimationOptions | undefined\n): DropAnimationFunction {\n  const {duration, easing, sideEffects, keyframes} = {\n    ...defaultDropAnimationConfiguration,\n    ...options,\n  };\n\n  return ({active, dragOverlay, transform, ...rest}) => {\n    if (!duration) {\n      // Do not animate if animation duration is zero.\n      return;\n    }\n\n    const delta = {\n      x: dragOverlay.rect.left - active.rect.left,\n      y: dragOverlay.rect.top - active.rect.top,\n    };\n\n    const scale = {\n      scaleX:\n        transform.scaleX !== 1\n          ? (active.rect.width * transform.scaleX) / dragOverlay.rect.width\n          : 1,\n      scaleY:\n        transform.scaleY !== 1\n          ? (active.rect.height * transform.scaleY) / dragOverlay.rect.height\n          : 1,\n    };\n    const finalTransform = {\n      x: transform.x - delta.x,\n      y: transform.y - delta.y,\n      ...scale,\n    };\n\n    const animationKeyframes = keyframes({\n      ...rest,\n      active,\n      dragOverlay,\n      transform: {initial: transform, final: finalTransform},\n    });\n\n    const [firstKeyframe] = animationKeyframes;\n    const lastKeyframe = animationKeyframes[animationKeyframes.length - 1];\n\n    if (JSON.stringify(firstKeyframe) === JSON.stringify(lastKeyframe)) {\n      // The start and end keyframes are the same, infer that there is no animation needed.\n      return;\n    }\n\n    const cleanup = sideEffects?.({active, dragOverlay, ...rest});\n    const animation = dragOverlay.node.animate(animationKeyframes, {\n      duration,\n      easing,\n      fill: 'forwards',\n    });\n\n    return new Promise((resolve) => {\n      animation.onfinish = () => {\n        cleanup?.();\n        resolve();\n      };\n    });\n  };\n}\n","import {useMemo} from 'react';\n\nimport type {UniqueIdentifier} from '../../../types';\n\nlet key = 0;\n\nexport function useKey(id: UniqueIdentifier | undefined) {\n  return useMemo(() => {\n    if (id == null) {\n      return;\n    }\n\n    key++;\n    return key;\n  }, [id]);\n}\n","import React, {useContext} from 'react';\n\nimport {applyModifiers, Modifiers} from '../../modifiers';\nimport {ActiveDraggableContext} from '../DndContext';\nimport {useDndContext} from '../../hooks';\nimport {useInitialValue} from '../../hooks/utilities';\n\nimport {\n  AnimationManager,\n  NullifiedContextProvider,\n  PositionedOverlay,\n} from './components';\nimport type {PositionedOverlayProps} from './components';\n\nimport {useDropAnimation, useKey} from './hooks';\nimport type {DropAnimation} from './hooks';\n\nexport interface Props\n  extends Pick<\n    PositionedOverlayProps,\n    'adjustScale' | 'children' | 'className' | 'style' | 'transition'\n  > {\n  dropAnimation?: DropAnimation | null | undefined;\n  modifiers?: Modifiers;\n  wrapperElement?: keyof JSX.IntrinsicElements;\n  zIndex?: number;\n}\n\nexport const DragOverlay = React.memo(\n  ({\n    adjustScale = false,\n    children,\n    dropAnimation: dropAnimationConfig,\n    style,\n    transition,\n    modifiers,\n    wrapperElement = 'div',\n    className,\n    zIndex = 999,\n  }: Props) => {\n    const {\n      activatorEvent,\n      active,\n      activeNodeRect,\n      containerNodeRect,\n      draggableNodes,\n      droppableContainers,\n      dragOverlay,\n      over,\n      measuringConfiguration,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      windowRect,\n    } = useDndContext();\n    const transform = useContext(ActiveDraggableContext);\n    const key = useKey(active?.id);\n    const modifiedTransform = applyModifiers(modifiers, {\n      activatorEvent,\n      active,\n      activeNodeRect,\n      containerNodeRect,\n      draggingNodeRect: dragOverlay.rect,\n      over,\n      overlayNodeRect: dragOverlay.rect,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      transform,\n      windowRect,\n    });\n    const initialRect = useInitialValue(activeNodeRect);\n    const dropAnimation = useDropAnimation({\n      config: dropAnimationConfig,\n      draggableNodes,\n      droppableContainers,\n      measuringConfiguration,\n    });\n    // We need to wait for the active node to be measured before connecting the drag overlay ref\n    // otherwise collisions can be computed against a mispositioned drag overlay\n    const ref = initialRect ? dragOverlay.setRef : undefined;\n\n    return (\n      <NullifiedContextProvider>\n        <AnimationManager animation={dropAnimation}>\n          {active && key ? (\n            <PositionedOverlay\n              key={key}\n              id={active.id}\n              ref={ref}\n              as={wrapperElement}\n              activatorEvent={activatorEvent}\n              adjustScale={adjustScale}\n              className={className}\n              transition={transition}\n              rect={initialRect}\n              style={{\n                zIndex,\n                ...style,\n              }}\n              transform={modifiedTransform}\n            >\n              {children}\n            </PositionedOverlay>\n          ) : null}\n        </AnimationManager>\n      </NullifiedContextProvider>\n    );\n  }\n);\n"],"names":["hiddenStyles","useCombinedRefs","display","refs","DndMonitorContext","HiddenText","createContext","array","from","to","ref","node","newArray","length","splice","id","Error","value","canUseDOM","unsubscribe","registerListener","window","listener","document","createElement","element","slice","prototype","toString","call","elementString","announcement","useDndMonitorProvider","ariaLiveType","useState","Set","useCallback","isNode","add","listeners","items","rects","position","reduce","accumulator","index","dispatch","rect","get","left","getWindow","target","forEach","Array","type","event","whiteSpace","React","style","defaultScreenReaderInstructions","visuallyHidden","a","b","role","ownerDocument","defaultView","onDragStart","isDocument","Document","useAnnouncement","setAnnouncement","i","announce","HTMLElement","active","over","disabled","isSVGElement","onDragEnd","getOwnerDocument","defaultScale","scaleX","scaleY","horizontalListSortingStrategy","fallbackActiveRect","activeNodeRect","Accessibility","defaultAnnouncements","hiddenTextDescribedById","itemGap","getItemGap","activeIndex","useIsomorphicLayoutEffect","newIndexRect","overIndex","useLayoutEffect","useEffect","handler","handlerRef","mounted","current","x","width","y","args","useMemo","announcements","intervalRef","useRef","duration","setInterval","onDragMove","clear","useLatestValue","dependencies","valueRef","previousRect","currentRect","nextRect","callback","newValue","onChange","useEvent","newRects","onChangeHandler","newRect","setNodeRef","usePrevious","oldRect","height","markup","draggable","rectSwappingStrategy","liveRegionId","useUniqueId","prefix","container","Action","ids","createAdjustmentFn","object","adjustments","noop","Object","adjustment","useSensor","sensor","options","entries","key","top","modifier","valueAdjustment","useSensors","sensors","filter","freeze","hasViewportRelativeCoordinates","distanceBetween","p1","p2","Math","sqrt","pow","getRelativeTransformOrigin","getEventCoordinates","KeyboardEvent","eventCoordinates","overIndexRect","isTouchEvent","TouchEvent","sortCollisionsAsc","clientX","clientY","changedTouches","data","clientRects","CSS","Translate","transform","Context","ID_PREFIX","round","sortedRects","rectSortingStrategy","droppable","SortableContext","collisions","property","children","userDefinedItems","strategy","disabledProp","firstCollision","Transform","droppableRects","measureDroppableContainers","centerOfRectangle","containerId","Scale","join","useDragOverlay","dragOverlay","map","item","indexOf","previousItemsRef","itemsEqual","itemsHaveChanged","normalizeDisabled","isDragging","easing","findFirstFocusableNode","closestCenter","querySelector","SELECTOR","collisionRect","getSortedRects","droppableContainers","disableTransforms","Provider","contextValue","defaultNewIndexGetter","distBetween","centerRect","push","droppableContainer","arrayMove","sort","isSorting","wasDragging","newIndex","previousItems","previousContainerId","transition","cornersOfRectangle","defaultTransition","distances","corners","corner","rectCorners","Number","toFixed","Transition","transitionProperty","effectiveDistance","roleDescription","useDerivedTransform","getIntersectionRatio","entry","max","right","min","bottom","derivedTransform","setDerivedtransform","previousIndex","targetArea","initial","entryArea","intersectionRatio","getClientRect","intersectionArea","ignoreTransform","delta","useSortable","animateLayoutChanges","defaultAnimateLayoutChanges","attributes","userDefinedAttributes","localStrategy","resizeObserverConfig","globalDisabled","isPointWithinRect","point","globalStrategy","useContext","normalizeLocalDisabled","localDisabled","sortable","customData","itemsAfterCurrentSortable","pointerWithin","setDroppableNodeRef","useDroppable","pointerCoordinates","updateMeasurementsFor","activatorEvent","setActivatorNodeRef","defaultAttributes","setDraggableNodeRef","Boolean","isValidIndex","dragSourceDisplacement","shouldDisplaceDragSource","displaceItem","finalTransform","adjustScale","rect1","rect2","getNewIndex","activeId","previous","createRectAdjustmentFn","adjustClientRect","shouldAnimateLayoutChanges","acc","getAdjustedRect","parseTransform","startsWith","transformArray","split","inverseTransform","transformOrigin","parsedTransform","timeoutId","setTimeout","translateX","translateY","parseFloat","w","h","defaultOptions","getTransition","getBoundingClientRect","disabledTransition","isKeyboardEvent","undefined","getComputedStyle","hasSortableData","getTransformAgnosticClientRect","getWindowClientRect","innerHeight","directions","KeyboardCode","Down","Right","Up","Left","sortableKeyboardCoordinates","context","scrollableAncestors","isFixed","computedStyle","includes","code","preventDefault","isScrollable","filteredContainers","getEnabled","overflowRegex","properties","some","test","getScrollableAncestors","limit","scrollParents","findScrollableAncestors","scrollingElement","isHTMLElement","closestCorners","parentNode","closestId","getFirstCollision","getFirstScrollableAncestor","activeDroppable","firstScrollableAncestor","newDroppable","newNode","getScrollableElement","newScrollAncestors","hasDifferentScrollAncestors","hasSameContainer","isSameContainer","isAfterActive","isAfter","isWindow","offset","rectCoordinates","newCoordinates","subtract","getScrollXCoordinate","scrollX","scrollLeft","getScrollYCoordinate","scrollY","scrollTop","getScrollCoordinates","Direction","isDocumentScrollingElement","getScrollPosition","scrollingContainer","minScroll","dimensions","innerWidth","clientHeight","clientWidth","maxScroll","scrollWidth","scrollHeight","isTop","isLeft","isBottom","isRight","defaultThreshold","getScrollDirectionAndSpeed","scrollContainer","scrollContainerRect","acceleration","thresholdPercentage","direction","speed","threshold","Backward","abs","Forward","getScrollElementRect","getScrollOffsets","defaultCoordinates","getScrollXOffset","getScrollYOffset","scrollIntoViewIfNeeded","measure","scrollIntoView","block","inline","Rect","constructor","scrollOffsets","axis","keys","getScrollOffset","defineProperty","currentOffsets","scrollOffsetsDeltla","enumerable","Listeners","removeAll","removeEventListener","eventName","addEventListener","getEventListenerTarget","EventTarget","hasExceededDistance","measurement","dx","dy","EventName","stopPropagation","defaultKeyboardCodes","start","Space","Enter","cancel","Esc","end","Tab","defaultKeyboardCoordinateGetter","currentCoordinates","KeyboardSensor","props","autoScrollEnabled","referenceCoordinates","windowListeners","handleKeyDown","bind","handleCancel","attach","handleStart","Resize","VisibilityChange","Keydown","activeNode","onStart","keyboardCodes","coordinateGetter","scrollBehavior","handleEnd","coordinatesDelta","getCoordinatesDelta","scrollDelta","scrollElementRect","clampedCoordinates","canScrollX","canScrollY","newScrollCoordinates","canScrollToNewCoordinates","scrollTo","behavior","scrollBy","handleMove","getAdjustedCoordinates","coordinates","onMove","onEnd","detach","onCancel","activators","onActivation","nativeEvent","activator","activatorNode","isDistanceConstraint","constraint","isDelayConstraint","AbstractPointerSensor","events","listenerTarget","activated","initialCoordinates","documentListeners","handleKeydown","removeTextSelection","activationConstraint","bypassActivationConstraint","move","name","passive","DragStart","ContextMenu","delay","handlePending","clearTimeout","onPending","Click","capture","SelectionChange","tolerance","distance","cancelable","onAbort","getSelection","removeAllRanges","PointerSensor","isPrimary","button","MouseButton","MouseSensor","RightClick","TouchSensor","setup","teardown","touches","AutoScrollActivator","TraversalOrder","useAutoScroller","Pointer","canScroll","draggingRect","enabled","interval","order","TreeOrder","scrollableAncestorRects","scrollIntent","useScrollIntent","setAutoScrollInterval","clearAutoScrollInterval","useInterval","scrollSpeed","scrollDirection","DraggableRect","scrollContainerRef","autoScroll","sortedScrollableAncestors","reverse","JSON","stringify","defaultScrollIntent","previousDelta","useLazyMemo","previousIntent","sign","useCachedNode","draggableNodes","draggableNode","cachedNode","useCombineActivators","getSyntheticHandler","Sensor","sensorActivators","MeasuringStrategy","MeasuringFrequency","defaultValue","Map","useDroppableMeasuring","containers","dragging","config","queue","setQueue","frequency","containersRef","isDisabled","disabledRef","concat","previousValue","set","measuringScheduled","Always","BeforeDragging","useInitialValue","computeFn","useInitialRect","useMutationObserver","handleMutations","mutationObserver","MutationObserver","disconnect","useResizeObserver","handleResize","resizeObserver","ResizeObserver","defaultMeasure","useRect","fallbackRect","setRect","measureRect","isConnected","records","record","contains","observe","body","childList","subtree","useRectDelta","initialRect","getRectDelta","useScrollableAncestors","previousNode","ancestors","useScrollOffsets","elements","scrollCoordinates","setScrollCoordinates","prevElements","handleScroll","previousElements","cleanup","scrollableElement","values","useScrollOffsetsDelta","initialScrollOffsets","hasScrollOffsets","useSensorSetup","teardownFns","useSyntheticListeners","useWindowRect","useRects","firstElement","windowRect","setRects","measureRects","getMeasurableNode","firstChild","useDragOverlayMeasuring","handleNodeChange","nodeRef","setRef","useNodeRef","defaultSensors","defaultData","defaultMeasuringConfiguration","WhileDragging","Optimized","DroppableContainersMap","toArray","getNodeFor","defaultPublicContext","containerNodeRect","measuringConfiguration","defaultInternalContext","ariaDescribedById","InternalContext","PublicContext","getInitialState","nodes","translate","reducer","state","action","DragMove","DragEnd","DragCancel","RegisterDroppable","SetDroppableDisabled","UnregisterDroppable","delete","RestoreFocus","previousActivatorEvent","previousActiveId","activeElement","requestAnimationFrame","focusableNode","focus","applyModifiers","modifiers","useMeasuringConfiguration","useLayoutShiftScrollCompensation","initialized","rectDelta","ActiveDraggableContext","Status","DndContext","memo","accessibility","collisionDetection","rectIntersection","measuring","store","useReducer","dispatchMonitorEvent","registerMonitorListener","status","setStatus","Uninitialized","isInitialized","Initialized","activeRects","translated","activeRef","activeSensor","setActiveSensor","setActivatorEvent","latestProps","draggableDescribedById","enabledDroppableContainers","activationCoordinates","autoScrollOptions","getAutoScrollerOptions","initialActiveNodeRect","layoutShiftCompensation","parentElement","sensorContext","draggingNode","draggingNodeRect","scrollAdjustedTranslate","overNode","usesDragOverlay","nodeRectDelta","modifiedTranslate","overlayNodeRect","scrollAdjustment","activeNodeScrollDelta","overId","setOver","appliedTranslate","activeSensorRef","instantiateSensor","sensorInstance","onDragAbort","onDragPending","unstable_batchedUpdates","Initializing","createHandler","cancelDrop","shouldCancel","Promise","resolve","bindActivatorToSensorInstantiator","activeDraggableNode","dndKit","defaultPrevented","activationContext","shouldActivate","capturedBy","onDragOver","overContainer","publicContext","internalContext","restoreFocus","activeSensorDisablesAutoscroll","autoScrollGloballyDisabled","NullContext","defaultRole","useDraggable","tabIndex","dataRef","memoizedAttributes","useDndContext","defaultResizeObserverConfig","timeout","resizeObserverConnected","callbackId","resizeObserverDisabled","resizeObserverTimeout","isArray","newElement","previousElement","unobserve","isOver","AnimationManager","animation","clonedChildren","setClonedChildren","setElement","previousChildren","then","cloneElement","defaultTransform","NullifiedContextProvider","baseStyles","touchAction","isKeyboardActivator","PositionedOverlay","forwardRef","as","className","scaleAdjustedTransform","styles","defaultDropAnimationSideEffects","originalStyles","getPropertyValue","setProperty","classList","remove","defaultKeyframeResolver","final","defaultDropAnimationConfiguration","keyframes","sideEffects","opacity","useDropAnimation","activeDraggable","measurableNode","createDefaultDropAnimation","rest","scale","animationKeyframes","firstKeyframe","lastKeyframe","animate","fill","onfinish","useKey","DragOverlay","dropAnimation","dropAnimationConfig","wrapperElement","zIndex","modifiedTransform"],"mappings":"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","ignoreList":[5,6,8,9,10,16,18,19,20,21,23,24,26,27,28,29,31,32,34,35,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144],"debug_id":"063500c0-8a13-594d-b222-4b19d77af39d"}