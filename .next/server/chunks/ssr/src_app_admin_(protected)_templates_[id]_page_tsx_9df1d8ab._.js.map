{"version":3,"sources":["../../../../src/app/admin/%28protected%29/templates/%5Bid%5D/page.tsx","../../../../src/components/admin/TemplateVariablesHelper.tsx","../../../../src/components/admin/TemplatePreviewDialog.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, use, useRef } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport toast from 'react-hot-toast';\r\nimport { ArrowLeft, Save, Eye } from 'lucide-react';\r\nimport { TemplateVariablesHelper } from '@/components/admin/TemplateVariablesHelper';\r\nimport { TemplatePreviewDialog } from '@/components/admin/TemplatePreviewDialog';\r\n\r\nexport default function TemplateEditorPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const { id } = use(params);\r\n    const router = useRouter();\r\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n    const [template, setTemplate] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n    const [content, setContent] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [isActive, setIsActive] = useState(false);\r\n    const [showPreview, setShowPreview] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchTemplate();\r\n    }, []);\r\n\r\n    const fetchTemplate = async () => {\r\n        try {\r\n            const response = await fetch(`/api/admin/templates/${id}`);\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setTemplate(data.template);\r\n                setName(data.template.name);\r\n                setContent(data.template.content);\r\n                setIsActive(data.template.isActive);\r\n            } else {\r\n                toast.error('Failed to load template');\r\n                router.push('/admin/templates');\r\n            }\r\n        } catch (error) {\r\n            toast.error('An error occurred');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        setSaving(true);\r\n        try {\r\n            // Validate JSON if it's a PDF template\r\n            if (!template.type.includes('EMAIL')) {\r\n                try {\r\n                    JSON.parse(content);\r\n                } catch (e) {\r\n                    toast.error('Invalid JSON format');\r\n                    setSaving(false);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const response = await fetch(`/api/admin/templates/${id}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    name,\r\n                    content,\r\n                    isActive,\r\n                }),\r\n            });\r\n\r\n            if (response.ok) {\r\n                toast.success('Template saved successfully');\r\n                fetchTemplate(); // Refresh to get updated active status\r\n            } else {\r\n                toast.error('Failed to save template');\r\n            }\r\n        } catch (error) {\r\n            toast.error('An error occurred');\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleInsertVariable = (variable: string) => {\r\n        if (!textareaRef.current) return;\r\n\r\n        const textarea = textareaRef.current;\r\n        const start = textarea.selectionStart;\r\n        const end = textarea.selectionEnd;\r\n        const newContent = content.substring(0, start) + variable + content.substring(end);\r\n\r\n        setContent(newContent);\r\n\r\n        // Set cursor position after inserted variable\r\n        setTimeout(() => {\r\n            textarea.focus();\r\n            const newPosition = start + variable.length;\r\n            textarea.setSelectionRange(newPosition, newPosition);\r\n        }, 0);\r\n    };\r\n\r\n    if (loading) return <div className=\"text-center py-12\">Loading...</div>;\r\n    if (!template) return <div className=\"text-center py-12\">Template not found</div>;\r\n\r\n    const isEmail = template.type.includes('EMAIL');\r\n\r\n    return (\r\n        <div className=\"space-y-6 h-[calc(100vh-100px)] flex flex-col\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <Button variant=\"ghost\" onClick={() => router.back()}>\r\n                        <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                        Back\r\n                    </Button>\r\n                    <h1 className=\"text-2xl font-bold\">Edit Template</h1>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <Button variant=\"outline\" onClick={() => setShowPreview(true)}>\r\n                        <Eye className=\"w-4 h-4 mr-2\" />\r\n                        Preview\r\n                    </Button>\r\n                    <Button onClick={handleSave} disabled={saving}>\r\n                        <Save className=\"w-4 h-4 mr-2\" />\r\n                        {saving ? 'Saving...' : 'Save Changes'}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid gap-6 md:grid-cols-3 flex-1 min-h-0\">\r\n                {/* Settings Panel */}\r\n                <div className=\"space-y-6 overflow-y-auto pr-2\">\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Settings</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"space-y-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <Label>Template Name</Label>\r\n                                <Input\r\n                                    value={name}\r\n                                    onChange={(e) => setName(e.target.value)}\r\n                                    placeholder=\"e.g., Holiday Theme\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center justify-between border p-3 rounded-md\">\r\n                                <div className=\"space-y-0.5\">\r\n                                    <Label>Active Template</Label>\r\n                                    <p className=\"text-sm text-gray-500\">\r\n                                        Use this template for {template.type.replace('_', ' ')}\r\n                                    </p>\r\n                                </div>\r\n                                <Switch\r\n                                    checked={isActive}\r\n                                    onCheckedChange={setIsActive}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"space-y-2\">\r\n                                <Label>Template Variables</Label>\r\n                                <p className=\"text-sm text-muted-foreground mb-3\">\r\n                                    Browse and insert variables into your template\r\n                                </p>\r\n                                <TemplateVariablesHelper onInsert={handleInsertVariable} />\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n\r\n                {/* Editor Panel */}\r\n                <div className=\"md:col-span-2 flex flex-col min-h-0\">\r\n                    <Card className=\"flex-1 flex flex-col min-h-0\">\r\n                        <CardHeader className=\"py-3\">\r\n                            <CardTitle>{isEmail ? 'HTML Editor' : 'Configuration (JSON)'}</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent className=\"flex-1 p-0 min-h-0\">\r\n                            <Textarea\r\n                                ref={textareaRef}\r\n                                value={content}\r\n                                onChange={(e) => setContent(e.target.value)}\r\n                                className=\"w-full h-full min-h-[400px] font-mono text-sm border-0 rounded-none focus-visible:ring-0 resize-none p-4\"\r\n                                spellCheck={false}\r\n                            />\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n\r\n            <TemplatePreviewDialog\r\n                content={content}\r\n                templateType={template.type}\r\n                open={showPreview}\r\n                onOpenChange={setShowPreview}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","'use client';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n  SheetTrigger,\n} from '@/components/ui/sheet';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  BookOpen,\n  Search,\n  Copy,\n  Check,\n  ShoppingCart,\n  User,\n  MapPin,\n  Package,\n  CreditCard,\n  Store,\n  Calendar,\n  Hash\n} from 'lucide-react';\nimport toast from 'react-hot-toast';\n\ninterface Variable {\n  name: string;\n  description: string;\n  example: string;\n  category: string;\n  type: 'string' | 'number' | 'date' | 'boolean' | 'array' | 'object';\n}\n\nconst templateVariables: Variable[] = [\n  // Order Variables\n  {\n    name: '{{order.number}}',\n    description: 'Unique order number',\n    example: 'ORD-12345',\n    category: 'Order',\n    type: 'string',\n  },\n  {\n    name: '{{order.id}}',\n    description: 'Order ID',\n    example: 'abc123def456',\n    category: 'Order',\n    type: 'string',\n  },\n  {\n    name: '{{order.status}}',\n    description: 'Current order status',\n    example: 'SHIPPED',\n    category: 'Order',\n    type: 'string',\n  },\n  {\n    name: '{{order.subtotal}}',\n    description: 'Order subtotal before tax',\n    example: '$99.99',\n    category: 'Order',\n    type: 'number',\n  },\n  {\n    name: '{{order.tax}}',\n    description: 'Total tax amount',\n    example: '$8.50',\n    category: 'Order',\n    type: 'number',\n  },\n  {\n    name: '{{order.shipping}}',\n    description: 'Shipping cost',\n    example: '$10.00',\n    category: 'Order',\n    type: 'number',\n  },\n  {\n    name: '{{order.total}}',\n    description: 'Final order total',\n    example: '$118.49',\n    category: 'Order',\n    type: 'number',\n  },\n  {\n    name: '{{order.date}}',\n    description: 'Order creation date',\n    example: 'November 23, 2024',\n    category: 'Order',\n    type: 'date',\n  },\n  {\n    name: '{{order.notes}}',\n    description: 'Customer order notes',\n    example: 'Please gift wrap',\n    category: 'Order',\n    type: 'string',\n  },\n\n  // Customer Variables\n  {\n    name: '{{customer.name}}',\n    description: 'Customer full name',\n    example: 'John Doe',\n    category: 'Customer',\n    type: 'string',\n  },\n  {\n    name: '{{customer.email}}',\n    description: 'Customer email address',\n    example: 'john@example.com',\n    category: 'Customer',\n    type: 'string',\n  },\n  {\n    name: '{{customer.firstName}}',\n    description: 'Customer first name',\n    example: 'John',\n    category: 'Customer',\n    type: 'string',\n  },\n  {\n    name: '{{customer.lastName}}',\n    description: 'Customer last name',\n    example: 'Doe',\n    category: 'Customer',\n    type: 'string',\n  },\n\n  // Shipping Address Variables\n  {\n    name: '{{shipping.name}}',\n    description: 'Shipping recipient name',\n    example: 'John Doe',\n    category: 'Shipping',\n    type: 'string',\n  },\n  {\n    name: '{{shipping.address1}}',\n    description: 'Shipping address line 1',\n    example: '123 Main Street',\n    category: 'Shipping',\n    type: 'string',\n  },\n  {\n    name: '{{shipping.address2}}',\n    description: 'Shipping address line 2',\n    example: 'Apt 4B',\n    category: 'Shipping',\n    type: 'string',\n  },\n  {\n    name: '{{shipping.city}}',\n    description: 'Shipping city',\n    example: 'New York',\n    category: 'Shipping',\n    type: 'string',\n  },\n  {\n    name: '{{shipping.state}}',\n    description: 'Shipping state/province',\n    example: 'NY',\n    category: 'Shipping',\n    type: 'string',\n  },\n  {\n    name: '{{shipping.zip}}',\n    description: 'Shipping postal code',\n    example: '10001',\n    category: 'Shipping',\n    type: 'string',\n  },\n  {\n    name: '{{shipping.country}}',\n    description: 'Shipping country',\n    example: 'United States',\n    category: 'Shipping',\n    type: 'string',\n  },\n  {\n    name: '{{shipping.phone}}',\n    description: 'Shipping phone number',\n    example: '+1 (555) 123-4567',\n    category: 'Shipping',\n    type: 'string',\n  },\n\n  // Billing Address Variables\n  {\n    name: '{{billing.name}}',\n    description: 'Billing name',\n    example: 'John Doe',\n    category: 'Billing',\n    type: 'string',\n  },\n  {\n    name: '{{billing.address1}}',\n    description: 'Billing address line 1',\n    example: '123 Main Street',\n    category: 'Billing',\n    type: 'string',\n  },\n  {\n    name: '{{billing.city}}',\n    description: 'Billing city',\n    example: 'New York',\n    category: 'Billing',\n    type: 'string',\n  },\n\n  // Store Variables\n  {\n    name: '{{store.name}}',\n    description: 'Store name',\n    example: 'My Store',\n    category: 'Store',\n    type: 'string',\n  },\n  {\n    name: '{{store.email}}',\n    description: 'Store contact email',\n    example: 'support@store.com',\n    category: 'Store',\n    type: 'string',\n  },\n  {\n    name: '{{store.phone}}',\n    description: 'Store phone number',\n    example: '+1 (555) 999-0000',\n    category: 'Store',\n    type: 'string',\n  },\n  {\n    name: '{{store.url}}',\n    description: 'Store website URL',\n    example: 'https://mystore.com',\n    category: 'Store',\n    type: 'string',\n  },\n  {\n    name: '{{store.logo}}',\n    description: 'Store logo URL',\n    example: 'https://mystore.com/logo.png',\n    category: 'Store',\n    type: 'string',\n  },\n\n  // Items Loop (for order items)\n  {\n    name: '{{#each items}}',\n    description: 'Loop through order items',\n    example: '{{#each items}} ... {{/each}}',\n    category: 'Items',\n    type: 'array',\n  },\n  {\n    name: '{{items.name}}',\n    description: 'Product name (inside loop)',\n    example: 'Blue T-Shirt',\n    category: 'Items',\n    type: 'string',\n  },\n  {\n    name: '{{items.sku}}',\n    description: 'Product SKU (inside loop)',\n    example: 'TS-BLU-M',\n    category: 'Items',\n    type: 'string',\n  },\n  {\n    name: '{{items.quantity}}',\n    description: 'Quantity ordered (inside loop)',\n    example: '2',\n    category: 'Items',\n    type: 'number',\n  },\n  {\n    name: '{{items.price}}',\n    description: 'Unit price (inside loop)',\n    example: '$29.99',\n    category: 'Items',\n    type: 'number',\n  },\n  {\n    name: '{{items.total}}',\n    description: 'Line item total (inside loop)',\n    example: '$59.98',\n    category: 'Items',\n    type: 'number',\n  },\n\n  // Payment Variables\n  {\n    name: '{{payment.method}}',\n    description: 'Payment method used',\n    example: 'Credit Card',\n    category: 'Payment',\n    type: 'string',\n  },\n  {\n    name: '{{payment.status}}',\n    description: 'Payment status',\n    example: 'PAID',\n    category: 'Payment',\n    type: 'string',\n  },\n\n  // Date/Time Helpers\n  {\n    name: '{{formatDate date}}',\n    description: 'Format a date',\n    example: 'November 23, 2024',\n    category: 'Helpers',\n    type: 'string',\n  },\n  {\n    name: '{{formatCurrency amount}}',\n    description: 'Format as currency',\n    example: '$123.45',\n    category: 'Helpers',\n    type: 'string',\n  },\n];\n\nconst categories = [\n  { name: 'All', icon: BookOpen, count: templateVariables.length },\n  { name: 'Order', icon: ShoppingCart, count: templateVariables.filter(v => v.category === 'Order').length },\n  { name: 'Customer', icon: User, count: templateVariables.filter(v => v.category === 'Customer').length },\n  { name: 'Shipping', icon: Package, count: templateVariables.filter(v => v.category === 'Shipping').length },\n  { name: 'Billing', icon: CreditCard, count: templateVariables.filter(v => v.category === 'Billing').length },\n  { name: 'Items', icon: Hash, count: templateVariables.filter(v => v.category === 'Items').length },\n  { name: 'Store', icon: Store, count: templateVariables.filter(v => v.category === 'Store').length },\n  { name: 'Payment', icon: CreditCard, count: templateVariables.filter(v => v.category === 'Payment').length },\n  { name: 'Helpers', icon: Calendar, count: templateVariables.filter(v => v.category === 'Helpers').length },\n];\n\ninterface TemplateVariablesHelperProps {\n  onInsert?: (variable: string) => void;\n}\n\nexport function TemplateVariablesHelper({ onInsert }: TemplateVariablesHelperProps) {\n  const [search, setSearch] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const [copiedVariable, setCopiedVariable] = useState<string | null>(null);\n\n  const filteredVariables = templateVariables.filter((variable) => {\n    const matchesSearch =\n      variable.name.toLowerCase().includes(search.toLowerCase()) ||\n      variable.description.toLowerCase().includes(search.toLowerCase());\n    const matchesCategory = selectedCategory === 'All' || variable.category === selectedCategory;\n    return matchesSearch && matchesCategory;\n  });\n\n  const handleCopy = (variable: string) => {\n    navigator.clipboard.writeText(variable);\n    setCopiedVariable(variable);\n    toast.success('Variable copied to clipboard!');\n    setTimeout(() => setCopiedVariable(null), 2000);\n\n    if (onInsert) {\n      onInsert(variable);\n    }\n  };\n\n  const getTypeColor = (type: Variable['type']) => {\n    const colors = {\n      string: 'bg-blue-100 text-blue-700',\n      number: 'bg-green-100 text-green-700',\n      date: 'bg-purple-100 text-purple-700',\n      boolean: 'bg-orange-100 text-orange-700',\n      array: 'bg-pink-100 text-pink-700',\n      object: 'bg-gray-100 text-gray-700',\n    };\n    return colors[type] || 'bg-gray-100 text-gray-700';\n  };\n\n  return (\n    <Sheet>\n      <SheetTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\n          <BookOpen className=\"w-4 h-4\" />\n          Variables Guide\n        </Button>\n      </SheetTrigger>\n      <SheetContent className=\"w-full sm:max-w-3xl overflow-hidden flex flex-col p-0\">\n        {/* Header */}\n        <div className=\"border-b bg-gradient-to-r from-primary/10 to-primary/5 px-6 py-5\">\n          <SheetHeader>\n            <SheetTitle className=\"flex items-center gap-2 text-2xl\">\n              <BookOpen className=\"w-6 h-6 text-primary\" />\n              Template Variables\n            </SheetTitle>\n            <SheetDescription className=\"text-base mt-2\">\n              Browse and insert variables into your template. Click any variable to copy it to your clipboard.\n            </SheetDescription>\n          </SheetHeader>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto px-6 py-6 space-y-6\">\n          {/* Search */}\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search variables by name or description...\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              className=\"pl-11 h-12 text-base border-2 focus-visible:ring-2\"\n            />\n          </div>\n\n          {/* Category Filter */}\n          <div>\n            <p className=\"text-sm font-medium text-muted-foreground mb-3\">Filter by Category</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {categories.map((category) => {\n                const Icon = category.icon;\n                const isSelected = selectedCategory === category.name;\n                return (\n                  <Button\n                    key={category.name}\n                    variant={isSelected ? 'default' : 'outline'}\n                    size=\"sm\"\n                    onClick={() => setSelectedCategory(category.name)}\n                    className={`flex items-center gap-2 transition-all ${\n                      isSelected ? 'shadow-md' : 'hover:shadow-sm'\n                    }`}\n                  >\n                    <Icon className=\"w-4 h-4\" />\n                    <span className=\"font-medium\">{category.name}</span>\n                    <Badge\n                      variant={isSelected ? 'secondary' : 'outline'}\n                      className=\"ml-1 text-xs font-semibold\"\n                    >\n                      {category.count}\n                    </Badge>\n                  </Button>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Variables List */}\n          <div>\n            <div className=\"flex items-center justify-between mb-4\">\n              <p className=\"text-sm font-medium text-muted-foreground\">\n                {filteredVariables.length} variable{filteredVariables.length !== 1 ? 's' : ''} found\n              </p>\n            </div>\n\n            {filteredVariables.length === 0 ? (\n              <div className=\"text-center py-16 text-muted-foreground\">\n                <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center\">\n                  <Search className=\"w-8 h-8 opacity-50\" />\n                </div>\n                <p className=\"font-medium mb-1\">No variables found</p>\n                <p className=\"text-sm\">Try adjusting your search or category filter</p>\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                {filteredVariables.map((variable) => (\n                  <div\n                    key={variable.name}\n                    className=\"group border-2 rounded-xl p-4 hover:border-primary hover:shadow-md cursor-pointer transition-all duration-200 hover:scale-[1.01]\"\n                    onClick={() => handleCopy(variable.name)}\n                  >\n                    <div className=\"flex items-start justify-between gap-4\">\n                      <div className=\"flex-1 space-y-3\">\n                        {/* Variable Name and Type */}\n                        <div className=\"flex items-center gap-2 flex-wrap\">\n                          <code className=\"font-mono text-sm font-bold bg-primary/10 text-primary px-3 py-1.5 rounded-md\">\n                            {variable.name}\n                          </code>\n                          <Badge className={`${getTypeColor(variable.type)} font-medium`}>\n                            {variable.type}\n                          </Badge>\n                        </div>\n\n                        {/* Description */}\n                        <p className=\"text-sm leading-relaxed\">\n                          {variable.description}\n                        </p>\n\n                        {/* Example */}\n                        <div className=\"flex items-start gap-2 bg-muted/50 p-2 rounded-md\">\n                          <span className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide shrink-0 mt-0.5\">\n                            Example:\n                          </span>\n                          <code className=\"text-xs font-mono bg-background px-2 py-1 rounded border\">\n                            {variable.example}\n                          </code>\n                        </div>\n                      </div>\n\n                      {/* Copy Button */}\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"flex-shrink-0 group-hover:bg-primary group-hover:text-primary-foreground transition-colors\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleCopy(variable.name);\n                        }}\n                      >\n                        {copiedVariable === variable.name ? (\n                          <Check className=\"w-5 h-5 text-green-500\" />\n                        ) : (\n                          <Copy className=\"w-5 h-5\" />\n                        )}\n                      </Button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </SheetContent>\n    </Sheet>\n  );\n}\n","'use client';\n\nimport { useState, useMemo } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Eye, X, Maximize2, Minimize2, ZoomIn, ZoomOut } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\n\ninterface TemplatePreviewDialogProps {\n  content: string;\n  templateType: string;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\n// Sample data for different template types\nconst getSampleData = (templateType: string) => {\n  const baseData = {\n    order: {\n      number: 'ORD-12345',\n      id: 'abc123def456',\n      status: 'SHIPPED',\n      subtotal: '$99.99',\n      tax: '$8.50',\n      shipping: '$10.00',\n      total: '$118.49',\n      date: 'November 23, 2024',\n      notes: 'Please gift wrap',\n    },\n    customer: {\n      name: 'John Doe',\n      email: 'john@example.com',\n      firstName: 'John',\n      lastName: 'Doe',\n    },\n    shipping: {\n      name: 'John Doe',\n      address1: '123 Main Street',\n      address2: 'Apt 4B',\n      city: 'New York',\n      state: 'NY',\n      zip: '10001',\n      country: 'United States',\n      phone: '+1 (555) 123-4567',\n    },\n    billing: {\n      name: 'John Doe',\n      address1: '123 Main Street',\n      city: 'New York',\n    },\n    store: {\n      name: 'My Awesome Store',\n      email: 'support@store.com',\n      phone: '+1 (555) 999-0000',\n      url: 'https://mystore.com',\n      logo: 'https://mystore.com/logo.png',\n    },\n    items: [\n      {\n        name: 'Blue T-Shirt',\n        sku: 'TS-BLU-M',\n        quantity: 2,\n        price: '$29.99',\n        total: '$59.98',\n      },\n      {\n        name: 'Red Cap',\n        sku: 'CAP-RED',\n        quantity: 1,\n        price: '$19.99',\n        total: '$19.99',\n      },\n    ],\n    payment: {\n      method: 'Credit Card',\n      status: 'PAID',\n    },\n  };\n\n  return baseData;\n};\n\n// Simple Handlebars-like template processor\nconst processTemplate = (content: string, data: any): string => {\n  let processed = content;\n\n  // Replace simple variables like {{order.number}}\n  processed = processed.replace(/\\{\\{([^}#\\/]+)\\}\\}/g, (match, path) => {\n    const value = path.split('.').reduce((obj: any, key: string) => {\n      return obj?.[key.trim()];\n    }, data);\n    return value !== undefined ? String(value) : match;\n  });\n\n  // Process {{#each items}} loops\n  processed = processed.replace(\n    /\\{\\{#each\\s+(\\w+)\\}\\}([\\s\\S]*?)\\{\\{\\/each\\}\\}/g,\n    (match, arrayName, loopContent) => {\n      const array = data[arrayName];\n      if (!Array.isArray(array)) return match;\n\n      return array\n        .map((item) => {\n          let itemContent = loopContent;\n          // Replace variables inside loop (e.g., {{items.name}} becomes {{name}})\n          itemContent = itemContent.replace(\n            new RegExp(`\\\\{\\\\{${arrayName}\\\\.([^}]+)\\\\}\\\\}`, 'g'),\n            (m, prop) => {\n              return item[prop] !== undefined ? String(item[prop]) : m;\n            }\n          );\n          return itemContent;\n        })\n        .join('');\n    }\n  );\n\n  // Process helper functions\n  processed = processed.replace(/\\{\\{formatDate\\s+([^}]+)\\}\\}/g, (match, dateVar) => {\n    const value = dateVar.split('.').reduce((obj: any, key: string) => {\n      return obj?.[key.trim()];\n    }, data);\n    return value || match;\n  });\n\n  processed = processed.replace(/\\{\\{formatCurrency\\s+([^}]+)\\}\\}/g, (match, amountVar) => {\n    const value = amountVar.split('.').reduce((obj: any, key: string) => {\n      return obj?.[key.trim()];\n    }, data);\n    return value || match;\n  });\n\n  return processed;\n};\n\nexport function TemplatePreviewDialog({\n  content,\n  templateType,\n  open,\n  onOpenChange,\n}: TemplatePreviewDialogProps) {\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [zoom, setZoom] = useState(100);\n\n  const handleZoomIn = () => setZoom(prev => Math.min(prev + 10, 150));\n  const handleZoomOut = () => setZoom(prev => Math.max(prev - 10, 50));\n  const handleResetZoom = () => setZoom(100);\n\n  const { preview, error } = useMemo(() => {\n    try {\n      const sampleData = getSampleData(templateType);\n\n      // For email templates, process Handlebars and render HTML\n      if (templateType.includes('EMAIL')) {\n        const processedHtml = processTemplate(content, sampleData);\n        return {\n          preview: (\n            <div className=\"border rounded-lg bg-white\">\n              <div className=\"bg-gray-100 px-4 py-2 border-b flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"text-sm font-medium\">From: {sampleData.store.email}</div>\n                  <Badge variant=\"secondary\" className=\"text-xs\">Sample Email</Badge>\n                </div>\n              </div>\n              <div className=\"p-4\">\n                <div\n                  className=\"prose max-w-none\"\n                  dangerouslySetInnerHTML={{ __html: processedHtml }}\n                />\n              </div>\n            </div>\n          ),\n          error: null,\n        };\n      }\n\n      // For PDF templates (Invoice/Packing Slip), show JSON structure\n      if (templateType === 'INVOICE' || templateType === 'PACKING_SLIP') {\n        try {\n          const parsed = JSON.parse(content);\n          const processedJson = JSON.parse(processTemplate(JSON.stringify(parsed), sampleData));\n\n          return {\n            preview: (\n              <div className=\"border rounded-lg bg-white p-6\">\n                <div className=\"mb-4\">\n                  <Badge variant=\"secondary\">PDF Template Configuration</Badge>\n                </div>\n                <div className=\"space-y-4\">\n                  <div>\n                    <h3 className=\"font-semibold mb-2\">Document Settings</h3>\n                    <div className=\"bg-gray-50 p-3 rounded text-sm space-y-1\">\n                      <div><span className=\"font-medium\">Format:</span> {processedJson.format || 'A4'}</div>\n                      <div><span className=\"font-medium\">Orientation:</span> {processedJson.orientation || 'portrait'}</div>\n                      <div><span className=\"font-medium\">Title:</span> {processedJson.title || 'Document'}</div>\n                    </div>\n                  </div>\n\n                  <div>\n                    <h3 className=\"font-semibold mb-2\">Header</h3>\n                    <div className=\"bg-gray-50 p-3 rounded text-sm\">\n                      {processedJson.header?.logo && (\n                        <div className=\"mb-2\">\n                          <span className=\"font-medium\">Logo:</span> {processedJson.header.logo}\n                        </div>\n                      )}\n                      {processedJson.header?.text && (\n                        <div>{processedJson.header.text}</div>\n                      )}\n                    </div>\n                  </div>\n\n                  {processedJson.sections && (\n                    <div>\n                      <h3 className=\"font-semibold mb-2\">Sections</h3>\n                      <div className=\"space-y-2\">\n                        {processedJson.sections.map((section: any, idx: number) => (\n                          <div key={idx} className=\"bg-gray-50 p-3 rounded text-sm\">\n                            <div className=\"font-medium mb-1\">{section.title || `Section ${idx + 1}`}</div>\n                            {section.content && <div className=\"text-xs text-gray-600\">{section.content}</div>}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"text-xs text-gray-500 mt-4\">\n                    This is a preview of the template configuration. The actual PDF will be generated based on these settings.\n                  </div>\n                </div>\n              </div>\n            ),\n            error: null,\n          };\n        } catch (jsonError) {\n          return {\n            preview: null,\n            error: 'Invalid JSON format. Please check your template configuration.',\n          };\n        }\n      }\n\n      return { preview: null, error: null };\n    } catch (err) {\n      console.error('Preview error:', err);\n      return {\n        preview: null,\n        error: 'Failed to render preview. Please check your template syntax.',\n      };\n    }\n  }, [content, templateType]);\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent\n        className={`${\n          isFullscreen\n            ? 'max-w-[100vw] w-[100vw] h-[100vh] max-h-[100vh] m-0 rounded-none'\n            : 'max-w-[95vw] w-[95vw] max-h-[95vh]'\n        } p-0 gap-0 overflow-hidden flex flex-col`}\n      >\n        {/* Header with Controls */}\n        <div className=\"border-b bg-gradient-to-r from-primary/5 to-primary/10 px-6 py-4 flex-shrink-0\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex-1\">\n              <DialogTitle className=\"flex items-center gap-2 text-xl\">\n                <Eye className=\"w-5 h-5 text-primary\" />\n                Template Preview\n              </DialogTitle>\n              <DialogDescription className=\"mt-1\">\n                Preview your template with sample data\n              </DialogDescription>\n            </div>\n\n            {/* Preview Controls */}\n            <div className=\"flex items-center gap-2\">\n              {/* Zoom Controls */}\n              <div className=\"flex items-center gap-1 border rounded-lg px-2 py-1 bg-background\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7\"\n                  onClick={handleZoomOut}\n                  disabled={zoom <= 50}\n                  title=\"Zoom Out\"\n                >\n                  <ZoomOut className=\"w-4 h-4\" />\n                </Button>\n                <button\n                  onClick={handleResetZoom}\n                  className=\"px-3 py-1 text-sm font-medium hover:bg-accent rounded transition-colors min-w-[60px]\"\n                  title=\"Reset Zoom\"\n                >\n                  {zoom}%\n                </button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-7 w-7\"\n                  onClick={handleZoomIn}\n                  disabled={zoom >= 150}\n                  title=\"Zoom In\"\n                >\n                  <ZoomIn className=\"w-4 h-4\" />\n                </Button>\n              </div>\n\n              {/* Fullscreen Toggle */}\n              <Button\n                variant=\"outline\"\n                size=\"icon\"\n                onClick={() => setIsFullscreen(!isFullscreen)}\n                title={isFullscreen ? \"Exit Fullscreen\" : \"Fullscreen\"}\n              >\n                {isFullscreen ? (\n                  <Minimize2 className=\"w-4 h-4\" />\n                ) : (\n                  <Maximize2 className=\"w-4 h-4\" />\n                )}\n              </Button>\n\n              {/* Close Button */}\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => onOpenChange(false)}\n                title=\"Close\"\n              >\n                <X className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Preview Content */}\n        <div className=\"flex-1 overflow-auto bg-gray-50 p-6\">\n          <div\n            className=\"transition-transform duration-200 origin-top\"\n            style={{\n              transform: `scale(${zoom / 100})`,\n              transformOrigin: 'top center'\n            }}\n          >\n            {error ? (\n              <div className=\"bg-red-50 border-2 border-red-200 text-red-700 px-6 py-4 rounded-lg max-w-3xl mx-auto\">\n                <h3 className=\"font-semibold text-lg mb-2\">Preview Error</h3>\n                <p>{error}</p>\n              </div>\n            ) : (\n              <div className=\"mx-auto\" style={{ maxWidth: templateType.includes('EMAIL') ? '600px' : '100%' }}>\n                {preview}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"border-t bg-background px-6 py-4 flex items-center justify-between flex-shrink-0\">\n          <div className=\"flex items-center gap-2\">\n            <Badge variant=\"outline\" className=\"text-xs\">\n              {templateType.replace('_', ' ')}\n            </Badge>\n            {templateType.includes('EMAIL') && (\n              <span className=\"text-xs text-muted-foreground\">\n                Email templates are shown at 600px width for optimal display\n              </span>\n            )}\n          </div>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Close Preview\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QCPA,EAAA,EAAA,CAAA,CAAA,QASA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,0BAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,MAwBA,IAAM,EAAgC,CAEpC,CACE,KAAM,mBACN,YAAa,sBACb,QAAS,YACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,eACN,YAAa,WACb,QAAS,eACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,mBACN,YAAa,uBACb,QAAS,UACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,qBACN,YAAa,4BACb,QAAS,SACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,gBACN,YAAa,mBACb,QAAS,QACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,qBACN,YAAa,gBACb,QAAS,SACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,kBACN,YAAa,oBACb,QAAS,UACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,iBACN,YAAa,sBACb,QAAS,oBACT,SAAU,QACV,KAAM,MACR,EACA,CACE,KAAM,kBACN,YAAa,uBACb,QAAS,mBACT,SAAU,QACV,KAAM,QACR,EAGA,CACE,KAAM,oBACN,YAAa,qBACb,QAAS,WACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,qBACN,YAAa,yBACb,QAAS,mBACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,yBACN,YAAa,sBACb,QAAS,OACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,wBACN,YAAa,qBACb,QAAS,MACT,SAAU,WACV,KAAM,QACR,EAGA,CACE,KAAM,oBACN,YAAa,0BACb,QAAS,WACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,wBACN,YAAa,0BACb,QAAS,kBACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,wBACN,YAAa,0BACb,QAAS,SACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,oBACN,YAAa,gBACb,QAAS,WACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,qBACN,YAAa,0BACb,QAAS,KACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,mBACN,YAAa,uBACb,QAAS,QACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,uBACN,YAAa,mBACb,QAAS,gBACT,SAAU,WACV,KAAM,QACR,EACA,CACE,KAAM,qBACN,YAAa,wBACb,QAAS,oBACT,SAAU,WACV,KAAM,QACR,EAGA,CACE,KAAM,mBACN,YAAa,eACb,QAAS,WACT,SAAU,UACV,KAAM,QACR,EACA,CACE,KAAM,uBACN,YAAa,yBACb,QAAS,kBACT,SAAU,UACV,KAAM,QACR,EACA,CACE,KAAM,mBACN,YAAa,eACb,QAAS,WACT,SAAU,UACV,KAAM,QACR,EAGA,CACE,KAAM,iBACN,YAAa,aACb,QAAS,WACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,kBACN,YAAa,sBACb,QAAS,oBACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,kBACN,YAAa,qBACb,QAAS,oBACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,gBACN,YAAa,oBACb,QAAS,sBACT,SAAU,QACV,KAAM,QACR,EACA,CACE,KAAM,iBACN,YAAa,iBACb,QAAS,+B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"}