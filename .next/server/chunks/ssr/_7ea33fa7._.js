
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9d198c46-5482-534f-ab43-65d6f7ae9f79")}catch(e){}}();
module.exports=[596221,404650,a=>{"use strict";let b=(0,a.i(170106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["default",()=>b],404650),a.s(["Loader2",()=>b],596221)},130656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},504699,a=>{"use strict";let b=(0,a.i(170106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["default",()=>b])},598091,a=>{"use strict";let b=(0,a.i(170106).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["default",()=>b])},591119,a=>{"use strict";var b=a.i(187924),c=a.i(368114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},786304,a=>{"use strict";var b=a.i(187924),c=a.i(811011),d=a.i(400187),e=a.i(368114);let f=(0,d.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},152839,a=>{"use strict";let b=(0,a.i(170106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["default",()=>b])},641710,a=>{"use strict";var b=a.i(152839);a.s(["Clock",()=>b.default])},827630,a=>{"use strict";let b=(0,a.i(170106).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["default",()=>b])},284505,a=>{"use strict";var b=a.i(827630);a.s(["Download",()=>b.default])},959537,a=>{"use strict";let b=(0,a.i(170106).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["default",()=>b])},883497,a=>{"use strict";var b=a.i(959537);a.s(["Package",()=>b.default])},669520,890561,a=>{"use strict";let b=(0,a.i(170106).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["default",()=>b],890561),a.s(["RefreshCw",()=>b],669520)},908941,a=>{"use strict";let b=(0,a.i(170106).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["default",()=>b])},410227,a=>{"use strict";var b=a.i(908941);a.s(["Truck",()=>b.default])},922721,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(875003),e=a.i(50944),f=a.i(406704),g=a.i(591119),h=a.i(699570),i=a.i(786304),j=a.i(580701),k=a.i(596221),l=a.i(883497),m=a.i(284505),n=a.i(669520),o=a.i(410227),p=a.i(641710);let q={pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:p.Clock},processing:{label:"Processing",color:"bg-blue-100 text-blue-800",icon:l.Package},shipped:{label:"Shipped",color:"bg-purple-100 text-purple-800",icon:o.Truck},delivered:{label:"Delivered",color:"bg-green-100 text-green-800",icon:l.Package},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800",icon:l.Package},PENDING:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:p.Clock},PROCESSING:{label:"Processing",color:"bg-blue-100 text-blue-800",icon:l.Package},SHIPPED:{label:"Shipped",color:"bg-purple-100 text-purple-800",icon:o.Truck},DELIVERED:{label:"Delivered",color:"bg-green-100 text-green-800",icon:l.Package},CANCELLED:{label:"Cancelled",color:"bg-red-100 text-red-800",icon:l.Package}},r={label:"Unknown",color:"bg-gray-100 text-gray-800",icon:l.Package};function s(){let{data:a,status:p}=(0,d.useSession)(),s=(0,e.useRouter)(),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)("all"),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!1);(0,c.useEffect)(()=>{"unauthenticated"===p&&s.push("/auth/signin")},[p,s]),(0,c.useEffect)(()=>{"authenticated"===p&&D()},[p,x]);let D=async()=>{try{w(!0);let a="all"===x?"/api/account/orders":`/api/account/orders?status=${x}`,b=await fetch(a);if(!b.ok)throw Error("Failed to fetch orders");let c=await b.json();u(c.orders||[])}catch(a){f.default.error("Failed to load orders"),console.error("Error fetching orders:",a)}finally{w(!1)}},E=async a=>{try{A(a);let b=await fetch(`/api/account/orders/${a}/reorder`,{method:"POST"});if(!b.ok)throw Error("Failed to reorder");await b.json(),f.default.success("Items added to cart!"),setTimeout(()=>{s.push("/cart")},1e3)}catch(a){f.default.error("Failed to reorder. Please try again."),console.error("Error reordering:",a)}finally{A(null)}},F=async()=>{try{C(!0);let a=await fetch("/api/account/orders/export?format=csv");if(!a.ok)throw Error("Failed to export orders");let b=await a.blob(),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`orders-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),f.default.success("Orders exported successfully!")}catch(a){f.default.error("Failed to export orders"),console.error("Error exporting orders:",a)}finally{C(!1)}},G=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),H=(a,b)=>{let c=b&&b.trim()?b.toUpperCase():"USD",d=/^[A-Z]{3}$/.test(c)?c:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:d}).format(a)};return"loading"===p||v?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-gray-500"})}):(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"My Orders"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"View and manage your orders"})]}),(0,b.jsx)(h.Button,{onClick:F,disabled:B||0===t.length,variant:"outline",className:"w-full sm:w-auto",children:B?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Exporting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Download,{className:"mr-2 h-4 w-4"}),"Export Orders"]})})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)(j.Select,{value:x,onValueChange:y,children:[(0,b.jsx)(j.SelectTrigger,{className:"w-full sm:w-[200px]",children:(0,b.jsx)(j.SelectValue,{placeholder:"Filter by status"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"All Orders"}),(0,b.jsx)(j.SelectItem,{value:"pending",children:"Pending"}),(0,b.jsx)(j.SelectItem,{value:"processing",children:"Processing"}),(0,b.jsx)(j.SelectItem,{value:"shipped",children:"Shipped"}),(0,b.jsx)(j.SelectItem,{value:"delivered",children:"Delivered"}),(0,b.jsx)(j.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})}),0===t.length?(0,b.jsx)(g.Card,{children:(0,b.jsxs)(g.CardContent,{className:"flex flex-col items-center justify-center py-16",children:[(0,b.jsx)(l.Package,{className:"h-16 w-16 text-gray-300 mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No orders found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6 text-center",children:"all"===x?"You haven't placed any orders yet.":`No ${x} orders found.`}),(0,b.jsx)(h.Button,{onClick:()=>s.push("/products"),children:"Start Shopping"})]})}):(0,b.jsx)("div",{className:"space-y-4",children:t.map(a=>{let c,d=q[c=a.status]||q[c.toLowerCase()]||r,e=d.icon;return(0,b.jsxs)(g.Card,{children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(g.CardTitle,{className:"text-lg",children:["Order #",a.orderNumber]}),(0,b.jsxs)(g.CardDescription,{children:["Placed on ",G(a.createdAt)]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(i.Badge,{className:`${d.color} flex items-center gap-1`,children:[(0,b.jsx)(e,{className:"h-3 w-3"}),d.label]})})]})}),(0,b.jsx)(g.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"space-y-3",children:a.items.map(c=>(0,b.jsxs)("div",{className:"flex items-center gap-4 pb-3 border-b last:border-b-0",children:[(0,b.jsx)("img",{src:c.productImage||"/placeholder.png",alt:c.productName,className:"w-16 h-16 object-cover rounded"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h4",{className:"font-medium truncate",children:c.productName}),c.variant&&(0,b.jsx)("p",{className:"text-sm text-gray-600",children:c.variant}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",c.quantity," Ã— ",H(c.price,a.currency)]})]})]},c.id))}),a.shippingAddress&&(0,b.jsxs)("div",{className:"pt-3 border-t",children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Shipping Address"}),(0,b.jsxs)("p",{className:"text-sm text-gray-700",children:[a.shippingAddress.fullName,(0,b.jsx)("br",{}),a.shippingAddress.addressLine1,a.shippingAddress.addressLine2&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("br",{}),a.shippingAddress.addressLine2]}),(0,b.jsx)("br",{}),a.shippingAddress.city,", ",a.shippingAddress.state," ",a.shippingAddress.postalCode,(0,b.jsx)("br",{}),a.shippingAddress.country]})]}),(a=>{if(!a.shippingInfo||"shipped"!==a.status)return null;let{trackingNumber:c,carrier:d,estimatedDelivery:e}=a.shippingInfo;return(0,b.jsxs)("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(o.Truck,{className:"h-5 w-5 text-purple-600"}),(0,b.jsx)("h4",{className:"font-semibold text-purple-900",children:"Tracking Information"})]}),(0,b.jsxs)("div",{className:"space-y-1 text-sm",children:[d&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Carrier:"})," ",d]}),c&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Tracking Number:"})," ",(0,b.jsx)("code",{className:"bg-purple-100 px-2 py-1 rounded",children:c})]}),e&&(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"font-medium",children:"Estimated Delivery:"})," ",G(e)]})]})]})})(a),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pt-3 border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Order Total"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:H(a.total,a.currency)})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>s.push(`/account/orders/${a.id}`),children:"View Details"}),(0,b.jsx)(h.Button,{onClick:()=>E(a.id),disabled:z===a.id||"cancelled"===a.status,children:z===a.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.RefreshCw,{className:"mr-2 h-4 w-4"}),"Reorder"]})})]})]})]})})]},a.id)})})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=_7ea33fa7._.js.map
//# debugId=9d198c46-5482-534f-ab43-65d6f7ae9f79
