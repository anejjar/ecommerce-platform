{"version":3,"sources":["../../../../src/components/admin/cms/editor/PageEditor.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/admin/%28protected%29/cms/pages/%5Bid%5D/editor/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PageEditor = registerClientReference(\n    function() { throw new Error(\"Attempted to call PageEditor() from the server but PageEditor is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/cms/editor/PageEditor.tsx\",\n    \"PageEditor\",\n);\n","import React from 'react';\r\nimport { notFound } from 'next/navigation';\r\nimport { prisma } from '@/lib/prisma';\r\nimport { PageEditor } from '@/components/admin/cms/editor/PageEditor';\r\n\r\ninterface EditorPageProps {\r\n    params: Promise<{\r\n        id: string;\r\n    }>;\r\n}\r\n\r\nexport default async function EditorPage({ params }: EditorPageProps) {\r\n    const { id } = await params;\r\n\r\n    // Debug logging\r\n    console.log('----------------------------------------');\r\n    console.log('[EditorPage] Debugging 404 error');\r\n    console.log('[EditorPage] Route params id:', id);\r\n    console.log('----------------------------------------');\r\n\r\n    const page = await prisma.page.findUnique({\r\n        where: { id },\r\n        include: {\r\n            blocks: {\r\n                include: {\r\n                    template: true\r\n                },\r\n                orderBy: {\r\n                    order: 'asc'\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    console.log('[EditorPage] Page query result:', page ? 'Found' : 'Null');\r\n\r\n    if (!page) {\r\n        console.log('[EditorPage] Triggering notFound()');\r\n        notFound();\r\n    }\r\n\r\n    const templates = await prisma.blockTemplate.findMany({\r\n        where: {\r\n            isActive: true\r\n        },\r\n        orderBy: {\r\n            name: 'asc'\r\n        }\r\n    });\r\n\r\n    return (\r\n        <PageEditor\r\n            page={{\r\n                ...page,\r\n                overridesStorefrontPage: page.overridesStorefrontPage ?? false,\r\n                overriddenPageType: page.overriddenPageType || null,\r\n            }}\r\n            templates={templates}\r\n        />\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":"yYAEO,IAAM,EAAa,CAAA,EAAA,AAD1B,EAAA,CAAA,CAAA,QAC0B,uBAAA,AAAuB,EAC7C,WAAa,MAAM,AAAI,MAAM,kOAAoO,EACjQ,+EACA,+DAHG,IAAM,EAAa,CAAA,EAAA,AAD1B,EAAA,CAAA,CAAA,QAC0B,uBAAA,AAAuB,EAC7C,WAAa,MAAM,AAAI,MAAM,kOAAoO,EACjQ,2DACA,8ICJJ,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OAQe,eAAe,EAAW,QAAE,CAAM,CAAmB,EAChE,GAAM,IAAE,CAAE,CAAE,CAAG,MAAM,EAGrB,QAAQ,GAAG,CAAC,4CACZ,QAAQ,GAAG,CAAC,oCACZ,QAAQ,GAAG,CAAC,gCAAiC,GAC7C,QAAQ,GAAG,CAAC,4CAEZ,IAAM,EAAO,MAAM,EAAA,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CACtC,MAAO,IAAE,CAAG,EACZ,QAAS,CACL,OAAQ,CACJ,QAAS,CACL,SAAU,EACd,EACA,QAAS,CACL,MAAO,KACX,CACJ,CACJ,CACJ,GAEA,QAAQ,GAAG,CAAC,kCAAmC,EAAO,QAAU,QAE3D,IACD,EADO,MACC,GAAG,CAAC,sCACZ,CAAA,EAAA,EAAA,QAAA,AAAQ,KAGZ,IAAM,EAAY,MAAM,EAAA,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAClD,MAAO,CACH,UAAU,CACd,EACA,QAAS,CACL,KAAM,KACV,CACJ,GAEA,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CACP,KAAM,CACF,GAAG,CAAI,CACP,wBAAyB,EAAK,uBAAuB,GAAI,EACzD,mBAAoB,EAAK,kBAAkB,EAAI,IACnD,EACA,UAAW,GAGvB","ignoreList":[0]}