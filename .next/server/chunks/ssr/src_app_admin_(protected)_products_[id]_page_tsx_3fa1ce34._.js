module.exports=[63423,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(699570),f=a.i(866718),g=a.i(870430),h=a.i(591119),i=a.i(182126),j=a.i(206015),k=a.i(786304);function l({productId:a,basePrice:d}){let[f,g]=(0,c.useState)([]),[i,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)({sku:"",price:"",comparePrice:"",stock:"0",image:"",selectedValues:{}});(0,c.useEffect)(()=>{A(),B()},[a]);let A=async()=>{try{let b=await fetch(`/api/products/${a}/variant-options`);if(b.ok){let a=await b.json();g(a)}}catch(a){console.error("Failed to fetch options")}finally{n(!1)}},B=async()=>{try{let b=await fetch(`/api/products/${a}/variants`);if(b.ok){let a=await b.json();l(a)}}catch(a){console.error("Failed to fetch variants")}},C=async b=>{b.preventDefault();let c=w.split(",").map(a=>a.trim()).filter(Boolean);if(!u||0===c.length)return void alert("Please provide option name and values");try{(await fetch(`/api/products/${a}/variant-options`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u,values:c})})).ok?(await A(),p(!1),v(""),x("")):alert("Failed to create option")}catch(a){alert("An error occurred")}},D=async b=>{if(confirm("Are you sure you want to delete this option? This will affect all variants."))try{(await fetch(`/api/products/${a}/variant-options/${b}`,{method:"DELETE"})).ok?(await A(),await B()):alert("Failed to delete option")}catch(a){alert("An error occurred")}},E=async b=>{b.preventDefault();let c=Object.values(y.selectedValues);if(f.length>0&&c.length!==f.length)return void alert("Please select a value for each option");try{(await fetch(`/api/products/${a}/variants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,optionValues:c})})).ok?(await B(),r(!1),H()):alert("Failed to create variant")}catch(a){alert("An error occurred")}},F=async b=>{if(b.preventDefault(),!s)return;let c=Object.values(y.selectedValues);try{(await fetch(`/api/products/${a}/variants/${s.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,optionValues:c})})).ok?(await B(),t(null),H()):alert("Failed to update variant")}catch(a){alert("An error occurred")}},G=async b=>{if(confirm("Are you sure you want to delete this variant?"))try{(await fetch(`/api/products/${a}/variants/${b}`,{method:"DELETE"})).ok?await B():alert("Failed to delete variant")}catch(a){alert("An error occurred")}},H=()=>{z({sku:"",price:"",comparePrice:"",stock:"0",image:"",selectedValues:{}})};return m?(0,b.jsx)("div",{children:"Loading..."}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(h.CardTitle,{children:"Variant Options"}),(0,b.jsx)(e.Button,{onClick:()=>p(!o),size:"sm",children:o?"Cancel":"Add Option"})]})}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[o&&(0,b.jsxs)("form",{onSubmit:C,className:"space-y-4 border p-4 rounded",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Option Name (e.g., Color, Size)"}),(0,b.jsx)("input",{type:"text",value:u,onChange:a=>v(a.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Color",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Values (comma-separated)"}),(0,b.jsx)("input",{type:"text",value:w,onChange:a=>x(a.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Red, Blue, Green",required:!0})]}),(0,b.jsx)(e.Button,{type:"submit",children:"Create Option"})]}),0===f.length?(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"No variant options. Add options like Size or Color to create variants."}):(0,b.jsx)("div",{className:"space-y-2",children:f.map(a=>(0,b.jsxs)("div",{className:"border p-3 rounded flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)("div",{className:"flex gap-2 mt-2",children:a.values.map(a=>(0,b.jsx)(k.Badge,{variant:"outline",children:a.value},a.id))})]}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>D(a.id),children:"Delete"})]},a.id))})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(h.CardTitle,{children:"Product Variants"}),f.length>0&&(0,b.jsx)(e.Button,{onClick:()=>{r(!0),t(null),H()},size:"sm",children:"Add Variant"})]})}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(q||s)&&(0,b.jsxs)("form",{onSubmit:s?F:E,className:"space-y-4 border p-4 rounded",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[f.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:a.name}),(0,b.jsxs)("select",{value:y.selectedValues[a.id]||"",onChange:b=>z({...y,selectedValues:{...y.selectedValues,[a.id]:b.target.value}}),className:"w-full px-3 py-2 border rounded-md",required:!0,children:[(0,b.jsxs)("option",{value:"",children:["Select ",a.name]}),a.values.map(a=>(0,b.jsx)("option",{value:a.value,children:a.value},a.id))]})]},a.id)),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SKU (optional)"}),(0,b.jsx)("input",{type:"text",value:y.sku,onChange:a=>z({...y,sku:a.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Price (leave empty to use base price: $",d,")"]}),(0,b.jsx)("input",{type:"number",step:"0.01",value:y.price,onChange:a=>z({...y,price:a.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Compare Price (optional)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:y.comparePrice,onChange:a=>z({...y,comparePrice:a.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Stock"}),(0,b.jsx)("input",{type:"number",value:y.stock,onChange:a=>z({...y,stock:a.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{type:"submit",children:s?"Update Variant":"Create Variant"}),(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>{r(!1),t(null),H()},children:"Cancel"})]})]}),0===i.length?(0,b.jsxs)("p",{className:"text-gray-500 text-sm",children:["No variants created yet. ",0===f.length&&"Add variant options first."]}):(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Options"}),(0,b.jsx)(j.TableHead,{children:"SKU"}),(0,b.jsx)(j.TableHead,{children:"Price"}),(0,b.jsx)(j.TableHead,{children:"Stock"}),(0,b.jsx)(j.TableHead,{children:"Actions"})]})}),(0,b.jsx)(j.TableBody,{children:i.map(a=>{let c=JSON.parse(a.optionValues);return(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{children:(0,b.jsx)("div",{className:"flex gap-1",children:c.map((a,c)=>(0,b.jsx)(k.Badge,{variant:"outline",children:a},c))})}),(0,b.jsx)(j.TableCell,{children:a.sku||"-"}),(0,b.jsxs)(j.TableCell,{children:["$",a.price||d.toFixed(2)]}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)(k.Badge,{className:a.stock>10?"bg-green-100 text-green-800":a.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:a.stock})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>{let b,c;return b=JSON.parse(a.optionValues),c={},void(f.forEach((a,d)=>{c[a.id]=b[d]||""}),z({sku:a.sku||"",price:a.price||"",comparePrice:a.comparePrice||"",stock:a.stock.toString(),image:a.image||"",selectedValues:c}),t(a))},children:"Edit"}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>G(a.id),children:"Delete"})]})})]},a.id)})})]})]})]})]})}function m({productId:a,currentStock:d}){let[i,j]=(0,c.useState)("10"),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!0);(0,c.useEffect)(()=>{q()},[a]);let q=async()=>{try{let b=await fetch(`/api/stock-alerts/${a}`);if(b.ok){let a=await b.json();a&&(j(a.threshold.toString()),l(!0))}}catch(a){console.error("Failed to fetch stock alert")}finally{p(!1)}},r=async()=>{n(!0);try{k?(await fetch(`/api/stock-alerts/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threshold:parseInt(i)})})).ok?alert("Stock alert configured successfully"):alert("Failed to configure stock alert"):(await fetch(`/api/stock-alerts/${a}`,{method:"DELETE"})).ok?alert("Stock alert removed successfully"):alert("Failed to remove stock alert")}catch(a){alert("An error occurred")}finally{n(!1)}};if(o)return(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"Loading..."});let s=d<=parseInt(i);return(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:"Stock Alert"})}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"enableAlert",checked:k,onChange:a=>l(a.target.checked),className:"rounded"}),(0,b.jsx)(g.Label,{htmlFor:"enableAlert",children:"Enable low stock alerts for this product"})]}),k&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"threshold",children:"Alert when stock falls below:"}),(0,b.jsx)(f.Input,{id:"threshold",type:"number",value:i,onChange:a=>j(a.target.value),min:"0"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"You'll be notified when stock reaches this level"})]}),(0,b.jsxs)("div",{className:"p-3 bg-gray-50 rounded border",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Current Status:"}),s?(0,b.jsxs)("p",{className:"text-sm text-red-600 font-medium",children:["⚠️ Stock is currently below threshold (",d," / ",i,")"]}):(0,b.jsxs)("p",{className:"text-sm text-green-600",children:["✓ Stock is above threshold (",d," / ",i,")"]})]})]}),(0,b.jsx)(e.Button,{onClick:r,disabled:m,children:m?"Saving...":"Save Alert Settings"})]})]})}var n=a.i(429246),o=a.i(875083),p=a.i(406704),q=a.i(244494),r=a.i(533441),s=a.i(292e3),t=a.i(596221),u=a.i(963578);function v({productId:a,productName:d}){let[i,j]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(u.locales[1]||"fr");(0,c.useEffect)(()=>{z()},[a]);let z=async()=>{try{let b=await fetch(`/api/admin/products/${a}/translations`);if(b.ok){let a=await b.json();j(a.translations||[])}}catch(a){console.error("Failed to fetch translations:",a),p.toast.error("Failed to load translations")}finally{m(!1)}},A=a=>{let b=i.find(b=>b.locale===a);return b||{locale:a,name:"",description:"",slug:"",metaTitle:"",metaDescription:""}},B=(a,b,c)=>{let d={...A(a),[b]:c},e=i.findIndex(b=>b.locale===a);if(e>=0){let a=[...i];a[e]=d,j(a)}else j([...i,d])},C=async b=>{let c=A(b);if(!c.name||!c.slug)return void p.toast.error("Name and slug are required");w(b);try{let d=await fetch(`/api/admin/products/${a}/translations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(d.ok)p.toast.success(`Translation saved for ${b.toUpperCase()}`),await z();else{let a=await d.json();p.toast.error(a.error||"Failed to save translation")}}catch(a){console.error("Failed to save translation:",a),p.toast.error("Failed to save translation")}finally{w(null)}},D=async b=>{if(confirm(`Delete ${b.toUpperCase()} translation?`))try{(await fetch(`/api/admin/products/${a}/translations/${b}`,{method:"DELETE"})).ok?(p.toast.success(`Translation deleted for ${b.toUpperCase()}`),j(i.filter(a=>a.locale!==b))):p.toast.error("Failed to delete translation")}catch(a){console.error("Failed to delete translation:",a),p.toast.error("Failed to delete translation")}},E=a=>{let b=i.find(b=>b.locale===a);return b&&b.id?b.name&&b.description&&b.slug?"complete":"partial":"missing"};if(l)return(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Globe,{className:"h-5 w-5"}),"Translations"]})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(t.Loader2,{className:"h-6 w-6 animate-spin text-gray-400"})})})]});let F=u.locales.filter(a=>"en"!==a);return(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Globe,{className:"h-5 w-5"}),"Translations"]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:['Manage translations for "',d,'"']})]}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)(o.Tabs,{value:x,onValueChange:a=>y(a),children:[(0,b.jsx)(o.TabsList,{className:"grid w-full",style:{gridTemplateColumns:`repeat(${F.length}, 1fr)`},children:F.map(a=>{let c=E(a);return(0,b.jsxs)(o.TabsTrigger,{value:a,className:"relative",children:[a.toUpperCase(),"complete"===c&&(0,b.jsx)(r.Check,{className:"h-3 w-3 text-green-500 absolute top-1 right-1"}),"partial"===c&&(0,b.jsx)(s.AlertCircle,{className:"h-3 w-3 text-yellow-500 absolute top-1 right-1"})]},a)})}),F.map(a=>{let c=A(a),d=E(a);return(0,b.jsxs)(o.TabsContent,{value:a,className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(k.Badge,{variant:"complete"===d?"default":"partial"===d?"secondary":"outline",children:["complete"===d&&"Complete","partial"===d&&"Partial","missing"===d&&"Not Translated"]}),c.id&&(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>D(a),children:"Delete"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:`name-${a}`,children:["Product Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(f.Input,{id:`name-${a}`,value:c.name,onChange:b=>B(a,"name",b.target.value),placeholder:"Translated product name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:`slug-${a}`,children:["Slug ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{id:`slug-${a}`,value:c.slug,onChange:b=>B(a,"slug",b.target.value),placeholder:"product-slug"}),(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>{B(a,"slug",c.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))},disabled:!c.name,children:"Generate"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:`description-${a}`,children:"Description"}),(0,b.jsx)(n.Textarea,{id:`description-${a}`,value:c.description,onChange:b=>B(a,"description",b.target.value),placeholder:"Translated product description",rows:4})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:`metaTitle-${a}`,children:"Meta Title (SEO)"}),(0,b.jsx)(f.Input,{id:`metaTitle-${a}`,value:c.metaTitle||"",onChange:b=>B(a,"metaTitle",b.target.value),placeholder:"SEO meta title"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:`metaDescription-${a}`,children:"Meta Description (SEO)"}),(0,b.jsx)(n.Textarea,{id:`metaDescription-${a}`,value:c.metaDescription||"",onChange:b=>B(a,"metaDescription",b.target.value),placeholder:"SEO meta description",rows:3}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[c.metaDescription?.length||0," / 160 characters"]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsx)(e.Button,{onClick:()=>C(a),disabled:v===a||!c.name||!c.slug,children:v===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Translation"})})]},a)})]})})]})}var w=a.i(814574),x=a.i(580701),y=a.i(486192),z=a.i(134148),A=a.i(393498),B=a.i(2835),C=a.i(405784),D=a.i(65151),E=a.i(684395),E=E,F=a.i(154347),G=a.i(773320),H=a.i(941675),I=a.i(997528),I=I,J=a.i(781560),K=a.i(915618),L=a.i(633508),M=a.i(790166),N=a.i(784581);let O=[{value:"TEXT",label:"Text Input",icon:z.Type},{value:"TEXTAREA",label:"Text Area",icon:A.AlignLeft},{value:"NUMBER",label:"Number",icon:B.Hash},{value:"DROPDOWN",label:"Dropdown",icon:C.ChevronDown},{value:"RADIO",label:"Radio Buttons",icon:D.Circle},{value:"CHECKBOX",label:"Checkboxes",icon:E.default},{value:"COLOR",label:"Color Picker",icon:F.Palette},{value:"FILE",label:"File Upload",icon:G.Upload},{value:"DATE",label:"Date Picker",icon:H.Calendar}],P=[{value:"fixed",label:"Fixed Amount ($)"},{value:"percentage",label:"Percentage (%)"}];function Q({productId:a}){let[d,i]=(0,c.useState)([]),[j,l]=(0,c.useState)(!0),[m,o]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),[A,B]=(0,c.useState)({type:"TEXT",label:"",placeholder:"",helpText:"",required:!1,minLength:"",maxLength:"",minValue:"",maxValue:"",pattern:"",maxFileSize:"",allowedTypes:"",priceModifier:"",priceModifierType:"fixed",options:[]});(0,c.useEffect)(()=>{C()},[a]);let C=async()=>{try{l(!0);let b=await fetch(`/api/admin/products/${a}/customization-fields`);if(b.ok){let a=await b.json();i(a.fields||[])}else p.default.error("Failed to load customization fields")}catch(a){console.error("Error fetching fields:",a),p.default.error("An error occurred while loading fields")}finally{l(!1)}},D=()=>{B({type:"TEXT",label:"",placeholder:"",helpText:"",required:!1,minLength:"",maxLength:"",minValue:"",maxValue:"",pattern:"",maxFileSize:"",allowedTypes:"",priceModifier:"",priceModifierType:"fixed",options:[]}),r(null)},E=a=>{a?(r(a),B({type:a.type,label:a.label,placeholder:a.placeholder||"",helpText:a.helpText||"",required:a.required,minLength:a.minLength?.toString()||"",maxLength:a.maxLength?.toString()||"",minValue:a.minValue?.toString()||"",maxValue:a.maxValue?.toString()||"",pattern:a.pattern||"",maxFileSize:a.maxFileSize?.toString()||"",allowedTypes:a.allowedTypes||"",priceModifier:a.priceModifier.toString(),priceModifierType:a.priceModifierType,options:a.options||[]})):D(),o(!0)},F=()=>{o(!1),D()},G=async b=>{b.preventDefault(),v(!0);try{if(!A.label.trim()){p.default.error("Label is required"),v(!1);return}if(["DROPDOWN","RADIO","CHECKBOX"].includes(A.type)&&0===A.options.length){p.default.error(`Please add at least one option for ${A.type} field`),v(!1);return}let b={type:A.type,label:A.label,placeholder:A.placeholder||null,helpText:A.helpText||null,required:A.required,minLength:A.minLength?parseInt(A.minLength):null,maxLength:A.maxLength?parseInt(A.maxLength):null,minValue:A.minValue?parseFloat(A.minValue):null,maxValue:A.maxValue?parseFloat(A.maxValue):null,pattern:A.pattern||null,maxFileSize:A.maxFileSize?parseInt(A.maxFileSize):null,allowedTypes:A.allowedTypes||null,priceModifier:A.priceModifier?parseFloat(A.priceModifier):0,priceModifierType:A.priceModifierType,options:["DROPDOWN","RADIO","CHECKBOX"].includes(A.type)?A.options.map((a,b)=>({label:a.label,value:a.value,position:b,priceModifier:a.priceModifier||null})):void 0},c=q?`/api/admin/products/${a}/customization-fields/${q.id}`:`/api/admin/products/${a}/customization-fields`,d=q?"PATCH":"POST",e=await fetch(c,{method:d,headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(e.ok)p.default.success(q?"Field updated successfully":"Field created successfully"),await C(),F();else{let a=await e.json();p.default.error(a.error||"Failed to save field")}}catch(a){console.error("Error saving field:",a),p.default.error("An error occurred while saving")}finally{v(!1)}},H=async()=>{if(s)try{(await fetch(`/api/admin/products/${a}/customization-fields/${s}`,{method:"DELETE"})).ok?(p.default.success("Field deleted successfully"),await C()):p.default.error("Failed to delete field")}catch(a){console.error("Error deleting field:",a),p.default.error("An error occurred while deleting")}finally{t(null)}},Q=()=>{B({...A,options:[...A.options,{label:"",value:"",priceModifier:null}]})},R=(a,b,c)=>{let d=[...A.options];d[a]={...d[a],[b]:c},B({...A,options:d})};return j?(0,b.jsx)(h.Card,{children:(0,b.jsx)(h.CardContent,{className:"py-12",children:(0,b.jsx)("div",{className:"text-center text-gray-500",children:"Loading customization fields..."})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.CardTitle,{children:"Product Customization Fields"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add custom fields for customers to personalize this product"})]}),(0,b.jsxs)(e.Button,{onClick:()=>E(),size:"sm",children:[(0,b.jsx)(K.Plus,{className:"w-4 h-4 mr-2"}),"Add Field"]})]})}),(0,b.jsx)(h.CardContent,{children:0===d.length?(0,b.jsx)("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(z.Type,{className:"w-8 h-8 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900",children:"No customization fields"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add fields to allow customers to customize this product"})]}),(0,b.jsxs)(e.Button,{onClick:()=>E(),className:"mt-2",children:[(0,b.jsx)(K.Plus,{className:"w-4 h-4 mr-2"}),"Add First Field"]})]})}):(0,b.jsx)("div",{className:"space-y-3",children:d.map(a=>{var c;let d,f=(c=a.type,(d=O.find(a=>a.value===c))?d.icon:z.Type);return(0,b.jsx)(h.Card,{className:"border border-gray-200",children:(0,b.jsx)(h.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)(N.GripVertical,{className:"w-5 h-5 text-gray-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(f,{className:"w-4 h-4 text-gray-600"}),(0,b.jsx)("h4",{className:"font-medium text-gray-900",children:a.label}),a.required&&(0,b.jsx)(k.Badge,{variant:"outline",className:"text-xs bg-red-50 text-red-700 border-red-200",children:"Required"}),(0,b.jsx)(k.Badge,{variant:"outline",className:"text-xs",children:O.find(b=>b.value===a.type)?.label||a.type})]}),a.helpText&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:a.helpText}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-gray-600",children:[a.placeholder&&(0,b.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Placeholder: ",a.placeholder]}),0!==a.priceModifier&&(0,b.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded flex items-center gap-1",children:[(0,b.jsx)(M.DollarSign,{className:"w-3 h-3"}),"percentage"===a.priceModifierType?`${a.priceModifier}%`:`$${a.priceModifier}`]}),a.minLength&&(0,b.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Min Length: ",a.minLength]}),a.maxLength&&(0,b.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Max Length: ",a.maxLength]}),a.minValue&&(0,b.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Min: ",a.minValue]}),a.maxValue&&(0,b.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Max: ",a.maxValue]})]}),a.options&&a.options.length>0&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Options:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.options.map(a=>(0,b.jsxs)(k.Badge,{variant:"outline",className:"text-xs",children:[a.label,a.priceModifier&&(0,b.jsxs)("span",{className:"ml-1 text-green-600",children:["(+$",a.priceModifier,")"]})]},a.id))})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>E(a),children:(0,b.jsx)(I.default,{className:"w-4 h-4"})}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>t(a.id),children:(0,b.jsx)(J.Trash2,{className:"w-4 h-4 text-red-600"})})]})]})})},a.id)})})})]}),(0,b.jsx)(w.Dialog,{open:m,onOpenChange:o,children:(0,b.jsxs)(w.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(w.DialogHeader,{children:(0,b.jsx)(w.DialogTitle,{children:q?"Edit Customization Field":"Add Customization Field"})}),(0,b.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"type",children:"Field Type *"}),(0,b.jsxs)(x.Select,{value:A.type,onValueChange:a=>B({...A,type:a}),children:[(0,b.jsx)(x.SelectTrigger,{children:(0,b.jsx)(x.SelectValue,{})}),(0,b.jsx)(x.SelectContent,{children:O.map(a=>{let c=a.icon;return(0,b.jsx)(x.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a.label})]})},a.value)})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"label",children:"Label *"}),(0,b.jsx)(f.Input,{id:"label",value:A.label,onChange:a=>B({...A,label:a.target.value}),placeholder:"e.g., Engraving Text",required:!0})]}),["TEXT","TEXTAREA","NUMBER"].includes(A.type)&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"placeholder",children:"Placeholder"}),(0,b.jsx)(f.Input,{id:"placeholder",value:A.placeholder,onChange:a=>B({...A,placeholder:a.target.value}),placeholder:"e.g., Enter your text here..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"helpText",children:"Help Text"}),(0,b.jsx)(n.Textarea,{id:"helpText",value:A.helpText,onChange:a=>B({...A,helpText:a.target.value}),placeholder:"Additional instructions for customers",rows:2})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"required",checked:A.required,onChange:a=>B({...A,required:a.target.checked}),className:"rounded"}),(0,b.jsx)(g.Label,{htmlFor:"required",className:"cursor-pointer",children:"Required field"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"priceModifier",children:"Price Modifier"}),(0,b.jsx)(f.Input,{id:"priceModifier",type:"number",step:"0.01",value:A.priceModifier,onChange:a=>B({...A,priceModifier:a.target.value}),placeholder:"0.00"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"priceModifierType",children:"Modifier Type"}),(0,b.jsxs)(x.Select,{value:A.priceModifierType,onValueChange:a=>B({...A,priceModifierType:a}),children:[(0,b.jsx)(x.SelectTrigger,{children:(0,b.jsx)(x.SelectValue,{})}),(0,b.jsx)(x.SelectContent,{children:P.map(a=>(0,b.jsx)(x.SelectItem,{value:a.value,children:a.label},a.value))})]})]})]}),["TEXT","TEXTAREA"].includes(A.type)&&(0,b.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,b.jsx)("h4",{className:"font-medium text-sm",children:"Text Validation"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"minLength",children:"Min Length"}),(0,b.jsx)(f.Input,{id:"minLength",type:"number",value:A.minLength,onChange:a=>B({...A,minLength:a.target.value}),placeholder:"0"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"maxLength",children:"Max Length"}),(0,b.jsx)(f.Input,{id:"maxLength",type:"number",value:A.maxLength,onChange:a=>B({...A,maxLength:a.target.value}),placeholder:"Unlimited"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"pattern",children:"Pattern (Regex)"}),(0,b.jsx)(f.Input,{id:"pattern",value:A.pattern,onChange:a=>B({...A,pattern:a.target.value}),placeholder:"e.g., ^[A-Za-z0-9]+$"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Regular expression pattern for validation"})]})]}),"NUMBER"===A.type&&(0,b.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,b.jsx)("h4",{className:"font-medium text-sm",children:"Number Validation"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"minValue",children:"Min Value"}),(0,b.jsx)(f.Input,{id:"minValue",type:"number",step:"0.01",value:A.minValue,onChange:a=>B({...A,minValue:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"maxValue",children:"Max Value"}),(0,b.jsx)(f.Input,{id:"maxValue",type:"number",step:"0.01",value:A.maxValue,onChange:a=>B({...A,maxValue:a.target.value})})]})]})]}),"FILE"===A.type&&(0,b.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,b.jsx)("h4",{className:"font-medium text-sm",children:"File Upload Settings"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"maxFileSize",children:"Max File Size (KB)"}),(0,b.jsx)(f.Input,{id:"maxFileSize",type:"number",value:A.maxFileSize,onChange:a=>B({...A,maxFileSize:a.target.value}),placeholder:"5120"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"allowedTypes",children:"Allowed MIME Types"}),(0,b.jsx)(f.Input,{id:"allowedTypes",value:A.allowedTypes,onChange:a=>B({...A,allowedTypes:a.target.value}),placeholder:"e.g., image/jpeg,image/png,application/pdf"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Comma-separated list of allowed MIME types"})]})]}),["DROPDOWN","RADIO","CHECKBOX"].includes(A.type)&&(0,b.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"font-medium text-sm",children:"Options *"}),(0,b.jsxs)(e.Button,{type:"button",onClick:Q,size:"sm",variant:"outline",children:[(0,b.jsx)(K.Plus,{className:"w-4 h-4 mr-2"}),"Add Option"]})]}),0===A.options.length?(0,b.jsxs)("div",{className:"text-center py-4 border-2 border-dashed rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"No options added yet"}),(0,b.jsx)(e.Button,{type:"button",onClick:Q,size:"sm",className:"mt-2",children:"Add First Option"})]}):(0,b.jsx)("div",{className:"space-y-3",children:A.options.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-2 items-start p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Label *"}),(0,b.jsx)(f.Input,{value:a.label,onChange:a=>R(c,"label",a.target.value),placeholder:"Small",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Value *"}),(0,b.jsx)(f.Input,{value:a.value,onChange:a=>R(c,"value",a.target.value),placeholder:"small",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(g.Label,{className:"text-xs",children:"Price (+$)"}),(0,b.jsx)(f.Input,{type:"number",step:"0.01",value:a.priceModifier||"",onChange:a=>R(c,"priceModifier",a.target.value?parseFloat(a.target.value):null),placeholder:"0.00"})]})]}),(0,b.jsx)(e.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{let a;return a=A.options.filter((a,b)=>b!==c),void B({...A,options:a})},className:"mt-6",children:(0,b.jsx)(L.X,{className:"w-4 h-4 text-red-600"})})]},c))})]}),(0,b.jsxs)(w.DialogFooter,{children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:F,disabled:u,children:"Cancel"}),(0,b.jsx)(e.Button,{type:"submit",disabled:u,children:u?"Saving...":q?"Update Field":"Create Field"})]})]})]})}),(0,b.jsx)(y.AlertDialog,{open:!!s,onOpenChange:()=>t(null),children:(0,b.jsxs)(y.AlertDialogContent,{children:[(0,b.jsxs)(y.AlertDialogHeader,{children:[(0,b.jsx)(y.AlertDialogTitle,{children:"Delete Customization Field"}),(0,b.jsx)(y.AlertDialogDescription,{children:"Are you sure you want to delete this field? This action cannot be undone. Customers will no longer be able to customize this product using this field."})]}),(0,b.jsxs)(y.AlertDialogFooter,{children:[(0,b.jsx)(y.AlertDialogCancel,{children:"Cancel"}),(0,b.jsx)(y.AlertDialogAction,{onClick:H,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}var R=a.i(630277),S=a.i(114548);function T({params:a}){let j=(0,d.useRouter)(),{id:k}=(0,c.use)(a),n=(0,c.useRef)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!0),[u,w]=(0,c.useState)({}),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)({name:"",slug:"",description:"",price:"",comparePrice:"",stock:"",sku:"",categoryId:"",published:!0,featured:!1});(0,c.useEffect)(()=>{E(),D()},[]);let D=async()=>{try{let a=await fetch("/api/categories");if(a.ok){let b=await a.json();y(b)}}catch(a){console.error("Failed to fetch categories")}},E=async()=>{try{let a=await fetch(`/api/products/${k}`);if(a.ok){let b=await a.json();C({name:b.name,slug:b.slug,description:b.description||"",price:b.price.toString(),comparePrice:b.comparePrice?b.comparePrice.toString():"",stock:b.stock.toString(),sku:b.sku||"",categoryId:b.categoryId||"",published:b.published,featured:b.featured||!1});let c=await fetch(`/api/product-images?productId=${k}`);if(c.ok){let a=await c.json();A(a)}}}catch(a){console.error("Failed to fetch product")}finally{t(!1)}},F=async a=>{a.preventDefault(),w({}),r(!0);let b={};if(B.name.trim()||(b.name="Product name is required"),B.slug.trim()||(b.slug="Slug is required"),(!B.price||0>=parseFloat(B.price))&&(b.price="Valid price is required"),(!B.stock||0>parseInt(B.stock))&&(b.stock="Valid stock quantity is required"),Object.keys(b).length>0){w(b),r(!1),p.default.error("Please fix the errors in the form");return}try{let a=await fetch(`/api/products/${k}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...B,price:parseFloat(B.price),comparePrice:B.comparePrice?parseFloat(B.comparePrice):null,stock:parseInt(B.stock),categoryId:B.categoryId||null})}),b=await a.json();if(a.ok){let a=z.filter(a=>a.file);if(a.length>0)try{for(let b of a){let a=new FormData;a.append("file",b.file),a.append("productId",k),a.append("alt",b.alt||""),a.append("isPrimary",b.isPrimary?"true":"false"),(await fetch("/api/product-images",{method:"POST",body:a})).ok||console.error("Failed to upload image:",b.alt||"unnamed")}}catch(a){console.error("Error uploading images:",a),p.default.error("Product updated but some images failed to upload")}p.default.success("Product updated successfully"),j.refresh()}else b.errors?(w(b.errors),p.default.error("Please fix the errors in the form")):p.default.error(b.message||"Failed to update product")}catch(a){console.error("Error updating product:",a),p.default.error("An unexpected error occurred. Please try again.")}finally{r(!1)}},G=a=>{let{name:b,value:c}=a.target;C(a=>({...a,[b]:c}))};return s?(0,b.jsx)("div",{className:"text-center py-12",children:"Loading..."}):(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,b.jsxs)(e.Button,{onClick:a=>{a.preventDefault(),n.current&&F({preventDefault:()=>{},currentTarget:n.current,target:n.current})},disabled:q,size:"lg",className:"shadow-lg",children:[(0,b.jsx)(S.Save,{className:"w-5 h-5 mr-2"}),q?"Saving...":"Save Product"]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Product"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Update product details"})]}),(0,b.jsxs)(o.Tabs,{defaultValue:"details",className:"w-full",children:[(0,b.jsxs)(o.TabsList,{children:[(0,b.jsx)(o.TabsTrigger,{value:"details",children:"Product Details"}),(0,b.jsx)(o.TabsTrigger,{value:"customization",children:"Customization"}),(0,b.jsx)(o.TabsTrigger,{value:"variants",children:"Variants"}),(0,b.jsx)(o.TabsTrigger,{value:"translations",children:"Translations"})]}),(0,b.jsxs)(o.TabsContent,{value:"details",className:"space-y-6",children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:"Product Details"})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("form",{ref:n,onSubmit:F,children:[(0,b.jsxs)(o.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,b.jsxs)(o.TabsList,{className:"grid w-full grid-cols-5",children:[(0,b.jsx)(o.TabsTrigger,{value:"basic",children:"Basic Info"}),(0,b.jsx)(o.TabsTrigger,{value:"description",children:"Description"}),(0,b.jsx)(o.TabsTrigger,{value:"pricing",children:"Pricing & Inventory"}),(0,b.jsx)(o.TabsTrigger,{value:"images",children:"Images"}),(0,b.jsx)(o.TabsTrigger,{value:"advanced",children:"Advanced"})]}),(0,b.jsx)(o.TabsContent,{value:"basic",className:"space-y-4 mt-6",children:(0,b.jsxs)("div",{className:"max-w-2xl space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"name",children:"Product Name *"}),(0,b.jsx)(f.Input,{id:"name",name:"name",value:B.name,onChange:G,required:!0,className:u.name?"border-red-500":""}),u.name&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:u.name})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"slug",children:"Slug *"}),(0,b.jsx)(f.Input,{id:"slug",name:"slug",value:B.slug,onChange:G,required:!0,className:u.slug?"border-red-500":""}),u.slug&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:u.slug})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"categoryId",children:"Category"}),(0,b.jsxs)("select",{id:"categoryId",name:"categoryId",value:B.categoryId,onChange:G,className:"w-full px-3 py-2 border rounded-md",children:[(0,b.jsx)("option",{value:"",children:"No Category"}),x.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]})}),(0,b.jsx)(o.TabsContent,{value:"description",className:"mt-6",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Description"}),(0,b.jsx)(R.ProductDescriptionBuilder,{content:B.description,onChange:a=>C(b=>({...b,description:a}))}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Add blocks from the sidebar to create a compelling product description. Click blocks to edit them."})]})}),(0,b.jsx)(o.TabsContent,{value:"pricing",className:"space-y-4 mt-6",children:(0,b.jsxs)("div",{className:"max-w-2xl space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"price",children:"Price *"}),(0,b.jsx)(f.Input,{id:"price",name:"price",type:"number",step:"0.01",value:B.price,onChange:G,required:!0,className:u.price?"border-red-500":""}),u.price&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:u.price})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"comparePrice",children:"Compare at Price"}),(0,b.jsx)(f.Input,{id:"comparePrice",name:"comparePrice",type:"number",step:"0.01",value:B.comparePrice,onChange:G,placeholder:"0.00"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Original price (for showing discounts)"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"stock",children:"Stock *"}),(0,b.jsx)(f.Input,{id:"stock",name:"stock",type:"number",value:B.stock,onChange:G,required:!0,className:u.stock?"border-red-500":""}),u.stock&&(0,b.jsx)("p",{className:"text-sm text-red-500",children:u.stock})]})]})}),(0,b.jsx)(o.TabsContent,{value:"images",className:"mt-6",children:(0,b.jsx)("div",{className:"max-w-2xl space-y-2",children:(0,b.jsx)(i.ImageUpload,{productId:k,initialImages:z,onImagesChange:A})})}),(0,b.jsx)(o.TabsContent,{value:"advanced",className:"space-y-4 mt-6",children:(0,b.jsxs)("div",{className:"max-w-2xl space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"sku",children:"SKU"}),(0,b.jsx)(f.Input,{id:"sku",name:"sku",value:B.sku,onChange:G})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium",children:"Product Options"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"published",checked:B.published,onChange:a=>C(b=>({...b,published:a.target.checked})),className:"rounded"}),(0,b.jsx)(g.Label,{htmlFor:"published",children:"Publish product"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"featured",checked:B.featured,onChange:a=>C(b=>({...b,featured:a.target.checked})),className:"rounded"}),(0,b.jsx)(g.Label,{htmlFor:"featured",children:"Featured"}),(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"(Highlight in storefront)"})]})]})]})})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-6 mt-6 border-t",children:[(0,b.jsx)(e.Button,{type:"submit",disabled:q,children:q?"Updating...":"Update Product"}),(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>j.back(),disabled:q,children:"Cancel"})]})]})})]}),(0,b.jsx)(m,{productId:k,currentStock:parseInt(B.stock)||0})]}),(0,b.jsx)(o.TabsContent,{value:"customization",className:"space-y-6",children:(0,b.jsx)(Q,{productId:k})}),(0,b.jsx)(o.TabsContent,{value:"variants",className:"space-y-6",children:(0,b.jsx)(l,{productId:k,basePrice:parseFloat(B.price)||0})}),(0,b.jsx)(o.TabsContent,{value:"translations",className:"space-y-6",children:(0,b.jsx)(v,{productId:k,productName:B.name})})]})]})}a.s(["default",()=>T],63423)}];

!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5f5d4d89-0336-5c91-9eb9-ccbef5f11839")}catch(e){}}();
//# sourceMappingURL=src_app_admin_%28protected%29_products_%5Bid%5D_page_tsx_3fa1ce34._.js.map
//# debugId=5f5d4d89-0336-5c91-9eb9-ccbef5f11839
