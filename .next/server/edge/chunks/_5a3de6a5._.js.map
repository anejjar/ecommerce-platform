{"version":3,"sources":["turbopack:///[project]/edge-wrapper.js","turbopack:///[project]/src/instrumentation.ts","turbopack:///[project]/node_modules/@sentry/nextjs/src/common/captureRequestError.ts"],"sourcesContent":["self._ENTRIES ||= {};\nconst modProm = import('MODULE');\nmodProm.catch(() => {});\nself._ENTRIES[\"middleware_instrumentation\"] = new Proxy(modProm, {\n    get(modProm, name) {\n        if (name === \"then\") {\n            return (res, rej) => modProm.then(res, rej);\n        }\n        let result = (...args) => modProm.then((mod) => (0, mod[name])(...args));\n        result.then = (res, rej) => modProm.then((mod) => mod[name]).then(res, rej);\n        return result;\n    },\n});\n",";globalThis[\"_sentryNextJsVersion\"] = \"16.0.3\";globalThis[\"_sentryRewritesTunnelPath\"] = \"/monitoring\";import * as Sentry from '@sentry/nextjs';\n\nexport async function register() {\n  if (process.env.NEXT_RUNTIME === 'nodejs') {\n    await import('../sentry.server.config');\n  }\n\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    await import('../sentry.edge.config');\n  }\n}\n\nexport const onRequestError = Sentry.captureRequestError;\n","import type { RequestEventData } from '@sentry/core';\nimport { captureException, headersToDict, withScope } from '@sentry/core';\nimport { flushSafelyWithTimeout, waitUntil } from './utils/responseEnd';\n\ntype RequestInfo = {\n  path: string;\n  method: string;\n  headers: Record<string, string | string[] | undefined>;\n};\n\ntype ErrorContext = {\n  routerKind: string; // 'Pages Router' | 'App Router'\n  routePath: string;\n  routeType: string; // 'render' | 'route' | 'middleware'\n};\n\n/**\n * Reports errors passed to the the Next.js `onRequestError` instrumentation hook.\n */\nexport function captureRequestError(error: unknown, request: RequestInfo, errorContext: ErrorContext): void {\n  withScope(scope => {\n    scope.setSDKProcessingMetadata({\n      normalizedRequest: {\n        headers: headersToDict(request.headers),\n        method: request.method,\n      } satisfies RequestEventData,\n    });\n\n    scope.setContext('nextjs', {\n      request_path: request.path,\n      router_kind: errorContext.routerKind,\n      router_path: errorContext.routePath,\n      route_type: errorContext.routeType,\n    });\n\n    scope.setTransactionName(errorContext.routePath);\n\n    captureException(error, {\n      mechanism: {\n        handled: false,\n        type: 'auto.function.nextjs.on_request_error',\n      },\n    });\n\n    waitUntil(flushSafelyWithTimeout());\n  });\n}\n"],"names":[],"mappings":";;iGAAA,KAAK,QAAQ,GAAK,CAAC,EACnB,IAAM,EAAA,QAAA,OAAA,GAAA,IAAA,CAAA,IAAA,EAAA,CAAA,CAAA,SACN,EAAQ,KAAK,CAAC,KAAO,GACrB,KAAK,QAAQ,CAAC,0BAA6B,CAAG,IAAI,MAAM,EAAS,CAC7D,IAAI,CAAO,CAAE,CAAI,EACb,GAAa,QAAQ,CAAjB,EACA,MAAO,CAAC,EAAK,IAAQ,EAAQ,IAAI,CAAC,EAAK,GAE3C,IAAI,EAAS,CAAC,GAAG,IAAS,EAAQ,IAAI,CAAC,AAAC,GAAQ,CAAC,EAAG,CAAG,CAAC,EAAA,AAAK,KAAK,IAElE,OADA,EAAO,IAAI,CAAG,CAAC,EAAK,IAAQ,EAAQ,IAAI,CAAC,AAAC,GAAQ,CAAG,CAAC,EAAK,EAAE,IAAI,CAAC,EAAK,GAChE,CACX,CACJ,wFCVO,eAAe,IAMlB,MAAA,QAAA,OAAA,GAAA,IAAA,CAAA,IAAA,EAAA,CAAA,CAAA,QAEJ,CAVC,UAAU,CAAC,oBAAuB,CAAG,SAAS,UAAU,CAAC,yBAA4B,CAAG,sCCmBlF,SAAS,AAAoB,CAAK,CAAW,CAAO,CAAe,CAAY,EAAsB,YAAzE,EACxB,EAAC,IAAA,EACF,EADW,sBACa,CAAC,CAC7B,iBAAiB,CAAE,CACjB,OAAO,CAAA,CAAA,EAAE,EAAA,aAAA,AAAa,EAAC,EAAQ,KAAD,EAAQ,CAAC,CACvC,MAAM,CAAE,EAAQ,KAAD,CAAO,AAC9B,CACA,CAAK,CAAC,CAEF,EAAM,GAAD,OAAW,CAAC,QAAQ,CAAE,CACzB,YAAY,CAAE,EAAQ,IAAI,CAAL,AACrB,WAAW,CAAE,EAAa,UAAD,AAAW,CACpC,WAAW,CAAE,EAAa,SAAS,CAAV,AACzB,UAAU,CAAE,EAAa,SAAS,AACxC,CAD8B,AACzB,CAAC,CAEF,EAAM,GAAD,eAAmB,CAAC,EAAa,SAAS,CAAC,AAAX,IAErC,EAAA,gBAAA,AAAgB,EAAC,EAAO,CACtB,EADoB,OACX,CAAE,CACT,OAAO,EAAE,EACT,GADc,CACV,CAAE,uCAAuC,AACrD,CAAO,AACP,CAAK,CAAC,IAEF,EAAA,SAAA,AAAS,EAAA,CAAA,EAAC,EAAA,sBAAA,AAAsB,EAAE,CAAC,CACrC,CAAC,CAAC,AACJ","ignoreList":[2],"debug_id":"20a0cf63-0fc0-5966-ad5d-d4f8c8c75aac"}