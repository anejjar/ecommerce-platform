{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined;\n};\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log: ['query'],\n  });\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/app/api/landing-pages/%5Bslug%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\n\n// GET /api/landing-pages/:slug - Get published landing page by slug\nexport async function GET(\n    request: NextRequest,\n    { params }: { params: Promise<{ slug: string }> }\n) {\n    try {\n        const { slug } = await params;\n\n        const page = await prisma.landingPage.findUnique({\n            where: {\n                slug\n                // Removed status filter to allow previewing draft pages\n            },\n            include: {\n                blocks: {\n                    include: {\n                        template: {\n                            select: {\n                                id: true,\n                                name: true,\n                                slug: true,\n                                category: true,\n                                componentCode: true,\n                            }\n                        }\n                    },\n                    orderBy: {\n                        order: 'asc'\n                    }\n                }\n            }\n        });\n\n        if (!page) {\n            return NextResponse.json({ error: 'Page not found' }, { status: 404 });\n        }\n\n        // Increment view count\n        await prisma.landingPage.update({\n            where: { id: page.id },\n            data: {\n                viewCount: {\n                    increment: 1\n                }\n            }\n        });\n\n        return NextResponse.json(page);\n    } catch (error) {\n        console.error('Error fetching landing page:', error);\n        return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,eAAe,IAClB,OAAoB,EACpB,EAAE,MAAM,EAAyC;IAEjD,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;QAEvB,MAAM,OAAO,MAAM,gIAAM,CAAC,WAAW,CAAC,UAAU,CAAC;YAC7C,OAAO;gBACH;YAEJ;YACA,SAAS;gBACL,QAAQ;oBACJ,SAAS;wBACL,UAAU;4BACN,QAAQ;gCACJ,IAAI;gCACJ,MAAM;gCACN,MAAM;gCACN,UAAU;gCACV,eAAe;4BACnB;wBACJ;oBACJ;oBACA,SAAS;wBACL,OAAO;oBACX;gBACJ;YACJ;QACJ;QAEA,IAAI,CAAC,MAAM;YACP,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAiB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,uBAAuB;QACvB,MAAM,gIAAM,CAAC,WAAW,CAAC,MAAM,CAAC;YAC5B,OAAO;gBAAE,IAAI,KAAK,EAAE;YAAC;YACrB,MAAM;gBACF,WAAW;oBACP,WAAW;gBACf;YACJ;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}