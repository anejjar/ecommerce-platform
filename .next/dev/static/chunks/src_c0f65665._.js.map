{"version":3,"sources":null,"sections":[{"offset":{"line":5,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/SessionProvider.tsx"],"sourcesContent":["'use client';\n\nimport { SessionProvider as NextAuthSessionProvider } from 'next-auth/react';\n\nexport function SessionProvider({ children }: { children: React.ReactNode }) {\n  return <NextAuthSessionProvider>{children}</NextAuthSessionProvider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;IACzE,qBAAO,6LAAC,oKAAuB;kBAAE;;;;;;AACnC;KAFgB"}},{"offset":{"line":33,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/features/cartSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport interface CartItem {\n  id: string;\n  productId: string;\n  name: string;\n  price: number;\n  quantity: number;\n  image?: string;\n  variantId?: string;\n  variantName?: string; // e.g., \"Size: Large, Color: Red\"\n}\n\ninterface CartState {\n  items: CartItem[];\n  isOpen: boolean;\n}\n\nconst initialState: CartState = {\n  items: [],\n  isOpen: false,\n};\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    addToCart: (state, action: PayloadAction<CartItem>) => {\n      // Find existing item: same product AND same variant (or both null)\n      const existing = state.items.find(\n        (item) =>\n          item.productId === action.payload.productId &&\n          item.variantId === action.payload.variantId\n      );\n\n      if (existing) {\n        existing.quantity += action.payload.quantity;\n      } else {\n        state.items.push(action.payload);\n      }\n    },\n    removeFromCart: (state, action: PayloadAction<string>) => {\n      // Remove by unique cart item ID\n      state.items = state.items.filter((item) => item.id !== action.payload);\n    },\n    updateQuantity: (\n      state,\n      action: PayloadAction<{ id: string; quantity: number }>\n    ) => {\n      // Update by unique cart item ID\n      const item = state.items.find((item) => item.id === action.payload.id);\n      if (item) {\n        item.quantity = action.payload.quantity;\n      }\n    },\n    clearCart: (state) => {\n      state.items = [];\n    },\n    toggleCart: (state) => {\n      state.isOpen = !state.isOpen;\n    },\n    openCart: (state) => {\n      state.isOpen = true;\n    },\n    closeCart: (state) => {\n      state.isOpen = false;\n    },\n  },\n});\n\nexport const { addToCart, removeFromCart, updateQuantity, clearCart, toggleCart, openCart, closeCart } =\n  cartSlice.actions;\nexport default cartSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AAkBA,MAAM,eAA0B;IAC9B,OAAO,EAAE;IACT,QAAQ;AACV;AAEA,MAAM,YAAY,IAAA,6MAAW,EAAC;IAC5B,MAAM;IACN;IACA,UAAU;QACR,WAAW,CAAC,OAAO;YACjB,mEAAmE;YACnE,MAAM,WAAW,MAAM,KAAK,CAAC,IAAI,CAC/B,CAAC,OACC,KAAK,SAAS,KAAK,OAAO,OAAO,CAAC,SAAS,IAC3C,KAAK,SAAS,KAAK,OAAO,OAAO,CAAC,SAAS;YAG/C,IAAI,UAAU;gBACZ,SAAS,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ;YAC9C,OAAO;gBACL,MAAM,KAAK,CAAC,IAAI,CAAC,OAAO,OAAO;YACjC;QACF;QACA,gBAAgB,CAAC,OAAO;YACtB,gCAAgC;YAChC,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO;QACvE;QACA,gBAAgB,CACd,OACA;YAEA,gCAAgC;YAChC,MAAM,OAAO,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YACrE,IAAI,MAAM;gBACR,KAAK,QAAQ,GAAG,OAAO,OAAO,CAAC,QAAQ;YACzC;QACF;QACA,WAAW,CAAC;YACV,MAAM,KAAK,GAAG,EAAE;QAClB;QACA,YAAY,CAAC;YACX,MAAM,MAAM,GAAG,CAAC,MAAM,MAAM;QAC9B;QACA,UAAU,CAAC;YACT,MAAM,MAAM,GAAG;QACjB;QACA,WAAW,CAAC;YACV,MAAM,MAAM,GAAG;QACjB;IACF;AACF;AAEO,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,cAAc,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,GACpG,UAAU,OAAO;uCACJ,UAAU,OAAO"}},{"offset":{"line":104,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/features/wishlistSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface WishlistItem {\n  id: string;\n  productId: string;\n  createdAt: string;\n  product: {\n    id: string;\n    name: string;\n    slug: string;\n    price: string;\n    comparePrice: string | null;\n    stock: number;\n    images: Array<{\n      id: string;\n      url: string;\n      alt: string | null;\n    }>;\n    category: {\n      id: string;\n      name: string;\n      slug: string;\n    } | null;\n  };\n}\n\ninterface WishlistState {\n  items: WishlistItem[];\n  isLoading: boolean;\n  productIds: string[]; // For quick lookup\n}\n\nconst initialState: WishlistState = {\n  items: [],\n  isLoading: false,\n  productIds: [],\n};\n\nconst wishlistSlice = createSlice({\n  name: 'wishlist',\n  initialState,\n  reducers: {\n    setWishlist: (state, action: PayloadAction<WishlistItem[]>) => {\n      state.items = action.payload;\n      state.productIds = action.payload.map((item) => item.productId);\n      state.isLoading = false;\n    },\n    addToWishlist: (state, action: PayloadAction<WishlistItem>) => {\n      state.items.unshift(action.payload);\n      if (!state.productIds.includes(action.payload.productId)) {\n        state.productIds.push(action.payload.productId);\n      }\n    },\n    removeFromWishlist: (state, action: PayloadAction<string>) => {\n      const productId = action.payload;\n      state.items = state.items.filter((item) => item.productId !== productId);\n      state.productIds = state.productIds.filter((id) => id !== productId);\n    },\n    setLoading: (state, action: PayloadAction<boolean>) => {\n      state.isLoading = action.payload;\n    },\n    clearWishlist: (state) => {\n      state.items = [];\n      state.productIds = [];\n      state.isLoading = false;\n    },\n  },\n});\n\nexport const {\n  setWishlist,\n  addToWishlist,\n  removeFromWishlist,\n  setLoading,\n  clearWishlist,\n} = wishlistSlice.actions;\n\nexport default wishlistSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAgCA,MAAM,eAA8B;IAClC,OAAO,EAAE;IACT,WAAW;IACX,YAAY,EAAE;AAChB;AAEA,MAAM,gBAAgB,IAAA,6MAAW,EAAC;IAChC,MAAM;IACN;IACA,UAAU;QACR,aAAa,CAAC,OAAO;YACnB,MAAM,KAAK,GAAG,OAAO,OAAO;YAC5B,MAAM,UAAU,GAAG,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,SAAS;YAC9D,MAAM,SAAS,GAAG;QACpB;QACA,eAAe,CAAC,OAAO;YACrB,MAAM,KAAK,CAAC,OAAO,CAAC,OAAO,OAAO;YAClC,IAAI,CAAC,MAAM,UAAU,CAAC,QAAQ,CAAC,OAAO,OAAO,CAAC,SAAS,GAAG;gBACxD,MAAM,UAAU,CAAC,IAAI,CAAC,OAAO,OAAO,CAAC,SAAS;YAChD;QACF;QACA,oBAAoB,CAAC,OAAO;YAC1B,MAAM,YAAY,OAAO,OAAO;YAChC,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,SAAS,KAAK;YAC9D,MAAM,UAAU,GAAG,MAAM,UAAU,CAAC,MAAM,CAAC,CAAC,KAAO,OAAO;QAC5D;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;QACA,eAAe,CAAC;YACd,MAAM,KAAK,GAAG,EAAE;YAChB,MAAM,UAAU,GAAG,EAAE;YACrB,MAAM,SAAS,GAAG;QACpB;IACF;AACF;AAEO,MAAM,EACX,WAAW,EACX,aAAa,EACb,kBAAkB,EAClB,UAAU,EACV,aAAa,EACd,GAAG,cAAc,OAAO;uCAEV,cAAc,OAAO"}},{"offset":{"line":164,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/features/posSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nexport interface PosCartItem {\r\n  id: string;\r\n  productId: string;\r\n  variantId?: string;\r\n  name: string;\r\n  price: number;\r\n  quantity: number;\r\n  image?: string;\r\n  variantName?: string;\r\n}\r\n\r\nexport type PosOrderType = 'DINE_IN' | 'TAKE_AWAY' | 'DELIVERY';\r\n\r\ninterface PosState {\r\n  cart: PosCartItem[];\r\n  orderType: PosOrderType;\r\n  locationId: string | null;\r\n  cashierId: string | null;\r\n  activeSessionId: string | null;\r\n  tableNumber: string | null;\r\n  customerName: string | null;\r\n}\r\n\r\nconst initialState: PosState = {\r\n  cart: [],\r\n  orderType: 'DINE_IN',\r\n  locationId: null,\r\n  cashierId: null,\r\n  activeSessionId: null,\r\n  tableNumber: null,\r\n  customerName: null,\r\n};\r\n\r\nconst posSlice = createSlice({\r\n  name: 'pos',\r\n  initialState,\r\n  reducers: {\r\n    addToPosCart: (state, action: PayloadAction<PosCartItem>) => {\r\n      const existing = state.cart.find(\r\n        (item) =>\r\n          item.productId === action.payload.productId &&\r\n          item.variantId === action.payload.variantId\r\n      );\r\n\r\n      if (existing) {\r\n        existing.quantity += action.payload.quantity;\r\n      } else {\r\n        state.cart.push(action.payload);\r\n      }\r\n    },\r\n    removeFromPosCart: (state, action: PayloadAction<string>) => {\r\n      state.cart = state.cart.filter((item) => item.id !== action.payload);\r\n    },\r\n    updatePosCartQuantity: (\r\n      state,\r\n      action: PayloadAction<{ id: string; quantity: number }>\r\n    ) => {\r\n      const item = state.cart.find((item) => item.id === action.payload.id);\r\n      if (item) {\r\n        item.quantity = action.payload.quantity;\r\n        if (item.quantity <= 0) {\r\n          state.cart = state.cart.filter((cartItem) => cartItem.id !== item.id);\r\n        }\r\n      }\r\n    },\r\n    clearPosCart: (state) => {\r\n      state.cart = [];\r\n    },\r\n    setOrderType: (state, action: PayloadAction<PosOrderType>) => {\r\n      state.orderType = action.payload;\r\n    },\r\n    setLocation: (state, action: PayloadAction<string | null>) => {\r\n      state.locationId = action.payload;\r\n    },\r\n    setCashier: (state, action: PayloadAction<string | null>) => {\r\n      state.cashierId = action.payload;\r\n    },\r\n    setActiveSession: (state, action: PayloadAction<string | null>) => {\r\n      state.activeSessionId = action.payload;\r\n    },\r\n    setTableNumber: (state, action: PayloadAction<string | null>) => {\r\n      state.tableNumber = action.payload;\r\n    },\r\n    setCustomerName: (state, action: PayloadAction<string | null>) => {\r\n      state.customerName = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  addToPosCart,\r\n  removeFromPosCart,\r\n  updatePosCartQuantity,\r\n  clearPosCart,\r\n  setOrderType,\r\n  setLocation,\r\n  setCashier,\r\n  setActiveSession,\r\n  setTableNumber,\r\n  setCustomerName,\r\n} = posSlice.actions;\r\n\r\nexport default posSlice.reducer;\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAyBA,MAAM,eAAyB;IAC7B,MAAM,EAAE;IACR,WAAW;IACX,YAAY;IACZ,WAAW;IACX,iBAAiB;IACjB,aAAa;IACb,cAAc;AAChB;AAEA,MAAM,WAAW,IAAA,6MAAW,EAAC;IAC3B,MAAM;IACN;IACA,UAAU;QACR,cAAc,CAAC,OAAO;YACpB,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAC9B,CAAC,OACC,KAAK,SAAS,KAAK,OAAO,OAAO,CAAC,SAAS,IAC3C,KAAK,SAAS,KAAK,OAAO,OAAO,CAAC,SAAS;YAG/C,IAAI,UAAU;gBACZ,SAAS,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ;YAC9C,OAAO;gBACL,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,OAAO;YAChC;QACF;QACA,mBAAmB,CAAC,OAAO;YACzB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO;QACrE;QACA,uBAAuB,CACrB,OACA;YAEA,MAAM,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YACpE,IAAI,MAAM;gBACR,KAAK,QAAQ,GAAG,OAAO,OAAO,CAAC,QAAQ;gBACvC,IAAI,KAAK,QAAQ,IAAI,GAAG;oBACtB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,WAAa,SAAS,EAAE,KAAK,KAAK,EAAE;gBACtE;YACF;QACF;QACA,cAAc,CAAC;YACb,MAAM,IAAI,GAAG,EAAE;QACjB;QACA,cAAc,CAAC,OAAO;YACpB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;QACA,aAAa,CAAC,OAAO;YACnB,MAAM,UAAU,GAAG,OAAO,OAAO;QACnC;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;QACA,kBAAkB,CAAC,OAAO;YACxB,MAAM,eAAe,GAAG,OAAO,OAAO;QACxC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,iBAAiB,CAAC,OAAO;YACvB,MAAM,YAAY,GAAG,OAAO,OAAO;QACrC;IACF;AACF;AAEO,MAAM,EACX,YAAY,EACZ,iBAAiB,EACjB,qBAAqB,EACrB,YAAY,EACZ,YAAY,EACZ,WAAW,EACX,UAAU,EACV,gBAAgB,EAChB,cAAc,EACd,eAAe,EAChB,GAAG,SAAS,OAAO;uCAEL,SAAS,OAAO"}},{"offset":{"line":255,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/store.ts"],"sourcesContent":["import { configureStore, combineReducers } from '@reduxjs/toolkit';\nimport { persistReducer, persistStore } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage'; // localStorage\nimport cartReducer from './features/cartSlice';\nimport wishlistReducer from './features/wishlistSlice';\nimport posReducer from './features/posSlice';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['cart', 'pos'], // Persist cart and POS state\n};\n\nconst rootReducer = combineReducers({\n  cart: cartReducer,\n  wishlist: wishlistReducer,\n  pos: posReducer,\n});\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport const makeStore = () => {\n  const store = configureStore({\n    reducer: persistedReducer,\n    middleware: (getDefaultMiddleware) =>\n      getDefaultMiddleware({\n        serializableCheck: {\n          ignoredActions: ['persist/PERSIST', 'persist/REHYDRATE'],\n        },\n      }),\n  });\n  return store;\n};\n\nexport type AppStore = ReturnType<typeof makeStore>;\nexport type RootState = ReturnType<AppStore['getState']>;\nexport type AppDispatch = AppStore['dispatch'];\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;AACA,qRAAiD,eAAe;AAChE;AACA;AACA;;;;;;;AAEA,MAAM,gBAAgB;IACpB,KAAK;IACL,SAAA,yKAAO;IACP,WAAW;QAAC;QAAQ;KAAM;AAC5B;AAEA,MAAM,cAAc,IAAA,6JAAe,EAAC;IAClC,MAAM,0JAAW;IACjB,UAAU,8JAAe;IACzB,KAAK,yJAAU;AACjB;AAEA,MAAM,mBAAmB,IAAA,0NAAc,EAAC,eAAe;AAEhD,MAAM,YAAY;IACvB,MAAM,QAAQ,IAAA,gNAAc,EAAC;QAC3B,SAAS;QACT,YAAY,CAAC,uBACX,qBAAqB;gBACnB,mBAAmB;oBACjB,gBAAgB;wBAAC;wBAAmB;qBAAoB;gBAC1D;YACF;IACJ;IACA,OAAO;AACT"}},{"offset":{"line":308,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/StoreProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useRef } from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistStore } from 'redux-persist';\nimport { makeStore, AppStore } from './store';\n\nexport function StoreProvider({ children }: { children: React.ReactNode }) {\n  const storeRef = useRef<AppStore | undefined>(undefined);\n  const persistorRef = useRef<any>(undefined);\n\n  if (!storeRef.current) {\n    storeRef.current = makeStore();\n    persistorRef.current = persistStore(storeRef.current);\n  }\n\n  return (\n    <Provider store={storeRef.current}>\n      <PersistGate loading={null} persistor={persistorRef.current}>\n        {children}\n      </PersistGate>\n    </Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;;;AANA;;;;;;AAQO,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,MAAM,WAAW,IAAA,uKAAM,EAAuB;IAC9C,MAAM,eAAe,IAAA,uKAAM,EAAM;IAEjC,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,SAAS,OAAO,GAAG,IAAA,4IAAS;QAC5B,aAAa,OAAO,GAAG,IAAA,oNAAY,EAAC,SAAS,OAAO;IACtD;IAEA,qBACE,6LAAC,wKAAQ;QAAC,OAAO,SAAS,OAAO;kBAC/B,cAAA,6LAAC,gLAAW;YAAC,SAAS;YAAM,WAAW,aAAa,OAAO;sBACxD;;;;;;;;;;;AAIT;GAhBgB;KAAA"}},{"offset":{"line":363,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/contexts/SettingsContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\n\nexport interface StoreSettings {\n  // General Settings\n  general_store_name?: string;\n  general_store_tagline?: string;\n  general_store_email?: string;\n  general_store_phone?: string;\n  general_store_address?: string;\n  general_currency?: string;\n  general_currency_symbol?: string;\n\n  // SEO Settings\n  seo_meta_title?: string;\n  seo_meta_description?: string;\n  seo_meta_keywords?: string;\n  seo_og_title?: string;\n  seo_og_description?: string;\n  seo_og_image?: string;\n  seo_twitter_handle?: string;\n  seo_google_analytics_id?: string;\n\n  // Appearance Settings\n  appearance_logo_url?: string;\n  appearance_favicon_url?: string;\n  appearance_primary_color?: string;\n  appearance_secondary_color?: string;\n  appearance_accent_color?: string;\n  appearance_font_family?: string;\n  appearance_show_breadcrumbs?: string;\n  appearance_show_product_reviews?: string;\n  appearance_show_related_products?: string;\n  appearance_custom_css?: string;\n  appearance_custom_js?: string;\n\n  // Social Media Settings\n  social_facebook_url?: string;\n  social_twitter_url?: string;\n  social_instagram_url?: string;\n  social_linkedin_url?: string;\n  social_youtube_url?: string;\n  social_pinterest_url?: string;\n  social_tiktok_url?: string;\n  social_facebook_pixel_id?: string;\n\n  // Shipping Settings\n  shipping_free_threshold?: string;\n  shipping_flat_rate?: string;\n  shipping_enable_free?: string;\n  shipping_enable_flat_rate?: string;\n  tax_rate_default?: string;\n  tax_enable?: string;\n}\n\ninterface SettingsContextType {\n  settings: StoreSettings;\n  isLoading: boolean;\n  refreshSettings: () => Promise<void>;\n}\n\nconst SettingsContext = createContext<SettingsContextType | undefined>(undefined);\n\nexport function SettingsProvider({ children }: { children: ReactNode }) {\n  const [settings, setSettings] = useState<StoreSettings>({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchSettings = async () => {\n    try {\n      setIsLoading(true);\n      // Fetch all settings categories\n      const categories = ['general', 'seo', 'appearance', 'social', 'shipping'];\n      const promises = categories.map(async (category) => {\n        const response = await fetch(`/api/settings?category=${category}`);\n        if (response.ok) {\n          return await response.json();\n        }\n        return {};\n      });\n\n      const results = await Promise.all(promises);\n      const allSettings = results.reduce((acc, result) => ({ ...acc, ...result }), {});\n      setSettings(allSettings);\n    } catch (error) {\n      console.error('Failed to fetch settings:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchSettings();\n  }, []);\n\n  return (\n    <SettingsContext.Provider value={{ settings, isLoading, refreshSettings: fetchSettings }}>\n      {children}\n    </SettingsContext.Provider>\n  );\n}\n\nexport function useSettings() {\n  const context = useContext(SettingsContext);\n  if (context === undefined) {\n    throw new Error('useSettings must be used within a SettingsProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AA8DA,MAAM,gCAAkB,IAAA,8KAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAA2B;;IACpE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB,CAAC;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,gBAAgB;QACpB,IAAI;YACF,aAAa;YACb,gCAAgC;YAChC,MAAM,aAAa;gBAAC;gBAAW;gBAAO;gBAAc;gBAAU;aAAW;YACzE,MAAM,WAAW,WAAW,GAAG,CAAC,OAAO;gBACrC,MAAM,WAAW,MAAM,MAAM,CAAC,uBAAuB,EAAE,UAAU;gBACjE,IAAI,SAAS,EAAE,EAAE;oBACf,OAAO,MAAM,SAAS,IAAI;gBAC5B;gBACA,OAAO,CAAC;YACV;YAEA,MAAM,UAAU,MAAM,QAAQ,GAAG,CAAC;YAClC,MAAM,cAAc,QAAQ,MAAM,CAAC,CAAC,KAAK,SAAW,CAAC;oBAAE,GAAG,GAAG;oBAAE,GAAG,MAAM;gBAAC,CAAC,GAAG,CAAC;YAC9E,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAA,0KAAS;sCAAC;YACR;QACF;qCAAG,EAAE;IAEL,qBACE,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAW,iBAAiB;QAAc;kBACpF;;;;;;AAGP;GApCgB;KAAA;AAsCT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},{"offset":{"line":448,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/contexts/ThemeContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { ThemeConfig } from '@/lib/themes/theme-schema';\r\n\r\ninterface ThemeContextType {\r\n  theme: ThemeConfig | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  refreshTheme: () => Promise<void>;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function useThemeContext() {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error('useThemeContext must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface ThemeProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function ThemeProvider({ children }: ThemeProviderProps) {\r\n  const [theme, setTheme] = useState<ThemeConfig | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchActiveTheme = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await fetch('/api/themes/active', {\r\n        cache: 'no-store',\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch active theme');\r\n      }\r\n\r\n      const data = await response.json();\r\n      if (data.theme) {\r\n        setTheme(data.theme);\r\n      } else {\r\n        setTheme(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching theme:', err);\r\n      setError(err instanceof Error ? err.message : 'Failed to load theme');\r\n      setTheme(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchActiveTheme();\r\n  }, []);\r\n\r\n  return (\r\n    <ThemeContext.Provider\r\n      value={{\r\n        theme,\r\n        loading,\r\n        error,\r\n        refreshTheme: fetchActiveTheme,\r\n      }}\r\n    >\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAYA,MAAM,6BAAe,IAAA,8KAAa,EAA+B;AAE1D,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANgB;AAYT,SAAS,cAAc,EAAE,QAAQ,EAAsB;;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAqB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,mBAAmB;QACvB,IAAI;YACF,WAAW;YACX,SAAS;YACT,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,OAAO;YACT;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,KAAK,KAAK,EAAE;gBACd,SAAS,KAAK,KAAK;YACrB,OAAO;gBACL,SAAS;YACX;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,yBAAyB;YACvC,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC9C,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,0KAAS;mCAAC;YACR;QACF;kCAAG,EAAE;IAEL,qBACE,6LAAC,aAAa,QAAQ;QACpB,OAAO;YACL;YACA;YACA;YACA,cAAc;QAChB;kBAEC;;;;;;AAGP;IAhDgB;KAAA"}}],"debugId":"4f7cdf6f-9a28-51df-9003-5a5262df2222"}