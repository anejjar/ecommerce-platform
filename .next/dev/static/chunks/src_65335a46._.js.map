{"version":3,"sources":null,"sections":[{"offset":{"line":5,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/features/cartSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport interface CartItem {\n  id: string;\n  productId: string;\n  name: string;\n  price: number;\n  quantity: number;\n  image?: string;\n  variantId?: string;\n  variantName?: string; // e.g., \"Size: Large, Color: Red\"\n}\n\ninterface CartState {\n  items: CartItem[];\n  isOpen: boolean;\n}\n\nconst initialState: CartState = {\n  items: [],\n  isOpen: false,\n};\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    addToCart: (state, action: PayloadAction<CartItem>) => {\n      // Find existing item: same product AND same variant (or both null)\n      const existing = state.items.find(\n        (item) =>\n          item.productId === action.payload.productId &&\n          item.variantId === action.payload.variantId\n      );\n\n      if (existing) {\n        existing.quantity += action.payload.quantity;\n      } else {\n        state.items.push(action.payload);\n      }\n    },\n    removeFromCart: (state, action: PayloadAction<string>) => {\n      // Remove by unique cart item ID\n      state.items = state.items.filter((item) => item.id !== action.payload);\n    },\n    updateQuantity: (\n      state,\n      action: PayloadAction<{ id: string; quantity: number }>\n    ) => {\n      // Update by unique cart item ID\n      const item = state.items.find((item) => item.id === action.payload.id);\n      if (item) {\n        item.quantity = action.payload.quantity;\n      }\n    },\n    clearCart: (state) => {\n      state.items = [];\n    },\n    toggleCart: (state) => {\n      state.isOpen = !state.isOpen;\n    },\n    openCart: (state) => {\n      state.isOpen = true;\n    },\n    closeCart: (state) => {\n      state.isOpen = false;\n    },\n  },\n});\n\nexport const { addToCart, removeFromCart, updateQuantity, clearCart, toggleCart, openCart, closeCart } =\n  cartSlice.actions;\nexport default cartSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AAkBA,MAAM,eAA0B;IAC9B,OAAO,EAAE;IACT,QAAQ;AACV;AAEA,MAAM,YAAY,IAAA,6MAAW,EAAC;IAC5B,MAAM;IACN;IACA,UAAU;QACR,WAAW,CAAC,OAAO;YACjB,mEAAmE;YACnE,MAAM,WAAW,MAAM,KAAK,CAAC,IAAI,CAC/B,CAAC,OACC,KAAK,SAAS,KAAK,OAAO,OAAO,CAAC,SAAS,IAC3C,KAAK,SAAS,KAAK,OAAO,OAAO,CAAC,SAAS;YAG/C,IAAI,UAAU;gBACZ,SAAS,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ;YAC9C,OAAO;gBACL,MAAM,KAAK,CAAC,IAAI,CAAC,OAAO,OAAO;YACjC;QACF;QACA,gBAAgB,CAAC,OAAO;YACtB,gCAAgC;YAChC,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO;QACvE;QACA,gBAAgB,CACd,OACA;YAEA,gCAAgC;YAChC,MAAM,OAAO,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YACrE,IAAI,MAAM;gBACR,KAAK,QAAQ,GAAG,OAAO,OAAO,CAAC,QAAQ;YACzC;QACF;QACA,WAAW,CAAC;YACV,MAAM,KAAK,GAAG,EAAE;QAClB;QACA,YAAY,CAAC;YACX,MAAM,MAAM,GAAG,CAAC,MAAM,MAAM;QAC9B;QACA,UAAU,CAAC;YACT,MAAM,MAAM,GAAG;QACjB;QACA,WAAW,CAAC;YACV,MAAM,MAAM,GAAG;QACjB;IACF;AACF;AAEO,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,cAAc,EAAE,SAAS,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,GACpG,UAAU,OAAO;uCACJ,UAAU,OAAO"}},{"offset":{"line":76,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/features/wishlistSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface WishlistItem {\n  id: string;\n  productId: string;\n  createdAt: string;\n  product: {\n    id: string;\n    name: string;\n    slug: string;\n    price: string;\n    comparePrice: string | null;\n    stock: number;\n    images: Array<{\n      id: string;\n      url: string;\n      alt: string | null;\n    }>;\n    category: {\n      id: string;\n      name: string;\n      slug: string;\n    } | null;\n  };\n}\n\ninterface WishlistState {\n  items: WishlistItem[];\n  isLoading: boolean;\n  productIds: string[]; // For quick lookup\n}\n\nconst initialState: WishlistState = {\n  items: [],\n  isLoading: false,\n  productIds: [],\n};\n\nconst wishlistSlice = createSlice({\n  name: 'wishlist',\n  initialState,\n  reducers: {\n    setWishlist: (state, action: PayloadAction<WishlistItem[]>) => {\n      state.items = action.payload;\n      state.productIds = action.payload.map((item) => item.productId);\n      state.isLoading = false;\n    },\n    addToWishlist: (state, action: PayloadAction<WishlistItem>) => {\n      state.items.unshift(action.payload);\n      if (!state.productIds.includes(action.payload.productId)) {\n        state.productIds.push(action.payload.productId);\n      }\n    },\n    removeFromWishlist: (state, action: PayloadAction<string>) => {\n      const productId = action.payload;\n      state.items = state.items.filter((item) => item.productId !== productId);\n      state.productIds = state.productIds.filter((id) => id !== productId);\n    },\n    setLoading: (state, action: PayloadAction<boolean>) => {\n      state.isLoading = action.payload;\n    },\n    clearWishlist: (state) => {\n      state.items = [];\n      state.productIds = [];\n      state.isLoading = false;\n    },\n  },\n});\n\nexport const {\n  setWishlist,\n  addToWishlist,\n  removeFromWishlist,\n  setLoading,\n  clearWishlist,\n} = wishlistSlice.actions;\n\nexport default wishlistSlice.reducer;\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAgCA,MAAM,eAA8B;IAClC,OAAO,EAAE;IACT,WAAW;IACX,YAAY,EAAE;AAChB;AAEA,MAAM,gBAAgB,IAAA,6MAAW,EAAC;IAChC,MAAM;IACN;IACA,UAAU;QACR,aAAa,CAAC,OAAO;YACnB,MAAM,KAAK,GAAG,OAAO,OAAO;YAC5B,MAAM,UAAU,GAAG,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,OAAS,KAAK,SAAS;YAC9D,MAAM,SAAS,GAAG;QACpB;QACA,eAAe,CAAC,OAAO;YACrB,MAAM,KAAK,CAAC,OAAO,CAAC,OAAO,OAAO;YAClC,IAAI,CAAC,MAAM,UAAU,CAAC,QAAQ,CAAC,OAAO,OAAO,CAAC,SAAS,GAAG;gBACxD,MAAM,UAAU,CAAC,IAAI,CAAC,OAAO,OAAO,CAAC,SAAS;YAChD;QACF;QACA,oBAAoB,CAAC,OAAO;YAC1B,MAAM,YAAY,OAAO,OAAO;YAChC,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,SAAS,KAAK;YAC9D,MAAM,UAAU,GAAG,MAAM,UAAU,CAAC,MAAM,CAAC,CAAC,KAAO,OAAO;QAC5D;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;QACA,eAAe,CAAC;YACd,MAAM,KAAK,GAAG,EAAE;YAChB,MAAM,UAAU,GAAG,EAAE;YACrB,MAAM,SAAS,GAAG;QACpB;IACF;AACF;AAEO,MAAM,EACX,WAAW,EACX,aAAa,EACb,kBAAkB,EAClB,UAAU,EACV,aAAa,EACd,GAAG,cAAc,OAAO;uCAEV,cAAc,OAAO"}},{"offset":{"line":136,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/features/posSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nexport interface PosCartItem {\r\n  id: string;\r\n  productId: string;\r\n  variantId?: string;\r\n  name: string;\r\n  price: number;\r\n  quantity: number;\r\n  image?: string;\r\n  variantName?: string;\r\n}\r\n\r\nexport type PosOrderType = 'DINE_IN' | 'TAKE_AWAY' | 'DELIVERY';\r\n\r\ninterface PosState {\r\n  cart: PosCartItem[];\r\n  orderType: PosOrderType;\r\n  locationId: string | null;\r\n  cashierId: string | null;\r\n  activeSessionId: string | null;\r\n  tableNumber: string | null;\r\n  customerName: string | null;\r\n}\r\n\r\nconst initialState: PosState = {\r\n  cart: [],\r\n  orderType: 'DINE_IN',\r\n  locationId: null,\r\n  cashierId: null,\r\n  activeSessionId: null,\r\n  tableNumber: null,\r\n  customerName: null,\r\n};\r\n\r\nconst posSlice = createSlice({\r\n  name: 'pos',\r\n  initialState,\r\n  reducers: {\r\n    addToPosCart: (state, action: PayloadAction<PosCartItem>) => {\r\n      const existing = state.cart.find(\r\n        (item) =>\r\n          item.productId === action.payload.productId &&\r\n          item.variantId === action.payload.variantId\r\n      );\r\n\r\n      if (existing) {\r\n        existing.quantity += action.payload.quantity;\r\n      } else {\r\n        state.cart.push(action.payload);\r\n      }\r\n    },\r\n    removeFromPosCart: (state, action: PayloadAction<string>) => {\r\n      state.cart = state.cart.filter((item) => item.id !== action.payload);\r\n    },\r\n    updatePosCartQuantity: (\r\n      state,\r\n      action: PayloadAction<{ id: string; quantity: number }>\r\n    ) => {\r\n      const item = state.cart.find((item) => item.id === action.payload.id);\r\n      if (item) {\r\n        item.quantity = action.payload.quantity;\r\n        if (item.quantity <= 0) {\r\n          state.cart = state.cart.filter((cartItem) => cartItem.id !== item.id);\r\n        }\r\n      }\r\n    },\r\n    clearPosCart: (state) => {\r\n      state.cart = [];\r\n    },\r\n    setOrderType: (state, action: PayloadAction<PosOrderType>) => {\r\n      state.orderType = action.payload;\r\n    },\r\n    setLocation: (state, action: PayloadAction<string | null>) => {\r\n      state.locationId = action.payload;\r\n    },\r\n    setCashier: (state, action: PayloadAction<string | null>) => {\r\n      state.cashierId = action.payload;\r\n    },\r\n    setActiveSession: (state, action: PayloadAction<string | null>) => {\r\n      state.activeSessionId = action.payload;\r\n    },\r\n    setTableNumber: (state, action: PayloadAction<string | null>) => {\r\n      state.tableNumber = action.payload;\r\n    },\r\n    setCustomerName: (state, action: PayloadAction<string | null>) => {\r\n      state.customerName = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  addToPosCart,\r\n  removeFromPosCart,\r\n  updatePosCartQuantity,\r\n  clearPosCart,\r\n  setOrderType,\r\n  setLocation,\r\n  setCashier,\r\n  setActiveSession,\r\n  setTableNumber,\r\n  setCustomerName,\r\n} = posSlice.actions;\r\n\r\nexport default posSlice.reducer;\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAyBA,MAAM,eAAyB;IAC7B,MAAM,EAAE;IACR,WAAW;IACX,YAAY;IACZ,WAAW;IACX,iBAAiB;IACjB,aAAa;IACb,cAAc;AAChB;AAEA,MAAM,WAAW,IAAA,6MAAW,EAAC;IAC3B,MAAM;IACN;IACA,UAAU;QACR,cAAc,CAAC,OAAO;YACpB,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAC9B,CAAC,OACC,KAAK,SAAS,KAAK,OAAO,OAAO,CAAC,SAAS,IAC3C,KAAK,SAAS,KAAK,OAAO,OAAO,CAAC,SAAS;YAG/C,IAAI,UAAU;gBACZ,SAAS,QAAQ,IAAI,OAAO,OAAO,CAAC,QAAQ;YAC9C,OAAO;gBACL,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,OAAO;YAChC;QACF;QACA,mBAAmB,CAAC,OAAO;YACzB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO;QACrE;QACA,uBAAuB,CACrB,OACA;YAEA,MAAM,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YACpE,IAAI,MAAM;gBACR,KAAK,QAAQ,GAAG,OAAO,OAAO,CAAC,QAAQ;gBACvC,IAAI,KAAK,QAAQ,IAAI,GAAG;oBACtB,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,CAAC,WAAa,SAAS,EAAE,KAAK,KAAK,EAAE;gBACtE;YACF;QACF;QACA,cAAc,CAAC;YACb,MAAM,IAAI,GAAG,EAAE;QACjB;QACA,cAAc,CAAC,OAAO;YACpB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;QACA,aAAa,CAAC,OAAO;YACnB,MAAM,UAAU,GAAG,OAAO,OAAO;QACnC;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;QACA,kBAAkB,CAAC,OAAO;YACxB,MAAM,eAAe,GAAG,OAAO,OAAO;QACxC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,iBAAiB,CAAC,OAAO;YACvB,MAAM,YAAY,GAAG,OAAO,OAAO;QACrC;IACF;AACF;AAEO,MAAM,EACX,YAAY,EACZ,iBAAiB,EACjB,qBAAqB,EACrB,YAAY,EACZ,YAAY,EACZ,WAAW,EACX,UAAU,EACV,gBAAgB,EAChB,cAAc,EACd,eAAe,EAChB,GAAG,SAAS,OAAO;uCAEL,SAAS,OAAO"}},{"offset":{"line":227,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/store.ts"],"sourcesContent":["import { configureStore, combineReducers } from '@reduxjs/toolkit';\nimport { persistReducer, persistStore } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage'; // localStorage\nimport cartReducer from './features/cartSlice';\nimport wishlistReducer from './features/wishlistSlice';\nimport posReducer from './features/posSlice';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['cart', 'pos'], // Persist cart and POS state\n};\n\nconst rootReducer = combineReducers({\n  cart: cartReducer,\n  wishlist: wishlistReducer,\n  pos: posReducer,\n});\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport const makeStore = () => {\n  const store = configureStore({\n    reducer: persistedReducer,\n    middleware: (getDefaultMiddleware) =>\n      getDefaultMiddleware({\n        serializableCheck: {\n          ignoredActions: ['persist/PERSIST', 'persist/REHYDRATE'],\n        },\n      }),\n  });\n  return store;\n};\n\nexport type AppStore = ReturnType<typeof makeStore>;\nexport type RootState = ReturnType<AppStore['getState']>;\nexport type AppDispatch = AppStore['dispatch'];\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;AACA,qRAAiD,eAAe;AAChE;AACA;AACA;;;;;;;AAEA,MAAM,gBAAgB;IACpB,KAAK;IACL,SAAA,yKAAO;IACP,WAAW;QAAC;QAAQ;KAAM;AAC5B;AAEA,MAAM,cAAc,IAAA,6JAAe,EAAC;IAClC,MAAM,0JAAW;IACjB,UAAU,8JAAe;IACzB,KAAK,yJAAU;AACjB;AAEA,MAAM,mBAAmB,IAAA,0NAAc,EAAC,eAAe;AAEhD,MAAM,YAAY;IACvB,MAAM,QAAQ,IAAA,gNAAc,EAAC;QAC3B,SAAS;QACT,YAAY,CAAC,uBACX,qBAAqB;gBACnB,mBAAmB;oBACjB,gBAAgB;wBAAC;wBAAmB;qBAAoB;gBAC1D;YACF;IACJ;IACA,OAAO;AACT"}},{"offset":{"line":280,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/StoreProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useRef } from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistStore } from 'redux-persist';\nimport { makeStore, AppStore } from './store';\n\nexport function StoreProvider({ children }: { children: React.ReactNode }) {\n  const storeRef = useRef<AppStore | undefined>(undefined);\n  const persistorRef = useRef<any>(undefined);\n\n  if (!storeRef.current) {\n    storeRef.current = makeStore();\n    persistorRef.current = persistStore(storeRef.current);\n  }\n\n  return (\n    <Provider store={storeRef.current}>\n      <PersistGate loading={null} persistor={persistorRef.current}>\n        {children}\n      </PersistGate>\n    </Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;;;AANA;;;;;;AAQO,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,MAAM,WAAW,IAAA,uKAAM,EAAuB;IAC9C,MAAM,eAAe,IAAA,uKAAM,EAAM;IAEjC,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,SAAS,OAAO,GAAG,IAAA,4IAAS;QAC5B,aAAa,OAAO,GAAG,IAAA,oNAAY,EAAC,SAAS,OAAO;IACtD;IAEA,qBACE,6LAAC,wKAAQ;QAAC,OAAO,SAAS,OAAO;kBAC/B,cAAA,6LAAC,gLAAW;YAAC,SAAS;YAAM,WAAW,aAAa,OAAO;sBACxD;;;;;;;;;;;AAIT;GAhBgB;KAAA"}},{"offset":{"line":335,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/SessionProvider.tsx"],"sourcesContent":["'use client';\n\nimport { SessionProvider as NextAuthSessionProvider } from 'next-auth/react';\n\nexport function SessionProvider({ children }: { children: React.ReactNode }) {\n  return <NextAuthSessionProvider>{children}</NextAuthSessionProvider>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;IACzE,qBAAO,6LAAC,oKAAuB;kBAAE;;;;;;AACnC;KAFgB"}},{"offset":{"line":363,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/contexts/SettingsContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\n\nexport interface StoreSettings {\n  // General Settings\n  general_store_name?: string;\n  general_store_tagline?: string;\n  general_store_email?: string;\n  general_store_phone?: string;\n  general_store_address?: string;\n  general_currency?: string;\n  general_currency_symbol?: string;\n\n  // SEO Settings\n  seo_meta_title?: string;\n  seo_meta_description?: string;\n  seo_meta_keywords?: string;\n  seo_og_title?: string;\n  seo_og_description?: string;\n  seo_og_image?: string;\n  seo_twitter_handle?: string;\n  seo_google_analytics_id?: string;\n\n  // Appearance Settings\n  appearance_logo_url?: string;\n  appearance_favicon_url?: string;\n  appearance_primary_color?: string;\n  appearance_secondary_color?: string;\n  appearance_accent_color?: string;\n  appearance_font_family?: string;\n  appearance_show_breadcrumbs?: string;\n  appearance_show_product_reviews?: string;\n  appearance_show_related_products?: string;\n  appearance_custom_css?: string;\n  appearance_custom_js?: string;\n\n  // Social Media Settings\n  social_facebook_url?: string;\n  social_twitter_url?: string;\n  social_instagram_url?: string;\n  social_linkedin_url?: string;\n  social_youtube_url?: string;\n  social_pinterest_url?: string;\n  social_tiktok_url?: string;\n  social_facebook_pixel_id?: string;\n\n  // Shipping Settings\n  shipping_free_threshold?: string;\n  shipping_flat_rate?: string;\n  shipping_enable_free?: string;\n  shipping_enable_flat_rate?: string;\n  tax_rate_default?: string;\n  tax_enable?: string;\n}\n\ninterface SettingsContextType {\n  settings: StoreSettings;\n  isLoading: boolean;\n  refreshSettings: () => Promise<void>;\n}\n\nconst SettingsContext = createContext<SettingsContextType | undefined>(undefined);\n\nexport function SettingsProvider({ children }: { children: ReactNode }) {\n  const [settings, setSettings] = useState<StoreSettings>({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchSettings = async () => {\n    try {\n      setIsLoading(true);\n      // Fetch all settings categories\n      const categories = ['general', 'seo', 'appearance', 'social', 'shipping'];\n      const promises = categories.map(async (category) => {\n        const response = await fetch(`/api/settings?category=${category}`);\n        if (response.ok) {\n          return await response.json();\n        }\n        return {};\n      });\n\n      const results = await Promise.all(promises);\n      const allSettings = results.reduce((acc, result) => ({ ...acc, ...result }), {});\n      setSettings(allSettings);\n    } catch (error) {\n      console.error('Failed to fetch settings:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchSettings();\n  }, []);\n\n  return (\n    <SettingsContext.Provider value={{ settings, isLoading, refreshSettings: fetchSettings }}>\n      {children}\n    </SettingsContext.Provider>\n  );\n}\n\nexport function useSettings() {\n  const context = useContext(SettingsContext);\n  if (context === undefined) {\n    throw new Error('useSettings must be used within a SettingsProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AA8DA,MAAM,gCAAkB,IAAA,8KAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAA2B;;IACpE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB,CAAC;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,gBAAgB;QACpB,IAAI;YACF,aAAa;YACb,gCAAgC;YAChC,MAAM,aAAa;gBAAC;gBAAW;gBAAO;gBAAc;gBAAU;aAAW;YACzE,MAAM,WAAW,WAAW,GAAG,CAAC,OAAO;gBACrC,MAAM,WAAW,MAAM,MAAM,CAAC,uBAAuB,EAAE,UAAU;gBACjE,IAAI,SAAS,EAAE,EAAE;oBACf,OAAO,MAAM,SAAS,IAAI;gBAC5B;gBACA,OAAO,CAAC;YACV;YAEA,MAAM,UAAU,MAAM,QAAQ,GAAG,CAAC;YAClC,MAAM,cAAc,QAAQ,MAAM,CAAC,CAAC,KAAK,SAAW,CAAC;oBAAE,GAAG,GAAG;oBAAE,GAAG,MAAM;gBAAC,CAAC,GAAG,CAAC;YAC9E,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAA,0KAAS;sCAAC;YACR;QACF;qCAAG,EAAE;IAEL,qBACE,6LAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAW,iBAAiB;QAAc;kBACpF;;;;;;AAGP;GApCgB;KAAA;AAsCT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},{"offset":{"line":448,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/contexts/ThemeContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { ThemeConfig } from '@/lib/themes/theme-schema';\r\n\r\ninterface ThemeContextType {\r\n  theme: ThemeConfig | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  refreshTheme: () => Promise<void>;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function useThemeContext() {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error('useThemeContext must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\ninterface ThemeProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function ThemeProvider({ children }: ThemeProviderProps) {\r\n  const [theme, setTheme] = useState<ThemeConfig | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchActiveTheme = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await fetch('/api/themes/active', {\r\n        cache: 'no-store',\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch active theme');\r\n      }\r\n\r\n      const data = await response.json();\r\n      if (data.theme) {\r\n        setTheme(data.theme);\r\n      } else {\r\n        setTheme(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching theme:', err);\r\n      setError(err instanceof Error ? err.message : 'Failed to load theme');\r\n      setTheme(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchActiveTheme();\r\n  }, []);\r\n\r\n  return (\r\n    <ThemeContext.Provider\r\n      value={{\r\n        theme,\r\n        loading,\r\n        error,\r\n        refreshTheme: fetchActiveTheme,\r\n      }}\r\n    >\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAYA,MAAM,6BAAe,IAAA,8KAAa,EAA+B;AAE1D,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANgB;AAYT,SAAS,cAAc,EAAE,QAAQ,EAAsB;;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAqB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,mBAAmB;QACvB,IAAI;YACF,WAAW;YACX,SAAS;YACT,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,OAAO;YACT;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,KAAK,KAAK,EAAE;gBACd,SAAS,KAAK,KAAK;YACrB,OAAO;gBACL,SAAS;YACX;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,yBAAyB;YACvC,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;YAC9C,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,0KAAS;mCAAC;YACR;QACF;kCAAG,EAAE;IAEL,qBACE,6LAAC,aAAa,QAAQ;QACpB,OAAO;YACL;YACA;YACA;YACA,cAAc;QAChB;kBAEC;;;;;;AAGP;IAhDgB;KAAA"}},{"offset":{"line":529,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/hooks/useTheme.ts"],"sourcesContent":["/**\r\n * useTheme Hook\r\n * Convenience hook to access theme configuration\r\n */\r\n\r\nimport { useThemeContext } from '@/contexts/ThemeContext';\r\nimport { ThemeConfig } from '@/lib/themes/theme-schema';\r\n\r\nexport function useTheme(): {\r\n  theme: ThemeConfig | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  refreshTheme: () => Promise<void>;\r\n} {\r\n  return useThemeContext();\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED;;;AAGO,SAAS;;IAMd,OAAO,IAAA,sJAAe;AACxB;GAPgB;;QAMP,sJAAe"}},{"offset":{"line":555,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/themes/theme-utils.ts"],"sourcesContent":["/**\r\n * Theme Utilities\r\n * Helper functions for working with themes\r\n */\r\n\r\nimport { ThemeConfig } from './theme-schema';\r\n\r\n/**\r\n * Converts theme config to CSS custom properties\r\n */\r\nexport function themeToCSSVariables(theme: ThemeConfig): string {\r\n  const vars: string[] = [];\r\n\r\n  // Colors\r\n  vars.push(`--theme-color-primary: ${theme.colors.primary};`);\r\n  vars.push(`--theme-color-secondary: ${theme.colors.secondary};`);\r\n  vars.push(`--theme-color-accent: ${theme.colors.accent};`);\r\n  vars.push(`--theme-color-background: ${theme.colors.background};`);\r\n  vars.push(`--theme-color-surface: ${theme.colors.surface};`);\r\n  vars.push(`--theme-color-border: ${theme.colors.border};`);\r\n  vars.push(`--theme-color-text-primary: ${theme.colors.text.primary};`);\r\n  vars.push(`--theme-color-text-secondary: ${theme.colors.text.secondary};`);\r\n  vars.push(`--theme-color-text-muted: ${theme.colors.text.muted};`);\r\n  \r\n  if (theme.colors.success) vars.push(`--theme-color-success: ${theme.colors.success};`);\r\n  if (theme.colors.warning) vars.push(`--theme-color-warning: ${theme.colors.warning};`);\r\n  if (theme.colors.error) vars.push(`--theme-color-error: ${theme.colors.error};`);\r\n  if (theme.colors.info) vars.push(`--theme-color-info: ${theme.colors.info};`);\r\n\r\n  // Typography\r\n  vars.push(`--theme-font-heading: ${theme.typography.fontFamily.heading};`);\r\n  vars.push(`--theme-font-body: ${theme.typography.fontFamily.body};`);\r\n  vars.push(`--theme-font-mono: ${theme.typography.fontFamily.mono || 'monospace'};`);\r\n  \r\n  Object.entries(theme.typography.fontSize).forEach(([key, value]) => {\r\n    vars.push(`--theme-font-size-${key}: ${value};`);\r\n  });\r\n\r\n  Object.entries(theme.typography.fontWeight).forEach(([key, value]) => {\r\n    vars.push(`--theme-font-weight-${key}: ${value};`);\r\n  });\r\n\r\n  Object.entries(theme.typography.lineHeight || {}).forEach(([key, value]) => {\r\n    vars.push(`--theme-line-height-${key}: ${value};`);\r\n  });\r\n\r\n  // Spacing\r\n  Object.entries(theme.spacing).forEach(([key, value]) => {\r\n    vars.push(`--theme-spacing-${key}: ${value};`);\r\n  });\r\n\r\n  // Border Radius\r\n  Object.entries(theme.borderRadius).forEach(([key, value]) => {\r\n    vars.push(`--theme-radius-${key}: ${value};`);\r\n  });\r\n\r\n  // Layout\r\n  vars.push(`--theme-container-max-width: ${theme.layout.containerMaxWidth};`);\r\n  vars.push(`--theme-page-padding: ${theme.layout.pagePadding};`);\r\n  vars.push(`--theme-section-spacing: ${theme.layout.sectionSpacing};`);\r\n\r\n  // Component-specific variables\r\n  if (theme.components.header) {\r\n    vars.push(`--theme-header-bg: ${theme.components.header.backgroundColor};`);\r\n    vars.push(`--theme-header-text: ${theme.components.header.textColor};`);\r\n    vars.push(`--theme-header-height: ${theme.components.header.height};`);\r\n  }\r\n\r\n  if (theme.components.footer) {\r\n    vars.push(`--theme-footer-bg: ${theme.components.footer.backgroundColor};`);\r\n    vars.push(`--theme-footer-text: ${theme.components.footer.textColor};`);\r\n  }\r\n\r\n  if (theme.components.buttons) {\r\n    vars.push(`--theme-button-primary: ${theme.components.buttons.primaryColor};`);\r\n    vars.push(`--theme-button-hover: ${theme.components.buttons.hoverColor};`);\r\n    vars.push(`--theme-button-text: ${theme.components.buttons.textColor};`);\r\n    vars.push(`--theme-button-padding: ${theme.components.buttons.padding};`);\r\n    vars.push(`--theme-button-radius: ${theme.components.buttons.borderRadius};`);\r\n  }\r\n\r\n  return `:root {\\n  ${vars.join('\\n  ')}\\n}`;\r\n}\r\n\r\n/**\r\n * Merges two theme configs (useful for overrides)\r\n */\r\nexport function mergeThemeConfigs(base: ThemeConfig, overrides: Partial<ThemeConfig>): ThemeConfig {\r\n  return {\r\n    ...base,\r\n    ...overrides,\r\n    colors: {\r\n      ...base.colors,\r\n      ...overrides.colors,\r\n      text: {\r\n        ...base.colors.text,\r\n        ...overrides.colors?.text,\r\n      },\r\n    },\r\n    typography: {\r\n      ...base.typography,\r\n      ...overrides.typography,\r\n      fontFamily: {\r\n        ...base.typography.fontFamily,\r\n        ...overrides.typography?.fontFamily,\r\n      },\r\n      fontSize: {\r\n        ...base.typography.fontSize,\r\n        ...overrides.typography?.fontSize,\r\n      },\r\n      fontWeight: {\r\n        ...base.typography.fontWeight,\r\n        ...overrides.typography?.fontWeight,\r\n      },\r\n    },\r\n    spacing: {\r\n      ...base.spacing,\r\n      ...overrides.spacing,\r\n    },\r\n    borderRadius: {\r\n      ...base.borderRadius,\r\n      ...overrides.borderRadius,\r\n    },\r\n    components: {\r\n      ...base.components,\r\n      ...overrides.components,\r\n      header: {\r\n        ...base.components.header,\r\n        ...overrides.components?.header,\r\n      },\r\n      footer: {\r\n        ...base.components.footer,\r\n        ...overrides.components?.footer,\r\n      },\r\n      productCard: {\r\n        ...base.components.productCard,\r\n        ...overrides.components?.productCard,\r\n      },\r\n      buttons: {\r\n        ...base.components.buttons,\r\n        ...overrides.components?.buttons,\r\n      },\r\n    },\r\n    layout: {\r\n      ...base.layout,\r\n      ...overrides.layout,\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Gets a safe theme name for file system\r\n */\r\nexport function sanitizeThemeName(name: string): string {\r\n  return name\r\n    .toLowerCase()\r\n    .replace(/[^a-z0-9]+/g, '-')\r\n    .replace(/^-+|-+$/g, '');\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":698,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/theme/ThemeStyles.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useTheme } from '@/hooks/useTheme';\r\nimport { themeToCSSVariables } from '@/lib/themes/theme-utils';\r\nimport { useEffect } from 'react';\r\n\r\nexport function ThemeStyles() {\r\n  const { theme, loading } = useTheme();\r\n\r\n  useEffect(() => {\r\n    if (!theme) {\r\n      // Remove theme styles if theme is cleared\r\n      const existingStyle = document.getElementById('theme-styles');\r\n      if (existingStyle) {\r\n        existingStyle.remove();\r\n      }\r\n      return;\r\n    }\r\n\r\n    const cssVariables = themeToCSSVariables(theme);\r\n    const customCSS = theme.customCSS || '';\r\n    const fullCSS = cssVariables + (customCSS ? `\\n\\n${customCSS}` : '');\r\n\r\n    // Remove existing theme styles if any\r\n    const existingStyle = document.getElementById('theme-styles');\r\n    if (existingStyle) {\r\n      existingStyle.remove();\r\n    }\r\n\r\n    // Inject new theme styles\r\n    const style = document.createElement('style');\r\n    style.id = 'theme-styles';\r\n    style.textContent = fullCSS;\r\n    document.head.appendChild(style);\r\n\r\n    console.log('Theme applied:', theme.metadata?.name);\r\n\r\n    return () => {\r\n      const styleToRemove = document.getElementById('theme-styles');\r\n      if (styleToRemove) {\r\n        styleToRemove.remove();\r\n      }\r\n    };\r\n  }, [theme]);\r\n\r\n  return null;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,IAAA,uIAAQ;IAEnC,IAAA,0KAAS;iCAAC;YACR,IAAI,CAAC,OAAO;gBACV,0CAA0C;gBAC1C,MAAM,gBAAgB,SAAS,cAAc,CAAC;gBAC9C,IAAI,eAAe;oBACjB,cAAc,MAAM;gBACtB;gBACA;YACF;YAEA,MAAM,eAAe,IAAA,gKAAmB,EAAC;YACzC,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,UAAU,eAAe,CAAC,YAAY,CAAC,IAAI,EAAE,WAAW,GAAG,EAAE;YAEnE,sCAAsC;YACtC,MAAM,gBAAgB,SAAS,cAAc,CAAC;YAC9C,IAAI,eAAe;gBACjB,cAAc,MAAM;YACtB;YAEA,0BAA0B;YAC1B,MAAM,QAAQ,SAAS,aAAa,CAAC;YACrC,MAAM,EAAE,GAAG;YACX,MAAM,WAAW,GAAG;YACpB,SAAS,IAAI,CAAC,WAAW,CAAC;YAE1B,QAAQ,GAAG,CAAC,kBAAkB,MAAM,QAAQ,EAAE;YAE9C;yCAAO;oBACL,MAAM,gBAAgB,SAAS,cAAc,CAAC;oBAC9C,IAAI,eAAe;wBACjB,cAAc,MAAM;oBACtB;gBACF;;QACF;gCAAG;QAAC;KAAM;IAEV,OAAO;AACT;GAxCgB;;QACa,uIAAQ;;;KADrB"}},{"offset":{"line":766,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/providers/ThemeProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ThemeProvider as ThemeContextProvider } from '@/contexts/ThemeContext';\r\nimport { ThemeStyles } from '@/components/theme/ThemeStyles';\r\n\r\ninterface ThemeProviderProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function ThemeProvider({ children }: ThemeProviderProps) {\r\n  return (\r\n    <ThemeContextProvider>\r\n      <ThemeStyles />\r\n      {children}\r\n    </ThemeContextProvider>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASO,SAAS,cAAc,EAAE,QAAQ,EAAsB;IAC5D,qBACE,6LAAC,oJAAoB;;0BACnB,6LAAC,4JAAW;;;;;YACX;;;;;;;AAGP;KAPgB"}},{"offset":{"line":803,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/CustomScripts.tsx"],"sourcesContent":["'use client';\n\nimport { useSettings } from '@/contexts/SettingsContext';\nimport Script from 'next/script';\nimport { useEffect } from 'react';\n\nexport function CustomScripts() {\n  const { settings } = useSettings();\n\n  const googleAnalyticsId = settings.seo_google_analytics_id;\n  const facebookPixelId = settings.social_facebook_pixel_id;\n  const customJS = settings.appearance_custom_js;\n\n  useEffect(() => {\n    // Inject custom JavaScript if provided\n    if (customJS) {\n      try {\n        const script = document.createElement('script');\n        script.textContent = customJS;\n        document.body.appendChild(script);\n\n        return () => {\n          document.body.removeChild(script);\n        };\n      } catch (error) {\n        console.error('Error loading custom JS:', error);\n      }\n    }\n  }, [customJS]);\n\n  return (\n    <>\n      {/* Google Analytics */}\n      {googleAnalyticsId && (\n        <>\n          <Script\n            src={`https://www.googletagmanager.com/gtag/js?id=${googleAnalyticsId}`}\n            strategy=\"afterInteractive\"\n          />\n          <Script id=\"google-analytics\" strategy=\"afterInteractive\">\n            {`\n              window.dataLayer = window.dataLayer || [];\n              function gtag(){dataLayer.push(arguments);}\n              gtag('js', new Date());\n              gtag('config', '${googleAnalyticsId}');\n            `}\n          </Script>\n        </>\n      )}\n\n      {/* Facebook Pixel */}\n      {facebookPixelId && (\n        <Script id=\"facebook-pixel\" strategy=\"afterInteractive\">\n          {`\n            !function(f,b,e,v,n,t,s)\n            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?\n            n.callMethod.apply(n,arguments):n.queue.push(arguments)};\n            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\n            n.queue=[];t=b.createElement(e);t.async=!0;\n            t.src=v;s=b.getElementsByTagName(e)[0];\n            s.parentNode.insertBefore(t,s)}(window, document,'script',\n            'https://connect.facebook.net/en_US/fbevents.js');\n            fbq('init', '${facebookPixelId}');\n            fbq('track', 'PageView');\n          `}\n        </Script>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,qJAAW;IAEhC,MAAM,oBAAoB,SAAS,uBAAuB;IAC1D,MAAM,kBAAkB,SAAS,wBAAwB;IACzD,MAAM,WAAW,SAAS,oBAAoB;IAE9C,IAAA,0KAAS;mCAAC;YACR,uCAAuC;YACvC,IAAI,UAAU;gBACZ,IAAI;oBACF,MAAM,SAAS,SAAS,aAAa,CAAC;oBACtC,OAAO,WAAW,GAAG;oBACrB,SAAS,IAAI,CAAC,WAAW,CAAC;oBAE1B;mDAAO;4BACL,SAAS,IAAI,CAAC,WAAW,CAAC;wBAC5B;;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,4BAA4B;gBAC5C;YACF;QACF;kCAAG;QAAC;KAAS;IAEb,qBACE;;YAEG,mCACC;;kCACE,6LAAC,4IAAM;wBACL,KAAK,CAAC,4CAA4C,EAAE,mBAAmB;wBACvE,UAAS;;;;;;kCAEX,6LAAC,4IAAM;wBAAC,IAAG;wBAAmB,UAAS;kCACpC,CAAC;;;;8BAIgB,EAAE,kBAAkB;YACtC,CAAC;;;;;;;;YAMN,iCACC,6LAAC,4IAAM;gBAAC,IAAG;gBAAiB,UAAS;0BAClC,CAAC;;;;;;;;;yBASa,EAAE,gBAAgB;;UAEjC,CAAC;;;;;;;;AAKX;GA/DgB;;QACO,qJAAW;;;KADlB"}},{"offset":{"line":910,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/CustomStyles.tsx"],"sourcesContent":["'use client';\n\nimport { useSettings } from '@/contexts/SettingsContext';\nimport { useEffect } from 'react';\n\nexport function CustomStyles() {\n  const { settings } = useSettings();\n\n  const customCSS = settings.appearance_custom_css;\n\n  useEffect(() => {\n    // Inject custom CSS if provided\n    if (customCSS) {\n      const style = document.createElement('style');\n      style.textContent = customCSS;\n      style.id = 'custom-store-styles';\n      document.head.appendChild(style);\n\n      return () => {\n        const existingStyle = document.getElementById('custom-store-styles');\n        if (existingStyle) {\n          document.head.removeChild(existingStyle);\n        }\n      };\n    }\n  }, [customCSS]);\n\n  return null; // This component doesn't render anything\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAKO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,qJAAW;IAEhC,MAAM,YAAY,SAAS,qBAAqB;IAEhD,IAAA,0KAAS;kCAAC;YACR,gCAAgC;YAChC,IAAI,WAAW;gBACb,MAAM,QAAQ,SAAS,aAAa,CAAC;gBACrC,MAAM,WAAW,GAAG;gBACpB,MAAM,EAAE,GAAG;gBACX,SAAS,IAAI,CAAC,WAAW,CAAC;gBAE1B;8CAAO;wBACL,MAAM,gBAAgB,SAAS,cAAc,CAAC;wBAC9C,IAAI,eAAe;4BACjB,SAAS,IAAI,CAAC,WAAW,CAAC;wBAC5B;oBACF;;YACF;QACF;iCAAG;QAAC;KAAU;IAEd,OAAO,MAAM,yCAAyC;AACxD;GAvBgB;;QACO,qJAAW;;;KADlB"}},{"offset":{"line":962,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/PopupManager.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useCallback } from 'react';\nimport { usePathname } from 'next/navigation';\nimport { X } from 'lucide-react';\n\ninterface Popup {\n  id: string;\n  title: string | null;\n  content: string;\n  type: string;\n  triggerValue: number | null;\n  position: string;\n  width: number;\n  height: number | null;\n  backgroundColor: string;\n  textColor: string;\n  buttonText: string;\n  buttonColor: string;\n  buttonTextColor: string;\n  showCloseButton: boolean;\n  overlayColor: string;\n  imageUrl: string | null;\n  frequency: string;\n  delaySeconds: number;\n  ctaType: string;\n  ctaUrl: string | null;\n  discountCode: string | null;\n}\n\nexport function PopupManager() {\n  const pathname = usePathname();\n  const [popups, setPopups] = useState<Popup[]>([]);\n  const [activePopup, setActivePopup] = useState<Popup | null>(null);\n  const [isVisible, setIsVisible] = useState(false);\n\n  // Determine current page type\n  const getPageType = () => {\n    if (pathname === '/') return 'HOMEPAGE';\n    if (pathname.startsWith('/products/')) return 'PRODUCT_PAGES';\n    if (pathname === '/cart') return 'CART_PAGE';\n    if (pathname.startsWith('/checkout')) return 'CHECKOUT';\n    if (pathname.startsWith('/blog')) return 'BLOG';\n    return 'ALL_PAGES';\n  };\n\n  // Check if popup should be shown based on frequency\n  const shouldShowPopup = (popup: Popup): boolean => {\n    const storageKey = `popup_${popup.id}_last_shown`;\n    const lastShown = localStorage.getItem(storageKey);\n\n    if (!lastShown) return true;\n\n    const lastShownTime = parseInt(lastShown);\n    const now = Date.now();\n\n    switch (popup.frequency) {\n      case 'always':\n        return true;\n      case 'once_per_session':\n        return false; // Already shown this session\n      case 'once_per_day':\n        return now - lastShownTime > 24 * 60 * 60 * 1000;\n      case 'once_per_week':\n        return now - lastShownTime > 7 * 24 * 60 * 60 * 1000;\n      default:\n        return true;\n    }\n  };\n\n  // Mark popup as shown\n  const markPopupShown = (popup: Popup) => {\n    const storageKey = `popup_${popup.id}_last_shown`;\n    localStorage.setItem(storageKey, Date.now().toString());\n  };\n\n  // Track analytics event\n  const trackEvent = async (popupId: string, event: string) => {\n    try {\n      await fetch(`/api/popups/${popupId}/track`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ event }),\n      });\n    } catch (error) {\n      console.error('Error tracking popup event:', error);\n    }\n  };\n\n  // Show popup\n  const showPopup = useCallback((popup: Popup) => {\n    if (!shouldShowPopup(popup)) return;\n\n    setActivePopup(popup);\n    setIsVisible(true);\n    markPopupShown(popup);\n    trackEvent(popup.id, 'view');\n  }, []);\n\n  // Close popup\n  const closePopup = () => {\n    if (activePopup) {\n      trackEvent(activePopup.id, 'dismissal');\n    }\n    setIsVisible(false);\n    setTimeout(() => setActivePopup(null), 300); // Allow animation to complete\n  };\n\n  // Handle CTA click\n  const handleCTAClick = () => {\n    if (!activePopup) return;\n\n    trackEvent(activePopup.id, 'click');\n\n    if (activePopup.ctaType === 'link' && activePopup.ctaUrl) {\n      window.location.href = activePopup.ctaUrl;\n    } else if (activePopup.ctaType === 'discount_code') {\n      // Copy discount code to clipboard\n      if (activePopup.discountCode) {\n        navigator.clipboard.writeText(activePopup.discountCode);\n        alert(`Discount code ${activePopup.discountCode} copied to clipboard!`);\n      }\n    } else if (activePopup.ctaType === 'email_capture') {\n      trackEvent(activePopup.id, 'conversion');\n      closePopup();\n    }\n  };\n\n  // Fetch active popups\n  useEffect(() => {\n    const fetchPopups = async () => {\n      try {\n        const pageType = getPageType();\n        const response = await fetch(`/api/popups/active?page=${pageType}&url=${pathname}`);\n        if (response.ok) {\n          const data = await response.json();\n          setPopups(data);\n        }\n      } catch (error) {\n        console.error('Error fetching popups:', error);\n      }\n    };\n\n    fetchPopups();\n  }, [pathname]);\n\n  // Setup triggers\n  useEffect(() => {\n    if (popups.length === 0 || activePopup) return;\n\n    const triggerPopup = popups[0]; // Take highest priority popup\n\n    // Wait for initial delay\n    const initialDelay = setTimeout(() => {\n      switch (triggerPopup.type) {\n        case 'EXIT_INTENT':\n          setupExitIntent(triggerPopup);\n          break;\n        case 'TIMED':\n          setTimeout(() => showPopup(triggerPopup), (triggerPopup.triggerValue || 5) * 1000);\n          break;\n        case 'SCROLL_BASED':\n          setupScrollTrigger(triggerPopup);\n          break;\n        case 'PAGE_LOAD':\n          showPopup(triggerPopup);\n          break;\n      }\n    }, triggerPopup.delaySeconds * 1000);\n\n    return () => clearTimeout(initialDelay);\n  }, [popups, activePopup, showPopup]);\n\n  // Exit intent detection\n  const setupExitIntent = (popup: Popup) => {\n    const handleMouseLeave = (e: MouseEvent) => {\n      if (e.clientY <= 0) {\n        showPopup(popup);\n        document.removeEventListener('mouseleave', handleMouseLeave);\n      }\n    };\n\n    document.addEventListener('mouseleave', handleMouseLeave);\n    return () => document.removeEventListener('mouseleave', handleMouseLeave);\n  };\n\n  // Scroll-based trigger\n  const setupScrollTrigger = (popup: Popup) => {\n    const handleScroll = () => {\n      const scrollPercentage =\n        (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;\n\n      if (scrollPercentage >= (popup.triggerValue || 50)) {\n        showPopup(popup);\n        window.removeEventListener('scroll', handleScroll);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  };\n\n  // Get position styles\n  const getPositionStyles = () => {\n    if (!activePopup) return {};\n\n    const base: any = {\n      position: 'fixed',\n      zIndex: 9999,\n      width: `${activePopup.width}px`,\n      height: activePopup.height ? `${activePopup.height}px` : 'auto',\n    };\n\n    switch (activePopup.position) {\n      case 'CENTER':\n        return { ...base, top: '50%', left: '50%', transform: 'translate(-50%, -50%)' };\n      case 'TOP':\n        return { ...base, top: 0, left: 0, right: 0, width: '100%' };\n      case 'BOTTOM':\n        return { ...base, bottom: 0, left: 0, right: 0, width: '100%' };\n      case 'TOP_LEFT':\n        return { ...base, top: '20px', left: '20px' };\n      case 'TOP_RIGHT':\n        return { ...base, top: '20px', right: '20px' };\n      case 'BOTTOM_LEFT':\n        return { ...base, bottom: '20px', left: '20px' };\n      case 'BOTTOM_RIGHT':\n        return { ...base, bottom: '20px', right: '20px' };\n      default:\n        return base;\n    }\n  };\n\n  if (!activePopup) return null;\n\n  return (\n    <>\n      {/* Overlay */}\n      <div\n        className={`fixed inset-0 transition-opacity duration-300 ${\n          isVisible ? 'opacity-100' : 'opacity-0 pointer-events-none'\n        }`}\n        style={{\n          backgroundColor: activePopup.overlayColor,\n          zIndex: 9998,\n        }}\n        onClick={closePopup}\n      />\n\n      {/* Popup */}\n      <div\n        className={`transition-all duration-300 ${\n          isVisible ? 'opacity-100 scale-100' : 'opacity-0 scale-95 pointer-events-none'\n        }`}\n        style={{\n          ...getPositionStyles(),\n          backgroundColor: activePopup.backgroundColor,\n          color: activePopup.textColor,\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"relative rounded-lg shadow-2xl overflow-hidden\">\n          {/* Close button */}\n          {activePopup.showCloseButton && (\n            <button\n              onClick={closePopup}\n              className=\"absolute top-3 right-3 w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors z-10\"\n              aria-label=\"Close popup\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          )}\n\n          {/* Content */}\n          <div className=\"p-6 space-y-4\">\n            {/* Image */}\n            {activePopup.imageUrl && (\n              <img\n                src={activePopup.imageUrl}\n                alt=\"Popup\"\n                className=\"w-full h-auto rounded\"\n              />\n            )}\n\n            {/* Title */}\n            {activePopup.title && (\n              <h2 className=\"text-2xl font-bold\">{activePopup.title}</h2>\n            )}\n\n            {/* Content */}\n            <div\n              className=\"prose max-w-none\"\n              dangerouslySetInnerHTML={{ __html: activePopup.content }}\n            />\n\n            {/* Email capture form */}\n            {activePopup.ctaType === 'email_capture' && (\n              <form\n                onSubmit={(e) => {\n                  e.preventDefault();\n                  handleCTAClick();\n                }}\n                className=\"space-y-2\"\n              >\n                <input\n                  type=\"email\"\n                  placeholder=\"Enter your email\"\n                  required\n                  className=\"w-full px-4 py-2 border rounded\"\n                />\n                <button\n                  type=\"submit\"\n                  className=\"w-full py-3 rounded font-semibold transition-colors\"\n                  style={{\n                    backgroundColor: activePopup.buttonColor,\n                    color: activePopup.buttonTextColor,\n                  }}\n                >\n                  {activePopup.buttonText}\n                </button>\n              </form>\n            )}\n\n            {/* Discount code display */}\n            {activePopup.ctaType === 'discount_code' && activePopup.discountCode && (\n              <div className=\"space-y-2\">\n                <div className=\"p-4 bg-gray-100 rounded text-center\">\n                  <div className=\"text-sm text-gray-600 mb-1\">Your discount code:</div>\n                  <div className=\"text-2xl font-bold tracking-wider\">{activePopup.discountCode}</div>\n                </div>\n                <button\n                  onClick={handleCTAClick}\n                  className=\"w-full py-3 rounded font-semibold transition-colors\"\n                  style={{\n                    backgroundColor: activePopup.buttonColor,\n                    color: activePopup.buttonTextColor,\n                  }}\n                >\n                  {activePopup.buttonText}\n                </button>\n              </div>\n            )}\n\n            {/* Link button */}\n            {activePopup.ctaType === 'link' && (\n              <button\n                onClick={handleCTAClick}\n                className=\"w-full py-3 rounded font-semibold transition-colors\"\n                style={{\n                  backgroundColor: activePopup.buttonColor,\n                  color: activePopup.buttonTextColor,\n                }}\n              >\n                {activePopup.buttonText}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}}],"debugId":"4ba257e7-ae5a-5a83-b064-b660ccb2e433"}