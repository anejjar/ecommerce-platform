{"version":3,"sources":null,"sections":[{"offset":{"line":5,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/editor/SidebarBlock.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useDraggable } from '@dnd-kit/core';\r\nimport { cn } from '@/lib/utils';\r\nimport { GripVertical, Plus, Type, Image as ImageIcon, Layout, Box, Sparkles, Users, DollarSign, MessageSquare, HelpCircle, Grid3x3, Video, FileText, Megaphone, Navigation, Menu, Share2, Minus, ArrowRight } from 'lucide-react';\r\n\r\ninterface SidebarBlockProps {\r\n    template: any;\r\n    onAdd: () => void;\r\n}\r\n\r\nconst getIconForCategory = (category: string) => {\r\n    const cat = category.toLowerCase().replace('_', '');\r\n    switch (cat) {\r\n        case 'hero':\r\n            return Sparkles;\r\n        case 'content':\r\n        case 'text':\r\n            return FileText;\r\n        case 'features':\r\n            return Grid3x3;\r\n        case 'cta':\r\n        case 'calltoaction':\r\n            return Megaphone;\r\n        case 'testimonials':\r\n            return MessageSquare;\r\n        case 'pricing':\r\n            return DollarSign;\r\n        case 'team':\r\n            return Users;\r\n        case 'faq':\r\n            return HelpCircle;\r\n        case 'gallery':\r\n        case 'media':\r\n            return ImageIcon;\r\n        case 'video':\r\n            return Video;\r\n        case 'form':\r\n            return FileText;\r\n        case 'logo':\r\n        case 'logogrid':\r\n            return Grid3x3;\r\n        case 'stats':\r\n            return Grid3x3;\r\n        case 'layout':\r\n            return Layout;\r\n        case 'navigation':\r\n            return Navigation;\r\n        case 'header':\r\n            return Menu;\r\n        case 'footer':\r\n            return Layout;\r\n        case 'social':\r\n            return Share2;\r\n        case 'breadcrumbs':\r\n            return ArrowRight;\r\n        case 'divider':\r\n            return Minus;\r\n        case 'spacer':\r\n            return Box;\r\n        default:\r\n            return Box;\r\n    }\r\n};\r\n\r\nconst getCategoryColor = (category: string) => {\r\n    const cat = category.toLowerCase().replace('_', '');\r\n    switch (cat) {\r\n        case 'hero':\r\n            return 'bg-gradient-to-br from-purple-50 to-purple-100 text-purple-600';\r\n        case 'features':\r\n            return 'bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600';\r\n        case 'cta':\r\n        case 'calltoaction':\r\n            return 'bg-gradient-to-br from-orange-50 to-orange-100 text-orange-600';\r\n        case 'testimonials':\r\n            return 'bg-gradient-to-br from-green-50 to-green-100 text-green-600';\r\n        case 'pricing':\r\n            return 'bg-gradient-to-br from-yellow-50 to-yellow-100 text-yellow-600';\r\n        case 'team':\r\n            return 'bg-gradient-to-br from-pink-50 to-pink-100 text-pink-600';\r\n        case 'faq':\r\n            return 'bg-gradient-to-br from-indigo-50 to-indigo-100 text-indigo-600';\r\n        case 'form':\r\n            return 'bg-gradient-to-br from-teal-50 to-teal-100 text-teal-600';\r\n        case 'navigation':\r\n            return 'bg-gradient-to-br from-slate-50 to-slate-100 text-slate-600';\r\n        case 'header':\r\n            return 'bg-gradient-to-br from-slate-50 to-slate-100 text-slate-600';\r\n        case 'footer':\r\n            return 'bg-gradient-to-br from-slate-50 to-slate-100 text-slate-600';\r\n        case 'social':\r\n            return 'bg-gradient-to-br from-pink-50 to-pink-100 text-pink-600';\r\n        case 'breadcrumbs':\r\n            return 'bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600';\r\n        case 'divider':\r\n            return 'bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600';\r\n        case 'spacer':\r\n            return 'bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600';\r\n        default:\r\n            return 'bg-gradient-to-br from-gray-50 to-gray-100 text-gray-600';\r\n    }\r\n};\r\n\r\nexport const SidebarBlock: React.FC<SidebarBlockProps> = ({ template, onAdd }) => {\r\n    const Icon = getIconForCategory(template.category);\r\n    const colorClass = getCategoryColor(template.category);\r\n\r\n    return (\r\n        <div\r\n            className=\"group relative flex flex-col items-center justify-center p-3 rounded-lg border-2 bg-white hover:border-primary hover:shadow-lg transition-all cursor-pointer h-28 text-center gap-2 overflow-hidden\"\r\n            onClick={onAdd}\r\n        >\r\n            {/* Background gradient on hover */}\r\n            <div className={cn(\r\n                \"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200\",\r\n                colorClass\r\n            )} />\r\n            \r\n            {/* Content */}\r\n            <div className=\"relative z-10 flex flex-col items-center gap-2 w-full\">\r\n                <div className={cn(\r\n                    \"p-2.5 rounded-lg transition-all duration-200\",\r\n                    colorClass,\r\n                    \"group-hover:scale-110 group-hover:shadow-md\"\r\n                )}>\r\n                    <Icon className=\"h-5 w-5\" />\r\n                </div>\r\n                <span className=\"text-xs font-semibold text-gray-700 group-hover:text-gray-900 line-clamp-2 leading-tight px-1\">\r\n                    {template.name}\r\n                </span>\r\n            </div>\r\n\r\n            {/* Add button */}\r\n            <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all transform translate-x-1 group-hover:translate-x-0\">\r\n                <div className=\"bg-primary text-white rounded-full p-1.5 shadow-lg\">\r\n                    <Plus className=\"h-3.5 w-3.5\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAOA,MAAM,qBAAqB,CAAC;IACxB,MAAM,MAAM,SAAS,WAAW,GAAG,OAAO,CAAC,KAAK;IAChD,OAAQ;QACJ,KAAK;YACD,OAAO,yNAAQ;QACnB,KAAK;QACL,KAAK;YACD,OAAO,6NAAQ;QACnB,KAAK;YACD,OAAO,0NAAO;QAClB,KAAK;QACL,KAAK;YACD,OAAO,4NAAS;QACpB,KAAK;YACD,OAAO,4OAAa;QACxB,KAAK;YACD,OAAO,mOAAU;QACrB,KAAK;YACD,OAAO,gNAAK;QAChB,KAAK;YACD,OAAO,+OAAU;QACrB,KAAK;QACL,KAAK;YACD,OAAO,gNAAS;QACpB,KAAK;YACD,OAAO,gNAAK;QAChB,KAAK;YACD,OAAO,6NAAQ;QACnB,KAAK;QACL,KAAK;YACD,OAAO,0NAAO;QAClB,KAAK;YACD,OAAO,0NAAO;QAClB,KAAK;YACD,OAAO,kOAAM;QACjB,KAAK;YACD,OAAO,+NAAU;QACrB,KAAK;YACD,OAAO,6MAAI;QACf,KAAK;YACD,OAAO,kOAAM;QACjB,KAAK;YACD,OAAO,uNAAM;QACjB,KAAK;YACD,OAAO,mOAAU;QACrB,KAAK;YACD,OAAO,gNAAK;QAChB,KAAK;YACD,OAAO,0MAAG;QACd;YACI,OAAO,0MAAG;IAClB;AACJ;AAEA,MAAM,mBAAmB,CAAC;IACtB,MAAM,MAAM,SAAS,WAAW,GAAG,OAAO,CAAC,KAAK;IAChD,OAAQ;QACJ,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;QACL,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX,KAAK;YACD,OAAO;QACX;YACI,OAAO;IACf;AACJ;AAEO,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE;IACzE,MAAM,OAAO,mBAAmB,SAAS,QAAQ;IACjD,MAAM,aAAa,iBAAiB,SAAS,QAAQ;IAErD,qBACI,6LAAC;QACG,WAAU;QACV,SAAS;;0BAGT,6LAAC;gBAAI,WAAW,IAAA,4HAAE,EACd,sFACA;;;;;;0BAIJ,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAW,IAAA,4HAAE,EACd,gDACA,YACA;kCAEA,cAAA,6LAAC;4BAAK,WAAU;;;;;;;;;;;kCAEpB,6LAAC;wBAAK,WAAU;kCACX,SAAS,IAAI;;;;;;;;;;;;0BAKtB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC,6MAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKpC;KArCa"}},{"offset":{"line":206,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/BlockPreview.tsx"],"sourcesContent":["import React from 'react';\r\nimport { NextIntlClientProvider } from 'next-intl';\r\nimport { Card } from '@/components/ui/card';\r\nimport { HeroBackgroundImage } from '@/components/landing-page/blocks/HeroBackgroundImage';\r\nimport { HeroVideoBackground } from '@/components/landing-page/blocks/HeroVideoBackground';\r\nimport { HeroSplitLayout } from '@/components/landing-page/blocks/HeroSplitLayout';\r\nimport { HeroMinimal } from '@/components/landing-page/blocks/HeroMinimal';\r\nimport { HeroGradient } from '@/components/landing-page/blocks/HeroGradient';\r\nimport { FeaturesGrid } from '@/components/landing-page/blocks/FeaturesGrid';\r\nimport { FeaturesAlternating } from '@/components/landing-page/blocks/FeaturesAlternating';\r\nimport { FeaturesIconBoxes } from '@/components/landing-page/blocks/FeaturesIconBoxes';\r\nimport { FeaturesScreenshots } from '@/components/landing-page/blocks/FeaturesScreenshots';\r\nimport { CTABanner } from '@/components/landing-page/blocks/CTABanner';\r\nimport { CTACard } from '@/components/landing-page/blocks/CTACard';\r\nimport { CTASplit } from '@/components/landing-page/blocks/CTASplit';\r\nimport { TestimonialsCarousel } from '@/components/landing-page/blocks/TestimonialsCarousel';\r\nimport { TestimonialsGrid } from '@/components/landing-page/blocks/TestimonialsGrid';\r\nimport { PricingTable } from '@/components/landing-page/blocks/PricingTable';\r\nimport { PricingComparison } from '@/components/landing-page/blocks/PricingComparison';\r\nimport { TeamGrid } from '@/components/landing-page/blocks/TeamGrid';\r\nimport { StatsShowcase } from '@/components/landing-page/blocks/StatsShowcase';\r\nimport { LogoGrid } from '@/components/landing-page/blocks/LogoGrid';\r\nimport { NewsletterSignup } from '@/components/landing-page/blocks/NewsletterSignup';\r\nimport { ContactForm } from '@/components/landing-page/blocks/ContactForm';\r\nimport { FAQAccordion } from '@/components/landing-page/blocks/FAQAccordion';\r\nimport { GalleryGrid } from '@/components/landing-page/blocks/GalleryGrid';\r\nimport { NavigationBar } from '@/components/landing-page/blocks/NavigationBar';\r\nimport { PageHeader } from '@/components/landing-page/blocks/PageHeader';\r\nimport { Footer } from '@/components/landing-page/blocks/Footer';\r\nimport { SocialLinks } from '@/components/landing-page/blocks/SocialLinks';\r\nimport { Breadcrumbs } from '@/components/landing-page/blocks/Breadcrumbs';\r\nimport { Divider } from '@/components/landing-page/blocks/Divider';\r\nimport { Spacer } from '@/components/landing-page/blocks/Spacer';\r\nimport { VideoPlayer } from '@/components/landing-page/blocks/VideoPlayer';\r\nimport { TextContent } from '@/components/landing-page/blocks/TextContent';\r\nimport { ProductGrid } from '@/components/landing-page/blocks/ProductGrid';\r\nimport { ProductCardBlock } from '@/components/landing-page/blocks/ProductCardBlock';\r\nimport { ProductDescription } from '@/components/landing-page/blocks/ProductDescription';\r\nimport { AddToCartButton } from '@/components/landing-page/blocks/AddToCartButton';\r\nimport { CartSummary } from '@/components/landing-page/blocks/CartSummary';\r\nimport { ProductImageGallery } from '@/components/landing-page/blocks/ProductImageGallery';\r\nimport { ProductReviews } from '@/components/landing-page/blocks/ProductReviews';\r\nimport { RelatedProducts } from '@/components/landing-page/blocks/RelatedProducts';\r\nimport { ProductTabs } from '@/components/landing-page/blocks/ProductTabs';\r\nimport { BlogGrid } from '@/components/landing-page/blocks/BlogGrid';\r\nimport { BlogPostCard } from '@/components/landing-page/blocks/BlogPostCard';\r\nimport { BlogPostContent } from '@/components/landing-page/blocks/BlogPostContent';\r\nimport { BlogCategories } from '@/components/landing-page/blocks/BlogCategories';\r\nimport { RecentPostsWidget } from '@/components/landing-page/blocks/RecentPostsWidget';\r\n\r\ninterface BlockPreviewProps {\r\n    template: {\r\n        name: string;\r\n        category: string;\r\n        slug?: string;\r\n        componentCode?: string;\r\n    };\r\n    config: any;\r\n}\r\n\r\nexport const BlockPreview: React.FC<BlockPreviewProps> = ({\r\n    template,\r\n    config\r\n}) => {\r\n    // Debug logging to check template data\r\n    // console.log('BlockPreview template:', template);\r\n    // console.log('BlockPreview config:', config);\r\n\r\n    // Use config as a key to force re-render when config changes\r\n    const configKey = JSON.stringify(config);\r\n\r\n    const renderBlockContent = () => {\r\n        // If we have a slug, try to match it to a component\r\n        if (template.slug) {\r\n            switch (template.slug) {\r\n                case 'hero-background-image':\r\n                    return <HeroBackgroundImage config={config} />;\r\n                case 'hero-video-background':\r\n                    return <HeroVideoBackground config={config} />;\r\n                case 'hero-split-layout':\r\n                    return <HeroSplitLayout config={config} />;\r\n                case 'hero-minimal-badge':\r\n                    return <HeroMinimal config={config} />;\r\n                case 'hero-gradient':\r\n                    return <HeroGradient config={config} />;\r\n                case 'features-3-column-grid':\r\n                case 'features-grid':\r\n                    return <FeaturesGrid config={config} />;\r\n                case 'features-alternating':\r\n                    return <FeaturesAlternating config={config} />;\r\n                case 'features-icon-boxes':\r\n                    return <FeaturesIconBoxes config={config} />;\r\n                case 'features-screenshots':\r\n                    return <FeaturesScreenshots config={config} />;\r\n                case 'cta-full-width':\r\n                case 'cta-banner':\r\n                    return <CTABanner config={config} />;\r\n                case 'cta-card':\r\n                    return <CTACard config={config} />;\r\n                case 'cta-split':\r\n                    return <CTASplit config={config} />;\r\n                case 'testimonials-carousel':\r\n                    return <TestimonialsCarousel config={config} />;\r\n                case 'testimonials-grid':\r\n                    return <TestimonialsGrid config={config} />;\r\n                case 'pricing-table':\r\n                case 'pricing-3-tier':\r\n                    return <PricingTable config={config} />;\r\n                case 'pricing-comparison':\r\n                    return <PricingComparison config={config} />;\r\n                case 'team-grid':\r\n                    return <TeamGrid config={config} />;\r\n                case 'stats-showcase':\r\n                    return <StatsShowcase config={config} />;\r\n                case 'logo-grid':\r\n                    return <LogoGrid config={config} />;\r\n                case 'newsletter-signup':\r\n                    return <NewsletterSignup config={config} />;\r\n                case 'contact-form':\r\n                    return <ContactForm config={config} />;\r\n                case 'faq-accordion':\r\n                    return <FAQAccordion config={config} />;\r\n                case 'gallery-grid':\r\n                    return <GalleryGrid config={config} />;\r\n                case 'navigation-bar':\r\n                    return <NavigationBar config={config} />;\r\n                case 'page-header':\r\n                    return <PageHeader config={config} />;\r\n                case 'footer':\r\n                    return <Footer config={config} />;\r\n                case 'social-links':\r\n                    return <SocialLinks config={config} />;\r\n                case 'breadcrumbs':\r\n                    return <Breadcrumbs config={config} />;\r\n                case 'divider':\r\n                    return <Divider config={config} />;\r\n                case 'spacer':\r\n                    return <Spacer config={config} />;\r\n                case 'video-player':\r\n                    return <VideoPlayer config={config} />;\r\n                case 'text-content':\r\n                    return <TextContent config={config} />;\r\n                \r\n                // Product blocks\r\n                case 'product-grid':\r\n                    return <ProductGrid config={config} />;\r\n                case 'product-card':\r\n                    return <ProductCardBlock config={config} />;\r\n                case 'product-description':\r\n                    return <ProductDescription config={config} />;\r\n                case 'add-to-cart-button':\r\n                    return <AddToCartButton config={config} />;\r\n                case 'cart-summary':\r\n                    return <CartSummary config={config} />;\r\n                case 'product-image-gallery':\r\n                    return <ProductImageGallery config={config} />;\r\n                case 'product-reviews':\r\n                    return <ProductReviews config={config} />;\r\n                case 'related-products':\r\n                    return <RelatedProducts config={config} />;\r\n                case 'product-tabs':\r\n                    return <ProductTabs config={config} />;\r\n                \r\n                // Blog blocks\r\n                case 'blog-grid':\r\n                    return <BlogGrid config={config} />;\r\n                case 'blog-post-card':\r\n                    return <BlogPostCard config={config} />;\r\n                case 'blog-post-content':\r\n                    return <BlogPostContent config={config} />;\r\n                case 'blog-categories':\r\n                    return <BlogCategories config={config} />;\r\n                case 'recent-posts-widget':\r\n                    return <RecentPostsWidget config={config} />;\r\n            }\r\n        }\r\n\r\n        // Fallback for unknown blocks or missing slugs\r\n        return (\r\n            <div className=\"p-8 text-center space-y-4\">\r\n                <p className=\"text-muted-foreground\">\r\n                    Preview not available for this block type.\r\n                </p>\r\n                <div className=\"text-xs text-left bg-gray-100 p-4 rounded overflow-auto max-h-[200px]\">\r\n                    <pre>{JSON.stringify(config, null, 2)}</pre>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Minimal messages for preview context\r\n    // These provide fallback translations for components that use useTranslations()\r\n    const minimalMessages = {\r\n        product: {\r\n            addedToCart: 'Added to cart',\r\n            addToCart: 'Add to Cart',\r\n            outOfStock: 'Out of Stock',\r\n            featured: 'Featured',\r\n        },\r\n        cart: {\r\n            emptyCart: 'Your cart is empty',\r\n            addProducts: 'Add some products to your cart',\r\n            continueShopping: 'Continue Shopping',\r\n            item: 'item',\r\n            items: 'items',\r\n            subtotal: 'Subtotal',\r\n            total: 'Total',\r\n            proceedToCheckout: 'Proceed to Checkout',\r\n            remove: 'Remove',\r\n            each: 'each',\r\n            orderSummary: 'Order Summary',\r\n            tax: 'Tax',\r\n            shipping: 'Shipping',\r\n            free: 'Free',\r\n            freeShippingProgress: 'Add {amount} more for free shipping',\r\n            trustBadges: {\r\n                secureCheckout: 'Secure Checkout',\r\n            },\r\n            freeReturns: 'Free Returns',\r\n            shippingTime: 'Shipping: 3-5 Business Days',\r\n        },\r\n        wishlist: {\r\n            title: 'My Wishlist',\r\n            empty: 'Your wishlist is empty',\r\n            emptyDesc: 'Save your favorite products to your wishlist and shop them later!',\r\n            startShopping: 'Start Shopping',\r\n            removed: 'Removed from wishlist',\r\n            removeFailed: 'Failed to remove from wishlist',\r\n            itemCount: '{count, plural, =0 {No items} one {1 item} other {# items}} saved',\r\n            signInRequired: 'Please sign in to use the wishlist',\r\n            added: 'Added to wishlist',\r\n            addFailed: 'Failed to add to wishlist',\r\n            saved: 'Saved',\r\n            save: 'Save',\r\n            removeFromWishlist: 'Remove from wishlist',\r\n            addToWishlist: 'Add to wishlist',\r\n        },\r\n        common: {\r\n            error: 'An error occurred',\r\n            loading: 'Loading...',\r\n        },\r\n    };\r\n\r\n    return (\r\n        <NextIntlClientProvider locale=\"en\" messages={minimalMessages}>\r\n            <div className=\"w-full\" key={configKey}>\r\n                {/* We wrap the preview in a div that prevents interaction (links, buttons) \r\n                    so they don't interfere with the editor UI */}\r\n                <div className=\"pointer-events-none select-none\">\r\n                    {renderBlockContent()}\r\n                </div>\r\n            </div>\r\n        </NextIntlClientProvider>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":810,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/editor/SortableBlock.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useSortable } from '@dnd-kit/sortable';\r\nimport { CSS } from '@dnd-kit/utilities';\r\nimport { GripVertical, Trash2, Settings, Move, Copy } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { cn } from '@/lib/utils';\r\nimport { BlockPreview } from '../block-editor/BlockPreview';\r\n\r\ninterface SortableBlockProps {\r\n    id: string;\r\n    block: any;\r\n    isSelected: boolean;\r\n    onSelect: () => void;\r\n    onToggleSettings?: () => void;\r\n    onRemove: () => void;\r\n    onDuplicate?: () => void;\r\n}\r\n\r\nexport const SortableBlock: React.FC<SortableBlockProps> = ({\r\n    id,\r\n    block,\r\n    isSelected,\r\n    onSelect,\r\n    onToggleSettings,\r\n    onRemove,\r\n    onDuplicate\r\n}) => {\r\n    const {\r\n        attributes,\r\n        listeners,\r\n        setNodeRef,\r\n        transform,\r\n        transition,\r\n        isDragging\r\n    } = useSortable({ id });\r\n\r\n    const style = {\r\n        transform: CSS.Transform.toString(transform),\r\n        transition,\r\n        zIndex: isDragging ? 100 : 'auto',\r\n        opacity: isDragging ? 0.5 : 1,\r\n    };\r\n\r\n    return (\r\n        <div\r\n            ref={setNodeRef}\r\n            style={style}\r\n            className={cn(\r\n                \"relative group transition-all mb-4\",\r\n                isSelected ? \"ring-2 ring-primary ring-offset-2 rounded-lg\" : \"\"\r\n            )}\r\n            onClick={(e) => {\r\n                e.stopPropagation();\r\n                onSelect();\r\n            }}\r\n        >\r\n            {/* Hover Actions Overlay */}\r\n            <div className={cn(\r\n                \"absolute -top-3 right-4 flex items-center gap-1 bg-white shadow-md border rounded-lg p-1 transition-all z-20\",\r\n                isSelected || isDragging ? \"opacity-100 translate-y-0\" : \"opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 pointer-events-none group-hover:pointer-events-auto\"\r\n            )}>\r\n                <div\r\n                    {...attributes}\r\n                    {...listeners}\r\n                    className=\"cursor-move p-1.5 hover:bg-gray-100 rounded-md text-gray-500 hover:text-gray-900 transition-colors\"\r\n                    title=\"Drag to reorder\"\r\n                >\r\n                    <Move className=\"h-3.5 w-3.5\" />\r\n                </div>\r\n\r\n                <div className=\"w-px h-4 bg-gray-200\" />\r\n\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className={cn(\r\n                        \"h-7 w-7 transition-colors\",\r\n                        isSelected ? \"text-primary bg-primary/10\" : \"text-gray-500 hover:text-primary hover:bg-primary/5\"\r\n                    )}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        if (onToggleSettings) {\r\n                            onToggleSettings();\r\n                        } else {\r\n                            onSelect();\r\n                        }\r\n                    }}\r\n                    title={isSelected ? \"Close Settings\" : \"Open Settings\"}\r\n                >\r\n                    <Settings className=\"h-3.5 w-3.5\" />\r\n                </Button>\r\n\r\n                <div className=\"w-px h-4 bg-gray-200\" />\r\n\r\n                {onDuplicate && (\r\n                    <>\r\n                        <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            className=\"h-7 w-7 text-gray-500 hover:text-blue-600 hover:bg-blue-50\"\r\n                            onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                onDuplicate();\r\n                            }}\r\n                            title=\"Duplicate block\"\r\n                        >\r\n                            <Copy className=\"h-3.5 w-3.5\" />\r\n                        </Button>\r\n                        <div className=\"w-px h-4 bg-gray-200\" />\r\n                    </>\r\n                )}\r\n\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"h-7 w-7 text-gray-500 hover:text-red-600 hover:bg-red-50\"\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onRemove();\r\n                    }}\r\n                    title=\"Remove block\"\r\n                >\r\n                    <Trash2 className=\"h-3.5 w-3.5\" />\r\n                </Button>\r\n            </div>\r\n\r\n            {/* Block Content */}\r\n            <div className={cn(\r\n                \"bg-white rounded-lg border shadow-sm overflow-hidden transition-all\",\r\n                isSelected ? \"border-primary/20\" : \"border-gray-200 hover:border-gray-300\"\r\n            )}>\r\n                <div className=\"pointer-events-none min-h-[100px]\">\r\n                    {block.template ? (\r\n                        <BlockPreview\r\n                            template={block.template}\r\n                            config={block.config}\r\n                        />\r\n                    ) : (\r\n                        <div className=\"flex items-center justify-center h-24 bg-gray-50 text-gray-400\">\r\n                            Unknown Block Template\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Selection Label */}\r\n            {isSelected && (\r\n                <div className=\"absolute -top-3 left-4 bg-primary text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm z-20 uppercase tracking-wider\">\r\n                    {block.template?.name}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;AAYO,MAAM,gBAA8C,CAAC,EACxD,EAAE,EACF,KAAK,EACL,UAAU,EACV,QAAQ,EACR,gBAAgB,EAChB,QAAQ,EACR,WAAW,EACd;;IACG,MAAM,EACF,UAAU,EACV,SAAS,EACT,UAAU,EACV,SAAS,EACT,UAAU,EACV,UAAU,EACb,GAAG,IAAA,qLAAW,EAAC;QAAE;IAAG;IAErB,MAAM,QAAQ;QACV,WAAW,+KAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;QAClC;QACA,QAAQ,aAAa,MAAM;QAC3B,SAAS,aAAa,MAAM;IAChC;IAEA,qBACI,6LAAC;QACG,KAAK;QACL,OAAO;QACP,WAAW,IAAA,4HAAE,EACT,sCACA,aAAa,iDAAiD;QAElE,SAAS,CAAC;YACN,EAAE,eAAe;YACjB;QACJ;;0BAGA,6LAAC;gBAAI,WAAW,IAAA,4HAAE,EACd,gHACA,cAAc,aAAa,8BAA8B;;kCAEzD,6LAAC;wBACI,GAAG,UAAU;wBACb,GAAG,SAAS;wBACb,WAAU;wBACV,OAAM;kCAEN,cAAA,6LAAC,6MAAI;4BAAC,WAAU;;;;;;;;;;;kCAGpB,6LAAC;wBAAI,WAAU;;;;;;kCAEf,6LAAC,+IAAM;wBACH,SAAQ;wBACR,MAAK;wBACL,WAAW,IAAA,4HAAE,EACT,6BACA,aAAa,+BAA+B;wBAEhD,SAAS,CAAC;4BACN,EAAE,eAAe;4BACjB,IAAI,kBAAkB;gCAClB;4BACJ,OAAO;gCACH;4BACJ;wBACJ;wBACA,OAAO,aAAa,mBAAmB;kCAEvC,cAAA,6LAAC,yNAAQ;4BAAC,WAAU;;;;;;;;;;;kCAGxB,6LAAC;wBAAI,WAAU;;;;;;oBAEd,6BACG;;0CACI,6LAAC,+IAAM;gCACH,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS,CAAC;oCACN,EAAE,eAAe;oCACjB;gCACJ;gCACA,OAAM;0CAEN,cAAA,6LAAC,6MAAI;oCAAC,WAAU;;;;;;;;;;;0CAEpB,6LAAC;gCAAI,WAAU;;;;;;;;kCAIvB,6LAAC,+IAAM;wBACH,SAAQ;wBACR,MAAK;wBACL,WAAU;wBACV,SAAS,CAAC;4BACN,EAAE,eAAe;4BACjB;wBACJ;wBACA,OAAM;kCAEN,cAAA,6LAAC,uNAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAK1B,6LAAC;gBAAI,WAAW,IAAA,4HAAE,EACd,uEACA,aAAa,sBAAsB;0BAEnC,cAAA,6LAAC;oBAAI,WAAU;8BACV,MAAM,QAAQ,iBACX,6LAAC,wLAAY;wBACT,UAAU,MAAM,QAAQ;wBACxB,QAAQ,MAAM,MAAM;;;;;iFAGxB,6LAAC;wBAAI,WAAU;kCAAiE;;;;;;;;;;;;;;;;YAQ3F,4BACG,6LAAC;gBAAI,WAAU;0BACV,MAAM,QAAQ,EAAE;;;;;;;;;;;;AAKrC;GAvIa;;QAgBL,qLAAW;;;KAhBN"}},{"offset":{"line":1029,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/editor/Canvas.tsx"],"sourcesContent":["import React from 'react';\r\nimport {\r\n    DndContext,\r\n    closestCenter,\r\n    KeyboardSensor,\r\n    PointerSensor,\r\n    useSensor,\r\n    useSensors,\r\n    DragEndEvent\r\n} from '@dnd-kit/core';\r\nimport {\r\n    arrayMove,\r\n    SortableContext,\r\n    sortableKeyboardCoordinates,\r\n    verticalListSortingStrategy,\r\n} from '@dnd-kit/sortable';\r\nimport { SortableBlock } from './SortableBlock';\r\nimport { EditorBlock } from '@/hooks/usePageEditor';\r\nimport { DeviceType } from './DevicePreview';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface CanvasProps {\r\n    blocks: EditorBlock[];\r\n    selectedBlockId: string | null;\r\n    onSelectBlock: (id: string) => void;\r\n    onToggleBlockSettings?: (id: string) => void;\r\n    onRemoveBlock: (id: string) => void;\r\n    onReorderBlocks: (blocks: EditorBlock[]) => void;\r\n    onDuplicateBlock?: (blockId: string) => void;\r\n    device: DeviceType;\r\n}\r\n\r\nexport const Canvas: React.FC<CanvasProps> = ({\r\n    blocks,\r\n    selectedBlockId,\r\n    onSelectBlock,\r\n    onToggleBlockSettings,\r\n    onRemoveBlock,\r\n    onReorderBlocks,\r\n    onDuplicateBlock,\r\n    device\r\n}) => {\r\n    const sensors = useSensors(\r\n        useSensor(PointerSensor),\r\n        useSensor(KeyboardSensor, {\r\n            coordinateGetter: sortableKeyboardCoordinates,\r\n        })\r\n    );\r\n\r\n    const handleDragEnd = (event: DragEndEvent) => {\r\n        const { active, over } = event;\r\n\r\n        if (over && active.id !== over.id) {\r\n            const oldIndex = blocks.findIndex((block) => block.id === active.id);\r\n            const newIndex = blocks.findIndex((block) => block.id === over.id);\r\n\r\n            onReorderBlocks(arrayMove(blocks, oldIndex, newIndex));\r\n        }\r\n    };\r\n\r\n    const getWidthClass = () => {\r\n        switch (device) {\r\n            case 'mobile': return 'max-w-[375px]';\r\n            case 'tablet': return 'max-w-[768px]';\r\n            default: return 'max-w-full';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={cn(\r\n            \"transition-all duration-300 ease-in-out w-full\",\r\n            getWidthClass()\r\n        )}>\r\n            <DndContext\r\n                sensors={sensors}\r\n                collisionDetection={closestCenter}\r\n                onDragEnd={handleDragEnd}\r\n            >\r\n                <SortableContext\r\n                    items={blocks.map(b => b.id)}\r\n                    strategy={verticalListSortingStrategy}\r\n                >\r\n                    <div className={cn(\r\n                        \"space-y-3 min-h-[200px] bg-white shadow-sm border rounded-lg p-6 transition-all\",\r\n                        device !== 'desktop' && \"border-2 border-gray-300 my-8\"\r\n                    )}>\r\n                        {blocks.map((block) => (\r\n                            <SortableBlock\r\n                                key={block.id}\r\n                                id={block.id}\r\n                                block={block}\r\n                                isSelected={selectedBlockId === block.id}\r\n                                onSelect={() => onSelectBlock(block.id)}\r\n                                onToggleSettings={onToggleBlockSettings ? () => onToggleBlockSettings(block.id) : undefined}\r\n                                onRemove={() => onRemoveBlock(block.id)}\r\n                                onDuplicate={onDuplicateBlock ? () => onDuplicateBlock(block.id) : undefined}\r\n                            />\r\n                        ))}\r\n\r\n                        {blocks.length === 0 && (\r\n                            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-16 text-center bg-gradient-to-br from-gray-50 to-gray-100/50\">\r\n                                <div className=\"max-w-md mx-auto\">\r\n                                    <div className=\"mb-4 inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 text-primary\">\r\n                                        <svg className=\"w-8 h-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n                                        </svg>\r\n                                    </div>\r\n                                    <p className=\"text-lg font-semibold text-gray-900 mb-2\">Start Building Your Page</p>\r\n                                    <p className=\"text-sm text-gray-600 mb-4\">Click on blocks in the library to add them to your canvas.</p>\r\n                                    <p className=\"text-xs text-gray-500\">Drag blocks to reorder â€¢ Click to configure</p>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </SortableContext>\r\n            </DndContext>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AASA;AAMA;AAGA;;;;;;;AAaO,MAAM,SAAgC,CAAC,EAC1C,MAAM,EACN,eAAe,EACf,aAAa,EACb,qBAAqB,EACrB,aAAa,EACb,eAAe,EACf,gBAAgB,EAChB,MAAM,EACT;;IACG,MAAM,UAAU,IAAA,4KAAU,EACtB,IAAA,2KAAS,EAAC,+KAAa,GACvB,IAAA,2KAAS,EAAC,gLAAc,EAAE;QACtB,kBAAkB,qMAA2B;IACjD;IAGJ,MAAM,gBAAgB,CAAC;QACnB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;QAEzB,IAAI,QAAQ,OAAO,EAAE,KAAK,KAAK,EAAE,EAAE;YAC/B,MAAM,WAAW,OAAO,SAAS,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK,OAAO,EAAE;YACnE,MAAM,WAAW,OAAO,SAAS,CAAC,CAAC,QAAU,MAAM,EAAE,KAAK,KAAK,EAAE;YAEjE,gBAAgB,IAAA,mLAAS,EAAC,QAAQ,UAAU;QAChD;IACJ;IAEA,MAAM,gBAAgB;QAClB,OAAQ;YACJ,KAAK;gBAAU,OAAO;YACtB,KAAK;gBAAU,OAAO;YACtB;gBAAS,OAAO;QACpB;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAW,IAAA,4HAAE,EACd,kDACA;kBAEA,cAAA,6LAAC,4KAAU;YACP,SAAS;YACT,oBAAoB,+KAAa;YACjC,WAAW;sBAEX,cAAA,6LAAC,yLAAe;gBACZ,OAAO,OAAO,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE;gBAC3B,UAAU,qMAA2B;0BAErC,cAAA,6LAAC;oBAAI,WAAW,IAAA,4HAAE,EACd,mFACA,WAAW,aAAa;;wBAEvB,OAAO,GAAG,CAAC,CAAC,sBACT,6LAAC,iLAAa;gCAEV,IAAI,MAAM,EAAE;gCACZ,OAAO;gCACP,YAAY,oBAAoB,MAAM,EAAE;gCACxC,UAAU,IAAM,cAAc,MAAM,EAAE;gCACtC,kBAAkB,wBAAwB,IAAM,sBAAsB,MAAM,EAAE,IAAI;gCAClF,UAAU,IAAM,cAAc,MAAM,EAAE;gCACtC,aAAa,mBAAmB,IAAM,iBAAiB,MAAM,EAAE,IAAI;+BAP9D,MAAM,EAAE;;;;;wBAWpB,OAAO,MAAM,KAAK,mBACf,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC;4CAAI,WAAU;4CAAU,MAAK;4CAAO,SAAQ;4CAAY,QAAO;sDAC5D,cAAA,6LAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;;;;;;kDAG7E,6LAAC;wCAAE,WAAU;kDAA2C;;;;;;kDACxD,6LAAC;wCAAE,WAAU;kDAA6B;;;;;;kDAC1C,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzE;GAtFa;;QAUO,4KAAU;;;KAVjB"}},{"offset":{"line":1196,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/TextField.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\n\r\ninterface TextFieldProps {\r\n    label: string;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n    required?: boolean;\r\n    type?: 'text' | 'email' | 'url' | 'number';\r\n    maxLength?: number;\r\n    error?: string;\r\n}\r\n\r\nexport const TextField: React.FC<TextFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    required,\r\n    type = 'text',\r\n    maxLength,\r\n    error\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <Label>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n            </Label>\r\n            <Input\r\n                type={type}\r\n                value={value || ''}\r\n                onChange={(e) => onChange(e.target.value)}\r\n                placeholder={placeholder}\r\n                maxLength={maxLength}\r\n                className={error ? 'border-red-500' : ''}\r\n            />\r\n            {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAaO,MAAM,YAAsC,CAAC,EAChD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,OAAO,MAAM,EACb,SAAS,EACT,KAAK,EACR;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,6IAAK;;oBACD;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAErD,6LAAC,6IAAK;gBACF,MAAM;gBACN,OAAO,SAAS;gBAChB,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAa;gBACb,WAAW;gBACX,WAAW,QAAQ,mBAAmB;;;;;;YAEzC,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3D;KA3Ba"}},{"offset":{"line":1264,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/TextareaField.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Label } from '@/components/ui/label';\r\n\r\ninterface TextareaFieldProps {\r\n    label: string;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n    required?: boolean;\r\n    rows?: number;\r\n    maxLength?: number;\r\n    error?: string;\r\n}\r\n\r\nexport const TextareaField: React.FC<TextareaFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    required,\r\n    rows = 3,\r\n    maxLength,\r\n    error\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <Label>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n            </Label>\r\n            <Textarea\r\n                value={value || ''}\r\n                onChange={(e) => onChange(e.target.value)}\r\n                placeholder={placeholder}\r\n                rows={rows}\r\n                maxLength={maxLength}\r\n                className={error ? 'border-red-500' : ''}\r\n            />\r\n            {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAaO,MAAM,gBAA8C,CAAC,EACxD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,OAAO,CAAC,EACR,SAAS,EACT,KAAK,EACR;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,6IAAK;;oBACD;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAErD,6LAAC,mJAAQ;gBACL,OAAO,SAAS;gBAChB,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAa;gBACb,MAAM;gBACN,WAAW;gBACX,WAAW,QAAQ,mBAAmB;;;;;;YAEzC,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3D;KA3Ba"}},{"offset":{"line":1332,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/ImageField.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Button } from '@/components/ui/button';\r\nimport { MediaPicker } from '@/components/media-manager/MediaPicker/MediaPicker';\r\nimport { MediaItem } from '@/components/media-manager/types';\r\nimport { X, Image as ImageIcon } from 'lucide-react';\r\nimport Image from 'next/image';\r\n\r\ninterface ImageFieldProps {\r\n    label: string;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    required?: boolean;\r\n    recommended?: string; // e.g., \"1920x1080px\"\r\n    error?: string;\r\n}\r\n\r\nexport const ImageField: React.FC<ImageFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    required,\r\n    recommended,\r\n    error\r\n}) => {\r\n    const [pickerOpen, setPickerOpen] = useState(false);\r\n\r\n    const handleSelect = (media: MediaItem[]) => {\r\n        if (media.length > 0) {\r\n            onChange(media[0].url);\r\n        }\r\n    };\r\n\r\n    const handleClear = () => {\r\n        onChange('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <Label>\r\n                    {label}\r\n                    {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n                </Label>\r\n                {recommended && (\r\n                    <span className=\"text-xs text-muted-foreground\">{recommended}</span>\r\n                )}\r\n            </div>\r\n\r\n            <div className={`border-2 border-dashed rounded-lg p-4 transition-colors ${error ? 'border-red-500 bg-red-50' : 'border-gray-200 hover:border-gray-300'}`}>\r\n                {value ? (\r\n                    <div className=\"relative group\">\r\n                        <div className=\"relative aspect-video w-full overflow-hidden rounded-md bg-gray-100\">\r\n                            <Image\r\n                                src={value}\r\n                                alt=\"Preview\"\r\n                                fill\r\n                                className=\"object-cover\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                            <Button\r\n                                variant=\"secondary\"\r\n                                size=\"sm\"\r\n                                onClick={() => setPickerOpen(true)}\r\n                            >\r\n                                Change\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"destructive\"\r\n                                size=\"sm\"\r\n                                onClick={handleClear}\r\n                            >\r\n                                <X className=\"h-4 w-4\" />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"flex flex-col items-center justify-center py-8 text-center\">\r\n                        <div className=\"bg-gray-100 p-3 rounded-full mb-3\">\r\n                            <ImageIcon className=\"h-6 w-6 text-gray-500\" />\r\n                        </div>\r\n                        <p className=\"text-sm text-muted-foreground mb-3\">\r\n                            No image selected\r\n                        </p>\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={() => setPickerOpen(true)}\r\n                        >\r\n                            Select Image\r\n                        </Button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n\r\n            <MediaPicker\r\n                open={pickerOpen}\r\n                onOpenChange={setPickerOpen}\r\n                onSelect={handleSelect}\r\n                type=\"IMAGE\"\r\n                multiple={false}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;;;;;;;;;AAWO,MAAM,aAAwC,CAAC,EAClD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,WAAW,EACX,KAAK,EACR;;IACG,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,MAAM,eAAe,CAAC;QAClB,IAAI,MAAM,MAAM,GAAG,GAAG;YAClB,SAAS,KAAK,CAAC,EAAE,CAAC,GAAG;QACzB;IACJ;IAEA,MAAM,cAAc;QAChB,SAAS;IACb;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,6IAAK;;4BACD;4BACA,0BAAY,6LAAC;gCAAK,WAAU;0CAAoB;;;;;;;;;;;;oBAEpD,6BACG,6LAAC;wBAAK,WAAU;kCAAiC;;;;;;;;;;;;0BAIzD,6LAAC;gBAAI,WAAW,CAAC,wDAAwD,EAAE,QAAQ,6BAA6B,yCAAyC;0BACpJ,sBACG,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,2IAAK;gCACF,KAAK;gCACL,KAAI;gCACJ,IAAI;gCACJ,WAAU;;;;;;;;;;;sCAGlB,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,+IAAM;oCACH,SAAQ;oCACR,MAAK;oCACL,SAAS,IAAM,cAAc;8CAChC;;;;;;8CAGD,6LAAC,+IAAM;oCACH,SAAQ;oCACR,MAAK;oCACL,SAAS;8CAET,cAAA,6LAAC,oMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;6EAKzB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,gNAAS;gCAAC,WAAU;;;;;;;;;;;sCAEzB,6LAAC;4BAAE,WAAU;sCAAqC;;;;;;sCAGlD,6LAAC,+IAAM;4BACH,SAAQ;4BACR,SAAS,IAAM,cAAc;sCAChC;;;;;;;;;;;;;;;;;YAOZ,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;0BAE/C,6LAAC,sLAAW;gBACR,MAAM;gBACN,cAAc;gBACd,UAAU;gBACV,MAAK;gBACL,UAAU;;;;;;;;;;;;AAI1B;GAzFa;KAAA"}},{"offset":{"line":1544,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/ColorField.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\n\r\ninterface ColorFieldProps {\r\n    label: string;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    required?: boolean;\r\n    error?: string;\r\n}\r\n\r\nexport const ColorField: React.FC<ColorFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    required,\r\n    error\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <Label>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n            </Label>\r\n            <div className=\"flex gap-2\">\r\n                <div className=\"relative w-10 h-10 rounded-md overflow-hidden border border-gray-200 shadow-sm shrink-0\">\r\n                    <input\r\n                        type=\"color\"\r\n                        value={value || '#000000'}\r\n                        onChange={(e) => onChange(e.target.value)}\r\n                        className=\"absolute -top-2 -left-2 w-16 h-16 p-0 border-0 cursor-pointer\"\r\n                    />\r\n                </div>\r\n                <Input\r\n                    type=\"text\"\r\n                    value={value || ''}\r\n                    onChange={(e) => onChange(e.target.value)}\r\n                    placeholder=\"#000000\"\r\n                    className={`font-mono ${error ? 'border-red-500' : ''}`}\r\n                    maxLength={9}\r\n                />\r\n            </div>\r\n            {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAUO,MAAM,aAAwC,CAAC,EAClD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,KAAK,EACR;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,6IAAK;;oBACD;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAErD,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;4BACG,MAAK;4BACL,OAAO,SAAS;4BAChB,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4BACxC,WAAU;;;;;;;;;;;kCAGlB,6LAAC,6IAAK;wBACF,MAAK;wBACL,OAAO,SAAS;wBAChB,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,aAAY;wBACZ,WAAW,CAAC,UAAU,EAAE,QAAQ,mBAAmB,IAAI;wBACvD,WAAW;;;;;;;;;;;;YAGlB,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3D;KAlCa"}},{"offset":{"line":1638,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/SelectField.tsx"],"sourcesContent":["import React from 'react';\nimport { Label } from '@/components/ui/label';\nimport {\n    Select,\n    SelectContent,\n    SelectItem,\n    SelectTrigger,\n    SelectValue,\n} from '@/components/ui/select';\n\ninterface SelectOption {\n    value: string | number;\n    label: string;\n}\n\ninterface SelectFieldProps {\n    label: string;\n    value: string;\n    onChange: (value: string) => void;\n    options: SelectOption[];\n    required?: boolean;\n    placeholder?: string;\n    error?: string;\n}\n\nexport const SelectField: React.FC<SelectFieldProps> = ({\n    label,\n    value,\n    onChange,\n    options,\n    required,\n    placeholder = 'Select an option',\n    error\n}) => {\n    return (\n        <div className=\"space-y-2\">\n            <Label>\n                {label}\n                {required && <span className=\"text-red-500 ml-1\">*</span>}\n            </Label>\n            <Select value={value || undefined} onValueChange={onChange}>\n                <SelectTrigger className={error ? 'border-red-500' : ''}>\n                    <SelectValue placeholder={placeholder} />\n                </SelectTrigger>\n                <SelectContent>\n                    {options\n                        .filter(option => {\n                            const optionValue = String(option.value);\n                            return optionValue && optionValue.trim() !== '';\n                        })\n                        .map((option) => (\n                            <SelectItem key={option.value} value={String(option.value)}>\n                                {option.label}\n                            </SelectItem>\n                        ))}\n                </SelectContent>\n            </Select>\n            {error && <p className=\"text-sm text-red-500\">{error}</p>}\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAuBO,MAAM,cAA0C,CAAC,EACpD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,OAAO,EACP,QAAQ,EACR,cAAc,kBAAkB,EAChC,KAAK,EACR;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,6IAAK;;oBACD;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAErD,6LAAC,+IAAM;gBAAC,OAAO,SAAS;gBAAW,eAAe;;kCAC9C,6LAAC,sJAAa;wBAAC,WAAW,QAAQ,mBAAmB;kCACjD,cAAA,6LAAC,oJAAW;4BAAC,aAAa;;;;;;;;;;;kCAE9B,6LAAC,sJAAa;kCACT,QACI,MAAM,CAAC,CAAA;4BACJ,MAAM,cAAc,OAAO,OAAO,KAAK;4BACvC,OAAO,eAAe,YAAY,IAAI,OAAO;wBACjD,GACC,GAAG,CAAC,CAAC,uBACF,6LAAC,mJAAU;gCAAoB,OAAO,OAAO,OAAO,KAAK;0CACpD,OAAO,KAAK;+BADA,OAAO,KAAK;;;;;;;;;;;;;;;;YAM5C,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3D;KAnCa"}},{"offset":{"line":1735,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/ToggleField.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Switch } from '@/components/ui/switch';\r\n\r\ninterface ToggleFieldProps {\r\n    label: string;\r\n    value: boolean;\r\n    onChange: (value: boolean) => void;\r\n    description?: string;\r\n}\r\n\r\nexport const ToggleField: React.FC<ToggleFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    description\r\n}) => {\r\n    return (\r\n        <div className=\"flex flex-row items-center justify-between rounded-lg border p-4\">\r\n            <div className=\"space-y-0.5\">\r\n                <Label className=\"text-base\">{label}</Label>\r\n                {description && (\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                        {description}\r\n                    </p>\r\n                )}\r\n            </div>\r\n            <Switch\r\n                checked={value}\r\n                onCheckedChange={onChange}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AASO,MAAM,cAA0C,CAAC,EACpD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,WAAW,EACd;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,6IAAK;wBAAC,WAAU;kCAAa;;;;;;oBAC7B,6BACG,6LAAC;wBAAE,WAAU;kCACR;;;;;;;;;;;;0BAIb,6LAAC,+IAAM;gBACH,SAAS;gBACT,iBAAiB;;;;;;;;;;;;AAIjC;KAtBa"}},{"offset":{"line":1799,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/SliderField.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Slider } from '@/components/ui/slider';\r\n\r\ninterface SliderFieldProps {\r\n    label: string;\r\n    value: number;\r\n    onChange: (value: number) => void;\r\n    min?: number;\r\n    max?: number;\r\n    step?: number;\r\n    unit?: string;\r\n}\r\n\r\nexport const SliderField: React.FC<SliderFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    min = 0,\r\n    max = 100,\r\n    step = 1,\r\n    unit = ''\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <Label>{label}</Label>\r\n                <span className=\"text-sm text-muted-foreground font-mono\">\r\n                    {value}{unit}\r\n                </span>\r\n            </div>\r\n            <Slider\r\n                value={[value || min]}\r\n                min={min}\r\n                max={max}\r\n                step={step}\r\n                onValueChange={(vals) => onChange(vals[0])}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAYO,MAAM,cAA0C,CAAC,EACpD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,MAAM,CAAC,EACP,MAAM,GAAG,EACT,OAAO,CAAC,EACR,OAAO,EAAE,EACZ;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,6IAAK;kCAAE;;;;;;kCACR,6LAAC;wBAAK,WAAU;;4BACX;4BAAO;;;;;;;;;;;;;0BAGhB,6LAAC,+IAAM;gBACH,OAAO;oBAAC,SAAS;iBAAI;gBACrB,KAAK;gBACL,KAAK;gBACL,MAAM;gBACN,eAAe,CAAC,OAAS,SAAS,IAAI,CAAC,EAAE;;;;;;;;;;;;AAIzD;KA1Ba"}},{"offset":{"line":1870,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/RepeaterField.tsx"],"sourcesContent":["import React from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Button } from '@/components/ui/button';\nimport { Plus, Trash2, GripVertical, ChevronDown, ChevronUp } from 'lucide-react';\nimport {\n    Collapsible,\n    CollapsibleContent,\n    CollapsibleTrigger,\n} from '@/components/ui/collapsible';\nimport { ConfigForm } from '../ConfigForm';\n\ninterface RepeaterFieldProps {\n    label: string;\n    value: any[];\n    onChange: (value: any[]) => void;\n    fields: any[]; // Schema for the repeated items\n    itemLabel?: string; // e.g., \"Feature\"\n}\n\nexport const RepeaterField: React.FC<RepeaterFieldProps> = ({\n    label,\n    value,\n    onChange,\n    fields,\n    itemLabel = 'Item'\n}) => {\n    // Ensure value is always an array\n    const arrayValue = Array.isArray(value) ? value : (value ? [value] : []);\n\n    const handleAdd = () => {\n        // Create empty object based on fields\n        const newItem: any = {};\n        fields.forEach(field => {\n            if (field.type === 'checkbox') {\n                newItem[field.name] = field.default || false;\n            } else if (field.type === 'repeater') {\n                newItem[field.name] = [];\n            } else {\n                newItem[field.name] = field.default || '';\n            }\n        });\n        onChange([...arrayValue, newItem]);\n    };\n\n    const handleRemove = (index: number) => {\n        const newValue = [...arrayValue];\n        newValue.splice(index, 1);\n        onChange(newValue);\n    };\n\n    const handleChange = (index: number, itemData: any) => {\n        const newValue = [...arrayValue];\n        newValue[index] = itemData;\n        onChange(newValue);\n    };\n\n    const handleMove = (index: number, direction: 'up' | 'down') => {\n        if (\n            (direction === 'up' && index === 0) ||\n            (direction === 'down' && index === arrayValue.length - 1)\n        ) {\n            return;\n        }\n\n        const newValue = [...arrayValue];\n        const targetIndex = direction === 'up' ? index - 1 : index + 1;\n        [newValue[index], newValue[targetIndex]] = [newValue[targetIndex], newValue[index]];\n        onChange(newValue);\n    };\n\n    return (\n        <div className=\"space-y-4\">\n            <div className=\"flex justify-between items-center\">\n                <Label className=\"text-base font-semibold\">{label}</Label>\n                <Button variant=\"outline\" size=\"sm\" onClick={handleAdd}>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Add {itemLabel}\n                </Button>\n            </div>\n\n            <div className=\"space-y-2\">\n                {arrayValue.map((item, index) => (\n                    <RepeaterItem\n                        key={index}\n                        index={index}\n                        data={item}\n                        fields={fields}\n                        label={`${itemLabel} ${index + 1}`}\n                        onChange={(data) => handleChange(index, data)}\n                        onRemove={() => handleRemove(index)}\n                        onMoveUp={() => handleMove(index, 'up')}\n                        onMoveDown={() => handleMove(index, 'down')}\n                        isFirst={index === 0}\n                        isLast={index === arrayValue.length - 1}\n                    />\n                ))}\n\n                {arrayValue.length === 0 && (\n                    <div className=\"text-center py-8 border-2 border-dashed rounded-lg text-muted-foreground bg-gray-50\">\n                        No items yet. Click \"Add {itemLabel}\" to start.\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\ninterface RepeaterItemProps {\n    index: number;\n    data: any;\n    fields: any[];\n    label: string;\n    onChange: (data: any) => void;\n    onRemove: () => void;\n    onMoveUp: () => void;\n    onMoveDown: () => void;\n    isFirst: boolean;\n    isLast: boolean;\n}\n\nconst RepeaterItem: React.FC<RepeaterItemProps> = ({\n    data,\n    fields,\n    label,\n    onChange,\n    onRemove,\n    onMoveUp,\n    onMoveDown,\n    isFirst,\n    isLast\n}) => {\n    const [isOpen, setIsOpen] = React.useState(false);\n\n    // Try to find a title field to use as the label\n    const titleField = fields.find(f => f.name === 'title' || f.name === 'heading' || f.name === 'name');\n    const displayLabel = titleField && data[titleField.name] ? data[titleField.name] : label;\n\n    return (\n        <Collapsible\n            open={isOpen}\n            onOpenChange={setIsOpen}\n            className=\"border rounded-md bg-white shadow-sm\"\n        >\n            <div className=\"flex items-center justify-between p-2 pl-4\">\n                <div className=\"flex items-center gap-2 flex-1\">\n                    <GripVertical className=\"h-4 w-4 text-gray-400 cursor-move\" />\n                    <CollapsibleTrigger className=\"flex-1 text-left font-medium hover:text-primary transition-colors\">\n                        {displayLabel}\n                    </CollapsibleTrigger>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                    <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-8 w-8\"\n                        onClick={onMoveUp}\n                        disabled={isFirst}\n                    >\n                        <ChevronUp className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-8 w-8\"\n                        onClick={onMoveDown}\n                        disabled={isLast}\n                    >\n                        <ChevronDown className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"h-8 w-8 text-red-500 hover:text-red-600 hover:bg-red-50\"\n                        onClick={onRemove}\n                    >\n                        <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                    <CollapsibleTrigger asChild>\n                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n                            {isOpen ? (\n                                <ChevronUp className=\"h-4 w-4\" />\n                            ) : (\n                                <ChevronDown className=\"h-4 w-4\" />\n                            )}\n                        </Button>\n                    </CollapsibleTrigger>\n                </div>\n            </div>\n            <CollapsibleContent className=\"border-t p-4 bg-gray-50/50\">\n                <ConfigForm\n                    schema={{ fields }}\n                    data={data}\n                    onChange={onChange}\n                />\n            </CollapsibleContent>\n        </Collapsible>\n    );\n};\n"],"names":[],"mappings":"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"}},{"offset":{"line":2200,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/RichTextEditor.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEditor, EditorContent } from '@tiptap/react';\r\nimport StarterKit from '@tiptap/starter-kit';\r\nimport Image from '@tiptap/extension-image';\r\nimport Link from '@tiptap/extension-link';\r\nimport Placeholder from '@tiptap/extension-placeholder';\r\nimport Table from '@tiptap/extension-table';\r\nimport TableRow from '@tiptap/extension-table-row';\r\nimport TableCell from '@tiptap/extension-table-cell';\r\nimport TableHeader from '@tiptap/extension-table-header';\r\nimport TextAlign from '@tiptap/extension-text-align';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from '@/components/ui/select';\r\nimport {\r\n    Bold,\r\n    Italic,\r\n    Strikethrough,\r\n    Code,\r\n    List,\r\n    ListOrdered,\r\n    Quote,\r\n    Undo,\r\n    Redo,\r\n    Link as LinkIcon,\r\n    Image as ImageIcon,\r\n    Minus,\r\n    Table as TableIcon,\r\n    Plus,\r\n    Trash2,\r\n    AlignLeft,\r\n    AlignCenter,\r\n    AlignRight,\r\n    Columns,\r\n} from 'lucide-react';\r\nimport { MediaPicker } from '@/components/media-manager/MediaPicker/MediaPicker';\r\nimport { useCallback, useState } from 'react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface RichTextEditorProps {\r\n    content: string;\r\n    onChange: (content: string) => void;\r\n    placeholder?: string;\r\n}\r\n\r\nexport function RichTextEditor({ content, onChange, placeholder = 'Create compelling product description with images, tables, and formatting...' }: RichTextEditorProps) {\r\n    const [isMediaPickerOpen, setIsMediaPickerOpen] = useState(false);\r\n    const [isLinkDialogOpen, setIsLinkDialogOpen] = useState(false);\r\n    const [isTableDialogOpen, setIsTableDialogOpen] = useState(false);\r\n    const [tableRows, setTableRows] = useState(3);\r\n    const [tableCols, setTableCols] = useState(3);\r\n    const [linkUrl, setLinkUrl] = useState('');\r\n    const [linkText, setLinkText] = useState('');\r\n\r\n    const editor = useEditor({\r\n        extensions: [\r\n            StarterKit,\r\n            Image.configure({\r\n                inline: false,\r\n                allowBase64: false,\r\n                HTMLAttributes: {\r\n                    class: 'max-w-full h-auto rounded-lg my-4 block',\r\n                    style: 'display: block; max-width: 100%; height: auto;',\r\n                },\r\n            }),\r\n            Link.configure({\r\n                openOnClick: false,\r\n            }),\r\n            Placeholder.configure({\r\n                placeholder,\r\n            }),\r\n            Table.configure({\r\n                resizable: true,\r\n                HTMLAttributes: {\r\n                    class: 'border-collapse border border-gray-300 my-4',\r\n                },\r\n            }),\r\n            TableRow.configure({\r\n                HTMLAttributes: {\r\n                    class: 'border border-gray-300',\r\n                },\r\n            }),\r\n            TableHeader.configure({\r\n                HTMLAttributes: {\r\n                    class: 'border border-gray-300 bg-gray-100 font-semibold p-2',\r\n                },\r\n            }),\r\n            TableCell.configure({\r\n                HTMLAttributes: {\r\n                    class: 'border border-gray-300 p-2',\r\n                },\r\n            }),\r\n            TextAlign.configure({\r\n                types: ['heading', 'paragraph'],\r\n            }),\r\n        ],\r\n        content,\r\n        immediatelyRender: false,\r\n        onUpdate: ({ editor }) => {\r\n            onChange(editor.getHTML());\r\n        },\r\n        editorProps: {\r\n            attributes: {\r\n                class: 'prose prose-lg dark:prose-invert max-w-none focus:outline-none min-h-[300px] px-4 py-2',\r\n            },\r\n        },\r\n    });\r\n\r\n    const handleMediaSelect = useCallback((media: any[]) => {\r\n        if (media.length > 0) {\r\n            const image = media[0];\r\n            editor?.chain().focus().setImage({ src: image.url, alt: image.alt || '' }).run();\r\n        }\r\n        setIsMediaPickerOpen(false);\r\n    }, [editor]);\r\n\r\n    const openLinkDialog = useCallback(() => {\r\n        const previousUrl = editor?.getAttributes('link').href || '';\r\n        const { from, to } = editor?.state.selection || { from: 0, to: 0 };\r\n        const text = editor?.state.doc.textBetween(from, to, '');\r\n\r\n        setLinkUrl(previousUrl);\r\n        setLinkText(text || '');\r\n        setIsLinkDialogOpen(true);\r\n    }, [editor]);\r\n\r\n    const handleInsertLink = useCallback(() => {\r\n        if (!linkUrl) {\r\n            editor?.chain().focus().extendMarkRange('link').unsetLink().run();\r\n        } else {\r\n            if (linkText && !editor?.state.selection.empty) {\r\n                editor?.chain().focus().extendMarkRange('link').setLink({ href: linkUrl }).run();\r\n            } else if (linkText) {\r\n                editor?.chain().focus().insertContent(`<a href=\"${linkUrl}\">${linkText}</a>`).run();\r\n            } else {\r\n                editor?.chain().focus().extendMarkRange('link').setLink({ href: linkUrl }).run();\r\n            }\r\n        }\r\n        setIsLinkDialogOpen(false);\r\n        setLinkUrl('');\r\n        setLinkText('');\r\n    }, [editor, linkUrl, linkText]);\r\n\r\n    const setHeading = useCallback((level: 1 | 2 | 3 | 4 | 5 | 6) => {\r\n        editor?.chain().focus().toggleHeading({ level }).run();\r\n    }, [editor]);\r\n\r\n    const setParagraph = useCallback(() => {\r\n        editor?.chain().focus().setParagraph().run();\r\n    }, [editor]);\r\n\r\n    const insertTable = useCallback(() => {\r\n        editor?.chain().focus().insertTable({ rows: tableRows, cols: tableCols, withHeaderRow: true }).run();\r\n        setIsTableDialogOpen(false);\r\n    }, [editor, tableRows, tableCols]);\r\n\r\n    const addColumnBefore = useCallback(() => {\r\n        editor?.chain().focus().addColumnBefore().run();\r\n    }, [editor]);\r\n\r\n    const addColumnAfter = useCallback(() => {\r\n        editor?.chain().focus().addColumnAfter().run();\r\n    }, [editor]);\r\n\r\n    const deleteColumn = useCallback(() => {\r\n        editor?.chain().focus().deleteColumn().run();\r\n    }, [editor]);\r\n\r\n    const addRowBefore = useCallback(() => {\r\n        editor?.chain().focus().addRowBefore().run();\r\n    }, [editor]);\r\n\r\n    const addRowAfter = useCallback(() => {\r\n        editor?.chain().focus().addRowAfter().run();\r\n    }, [editor]);\r\n\r\n    const deleteRow = useCallback(() => {\r\n        editor?.chain().focus().deleteRow().run();\r\n    }, [editor]);\r\n\r\n    const deleteTable = useCallback(() => {\r\n        editor?.chain().focus().deleteTable().run();\r\n    }, [editor]);\r\n\r\n    const insertImageTextLayout = useCallback((imagePosition: 'left' | 'right') => {\r\n        // Insert a side-by-side layout with image and text\r\n        const layoutClass = imagePosition === 'left' ? 'image-text-layout image-left' : 'image-text-layout image-right';\r\n        const htmlContent = `<div class=\"${layoutClass}\">\r\n            <div class=\"layout-image\">\r\n                <p style=\"text-align: center; color: #6b7280; font-style: italic; padding: 2rem;\">Click here and use the image button to insert an image</p>\r\n            </div>\r\n            <div class=\"layout-text\">\r\n                <p>Your text content here. You can format this text with headings, lists, and other formatting options.</p>\r\n            </div>\r\n        </div>`;\r\n        editor?.chain().focus().insertContent(htmlContent).run();\r\n    }, [editor]);\r\n\r\n    if (!editor) {\r\n        return null;\r\n    }\r\n\r\n    const ToolbarButton = ({\r\n        onClick,\r\n        isActive,\r\n        children,\r\n        title\r\n    }: {\r\n        onClick: () => void;\r\n        isActive?: boolean;\r\n        children: React.ReactNode;\r\n        title: string;\r\n    }) => (\r\n        <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={onClick}\r\n            className={cn(\r\n                \"h-8 px-2 hover:bg-muted\",\r\n                isActive && \"bg-muted text-primary\"\r\n            )}\r\n            title={title}\r\n        >\r\n            {children}\r\n        </Button>\r\n    );\r\n\r\n    const ToolbarSeparator = () => (\r\n        <div className=\"w-px h-6 bg-border\" />\r\n    );\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            {/* Toolbar */}\r\n            <div className=\"sticky top-0 z-10 bg-background border-b border-border mb-4\">\r\n                <div className=\"flex items-center gap-1 p-2 flex-wrap\">\r\n                    {/* Heading Selector */}\r\n                    <Select\r\n                        value={\r\n                            editor.isActive('heading', { level: 1 }) ? 'h1' :\r\n                                editor.isActive('heading', { level: 2 }) ? 'h2' :\r\n                                    editor.isActive('heading', { level: 3 }) ? 'h3' :\r\n                                        editor.isActive('heading', { level: 4 }) ? 'h4' :\r\n                                            editor.isActive('heading', { level: 5 }) ? 'h5' :\r\n                                                editor.isActive('heading', { level: 6 }) ? 'h6' :\r\n                                                    'paragraph'\r\n                        }\r\n                        onValueChange={(value) => {\r\n                            if (value === 'paragraph') setParagraph();\r\n                            else setHeading(parseInt(value.replace('h', '')) as 1 | 2 | 3 | 4 | 5 | 6);\r\n                        }}\r\n                    >\r\n                        <SelectTrigger className=\"w-[120px] h-8\">\r\n                            <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                            <SelectItem value=\"paragraph\">Paragraph</SelectItem>\r\n                            <SelectItem value=\"h1\">Heading 1</SelectItem>\r\n                            <SelectItem value=\"h2\">Heading 2</SelectItem>\r\n                            <SelectItem value=\"h3\">Heading 3</SelectItem>\r\n                            <SelectItem value=\"h4\">Heading 4</SelectItem>\r\n                            <SelectItem value=\"h5\">Heading 5</SelectItem>\r\n                            <SelectItem value=\"h6\">Heading 6</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n\r\n                    <ToolbarSeparator />\r\n\r\n                    {/* Text Formatting */}\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().toggleBold().run()}\r\n                        isActive={editor.isActive('bold')}\r\n                        title=\"Bold (Ctrl+B)\"\r\n                    >\r\n                        <Bold className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().toggleItalic().run()}\r\n                        isActive={editor.isActive('italic')}\r\n                        title=\"Italic (Ctrl+I)\"\r\n                    >\r\n                        <Italic className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().toggleStrike().run()}\r\n                        isActive={editor.isActive('strike')}\r\n                        title=\"Strikethrough\"\r\n                    >\r\n                        <Strikethrough className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().toggleCode().run()}\r\n                        isActive={editor.isActive('code')}\r\n                        title=\"Inline Code\"\r\n                    >\r\n                        <Code className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n\r\n                    <ToolbarSeparator />\r\n\r\n                    {/* Lists */}\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().toggleBulletList().run()}\r\n                        isActive={editor.isActive('bulletList')}\r\n                        title=\"Bullet List\"\r\n                    >\r\n                        <List className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().toggleOrderedList().run()}\r\n                        isActive={editor.isActive('orderedList')}\r\n                        title=\"Numbered List\"\r\n                    >\r\n                        <ListOrdered className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n\r\n                    <ToolbarSeparator />\r\n\r\n                    {/* Blocks */}\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().toggleBlockquote().run()}\r\n                        isActive={editor.isActive('blockquote')}\r\n                        title=\"Quote\"\r\n                    >\r\n                        <Quote className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().toggleCodeBlock().run()}\r\n                        isActive={editor.isActive('codeBlock')}\r\n                        title=\"Code Block\"\r\n                    >\r\n                        <Code className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().setHorizontalRule().run()}\r\n                        title=\"Horizontal Rule\"\r\n                    >\r\n                        <Minus className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n\r\n                    <ToolbarSeparator />\r\n\r\n                    {/* Text Alignment */}\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().setTextAlign('left').run()}\r\n                        isActive={editor.isActive({ textAlign: 'left' })}\r\n                        title=\"Align Left\"\r\n                    >\r\n                        <AlignLeft className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().setTextAlign('center').run()}\r\n                        isActive={editor.isActive({ textAlign: 'center' })}\r\n                        title=\"Align Center\"\r\n                    >\r\n                        <AlignCenter className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().setTextAlign('right').run()}\r\n                        isActive={editor.isActive({ textAlign: 'right' })}\r\n                        title=\"Align Right\"\r\n                    >\r\n                        <AlignRight className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n\r\n                    <ToolbarSeparator />\r\n\r\n                    {/* Insert */}\r\n                    <ToolbarButton\r\n                        onClick={openLinkDialog}\r\n                        isActive={editor.isActive('link')}\r\n                        title=\"Insert Link\"\r\n                    >\r\n                        <LinkIcon className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => setIsMediaPickerOpen(true)}\r\n                        title=\"Insert Image\"\r\n                    >\r\n                        <ImageIcon className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => setIsTableDialogOpen(true)}\r\n                        title=\"Insert Table\"\r\n                    >\r\n                        <TableIcon className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n\r\n                    <ToolbarSeparator />\r\n\r\n                    {/* Table Controls (only show when in table) */}\r\n                    {editor.isActive('table') && (\r\n                        <>\r\n                            <ToolbarButton\r\n                                onClick={addColumnBefore}\r\n                                title=\"Add Column Before\"\r\n                            >\r\n                                <Plus className=\"w-4 h-4\" />\r\n                            </ToolbarButton>\r\n                            <ToolbarButton\r\n                                onClick={addColumnAfter}\r\n                                title=\"Add Column After\"\r\n                            >\r\n                                <Plus className=\"w-4 h-4 rotate-90\" />\r\n                            </ToolbarButton>\r\n                            <ToolbarButton\r\n                                onClick={deleteColumn}\r\n                                title=\"Delete Column\"\r\n                            >\r\n                                <Trash2 className=\"w-4 h-4\" />\r\n                            </ToolbarButton>\r\n                            <ToolbarSeparator />\r\n                            <ToolbarButton\r\n                                onClick={addRowBefore}\r\n                                title=\"Add Row Before\"\r\n                            >\r\n                                <Plus className=\"w-4 h-4 rotate-90\" />\r\n                            </ToolbarButton>\r\n                            <ToolbarButton\r\n                                onClick={addRowAfter}\r\n                                title=\"Add Row After\"\r\n                            >\r\n                                <Plus className=\"w-4 h-4 rotate-90\" />\r\n                            </ToolbarButton>\r\n                            <ToolbarButton\r\n                                onClick={deleteRow}\r\n                                title=\"Delete Row\"\r\n                            >\r\n                                <Trash2 className=\"w-4 h-4\" />\r\n                            </ToolbarButton>\r\n                            <ToolbarButton\r\n                                onClick={deleteTable}\r\n                                title=\"Delete Table\"\r\n                            >\r\n                                <Trash2 className=\"w-4 h-4\" />\r\n                            </ToolbarButton>\r\n                            <ToolbarSeparator />\r\n                        </>\r\n                    )}\r\n\r\n                    {/* Image + Text Layouts */}\r\n                    <ToolbarButton\r\n                        onClick={() => insertImageTextLayout('left')}\r\n                        title=\"Image Left + Text Right\"\r\n                    >\r\n                        <ImageIcon className=\"w-4 h-4\" />\r\n                        <span className=\"ml-1 text-xs\">L</span>\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => insertImageTextLayout('right')}\r\n                        title=\"Text Left + Image Right\"\r\n                    >\r\n                        <ImageIcon className=\"w-4 h-4\" />\r\n                        <span className=\"ml-1 text-xs\">R</span>\r\n                    </ToolbarButton>\r\n\r\n                    <ToolbarSeparator />\r\n\r\n                    {/* Undo/Redo */}\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().undo().run()}\r\n                        title=\"Undo (Ctrl+Z)\"\r\n                    >\r\n                        <Undo className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                    <ToolbarButton\r\n                        onClick={() => editor.chain().focus().redo().run()}\r\n                        title=\"Redo (Ctrl+Shift+Z)\"\r\n                    >\r\n                        <Redo className=\"w-4 h-4\" />\r\n                    </ToolbarButton>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Editor */}\r\n            <EditorContent editor={editor} />\r\n\r\n            <MediaPicker\r\n                open={isMediaPickerOpen}\r\n                onOpenChange={setIsMediaPickerOpen}\r\n                onSelect={handleMediaSelect}\r\n                type=\"IMAGE\"\r\n                multiple={false}\r\n            />\r\n\r\n            <Dialog open={isLinkDialogOpen} onOpenChange={setIsLinkDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Insert Link</DialogTitle>\r\n                    </DialogHeader>\r\n                    <div className=\"space-y-4 py-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"link-text\">Link Text (optional)</Label>\r\n                            <Input id=\"link-text\" placeholder=\"Click here\" value={linkText} onChange={(e) => setLinkText(e.target.value)} />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"link-url\">URL</Label>\r\n                            <Input id=\"link-url\" placeholder=\"https://example.com\" value={linkUrl} onChange={(e) => setLinkUrl(e.target.value)} onKeyDown={(e) => { if (e.key === 'Enter') { e.preventDefault(); handleInsertLink(); } }} />\r\n                        </div>\r\n                    </div>\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setIsLinkDialogOpen(false)}>Cancel</Button>\r\n                        {editor?.isActive('link') && (\r\n                            <Button variant=\"destructive\" onClick={() => { editor?.chain().focus().extendMarkRange('link').unsetLink().run(); setIsLinkDialogOpen(false); }}>Remove Link</Button>\r\n                        )}\r\n                        <Button onClick={handleInsertLink}>{editor?.isActive('link') ? 'Update' : 'Insert'}</Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n\r\n            <Dialog open={isTableDialogOpen} onOpenChange={setIsTableDialogOpen}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Insert Table</DialogTitle>\r\n                    </DialogHeader>\r\n                    <div className=\"space-y-4 py-4\">\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"table-rows\">Rows</Label>\r\n                                <Input \r\n                                    id=\"table-rows\" \r\n                                    type=\"number\" \r\n                                    min=\"1\" \r\n                                    max=\"10\" \r\n                                    value={tableRows} \r\n                                    onChange={(e) => setTableRows(parseInt(e.target.value) || 3)} \r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"table-cols\">Columns</Label>\r\n                                <Input \r\n                                    id=\"table-cols\" \r\n                                    type=\"number\" \r\n                                    min=\"1\" \r\n                                    max=\"10\" \r\n                                    value={tableCols} \r\n                                    onChange={(e) => setTableCols(parseInt(e.target.value) || 3)} \r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <DialogFooter>\r\n                        <Button variant=\"outline\" onClick={() => setIsTableDialogOpen(false)}>Cancel</Button>\r\n                        <Button onClick={insertTable}>Insert Table</Button>\r\n                    </DialogFooter>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":3403,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/RichTextField.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Label } from '@/components/ui/label';\r\nimport { RichTextEditor } from '@/components/admin/RichTextEditor';\r\n\r\ninterface RichTextFieldProps {\r\n    label: string;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n    required?: boolean;\r\n    error?: string;\r\n}\r\n\r\nexport const RichTextField: React.FC<RichTextFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    required,\r\n    error\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <Label>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n            </Label>\r\n            <div className={error ? 'border border-red-500 rounded-md' : 'border rounded-md'}>\r\n                <RichTextEditor\r\n                    content={value || ''}\r\n                    onChange={onChange}\r\n                />\r\n            </div>\r\n            {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAWO,MAAM,gBAA8C,CAAC,EACxD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,KAAK,EACR;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,6IAAK;;oBACD;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAErD,6LAAC;gBAAI,WAAW,QAAQ,qCAAqC;0BACzD,cAAA,6LAAC,kKAAc;oBACX,SAAS,SAAS;oBAClB,UAAU;;;;;;;;;;;YAGjB,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3D;KAvBa"}},{"offset":{"line":3474,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/NumberField.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\n\r\ninterface NumberFieldProps {\r\n    label: string;\r\n    value: number | string;\r\n    onChange: (value: number) => void;\r\n    placeholder?: string;\r\n    required?: boolean;\r\n    min?: number;\r\n    max?: number;\r\n    step?: number;\r\n    unit?: string;\r\n    error?: string;\r\n}\r\n\r\nexport const NumberField: React.FC<NumberFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    required,\r\n    min,\r\n    max,\r\n    step,\r\n    unit,\r\n    error\r\n}) => {\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const numValue = parseFloat(e.target.value);\r\n        if (!isNaN(numValue)) {\r\n            onChange(numValue);\r\n        } else if (e.target.value === '') {\r\n            onChange(0);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <Label>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n            </Label>\r\n            <div className=\"flex items-center gap-2\">\r\n                <Input\r\n                    type=\"number\"\r\n                    value={value || ''}\r\n                    onChange={handleChange}\r\n                    placeholder={placeholder}\r\n                    min={min}\r\n                    max={max}\r\n                    step={step}\r\n                    className={error ? 'border-red-500' : ''}\r\n                />\r\n                {unit && (\r\n                    <span className=\"text-sm text-muted-foreground whitespace-nowrap\">{unit}</span>\r\n                )}\r\n            </div>\r\n            {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAeO,MAAM,cAA0C,CAAC,EACpD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,GAAG,EACH,GAAG,EACH,IAAI,EACJ,IAAI,EACJ,KAAK,EACR;IACG,MAAM,eAAe,CAAC;QAClB,MAAM,WAAW,WAAW,EAAE,MAAM,CAAC,KAAK;QAC1C,IAAI,CAAC,MAAM,WAAW;YAClB,SAAS;QACb,OAAO,IAAI,EAAE,MAAM,CAAC,KAAK,KAAK,IAAI;YAC9B,SAAS;QACb;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,6IAAK;;oBACD;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAErD,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,6IAAK;wBACF,MAAK;wBACL,OAAO,SAAS;wBAChB,UAAU;wBACV,aAAa;wBACb,KAAK;wBACL,KAAK;wBACL,MAAM;wBACN,WAAW,QAAQ,mBAAmB;;;;;;oBAEzC,sBACG,6LAAC;wBAAK,WAAU;kCAAmD;;;;;;;;;;;;YAG1E,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3D;KA7Ca"}},{"offset":{"line":3569,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/fields/DateField.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\n\r\ninterface DateFieldProps {\r\n    label: string;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n    required?: boolean;\r\n    type?: 'date' | 'datetime-local' | 'time';\r\n    error?: string;\r\n}\r\n\r\nexport const DateField: React.FC<DateFieldProps> = ({\r\n    label,\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    required,\r\n    type = 'date',\r\n    error\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <Label>\r\n                {label}\r\n                {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n            </Label>\r\n            <Input\r\n                type={type}\r\n                value={value || ''}\r\n                onChange={(e) => onChange(e.target.value)}\r\n                placeholder={placeholder}\r\n                className={error ? 'border-red-500' : ''}\r\n            />\r\n            {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAYO,MAAM,YAAsC,CAAC,EAChD,KAAK,EACL,KAAK,EACL,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,OAAO,MAAM,EACb,KAAK,EACR;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,6IAAK;;oBACD;oBACA,0BAAY,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAErD,6LAAC,6IAAK;gBACF,MAAM;gBACN,OAAO,SAAS;gBAChB,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAa;gBACb,WAAW,QAAQ,mBAAmB;;;;;;YAEzC,uBAAS,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAG3D;KAzBa"}},{"offset":{"line":3636,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/block-editor/ConfigForm.tsx"],"sourcesContent":["import React from 'react';\nimport { TextField } from './fields/TextField';\nimport { TextareaField } from './fields/TextareaField';\nimport { ImageField } from './fields/ImageField';\nimport { ColorField } from './fields/ColorField';\nimport { SelectField } from './fields/SelectField';\nimport { ToggleField } from './fields/ToggleField';\nimport { SliderField } from './fields/SliderField';\nimport { RepeaterField } from './fields/RepeaterField';\nimport { RichTextField } from './fields/RichTextField';\nimport { NumberField } from './fields/NumberField';\nimport { DateField } from './fields/DateField';\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs';\nimport { Accordion, AccordionItem, AccordionTrigger, AccordionContent } from '@/components/ui/accordion';\nimport { Separator } from '@/components/ui/separator';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { X } from 'lucide-react';\n\ninterface ConfigFormProps {\n    schema: {\n        fields?: any[];\n        tabs?: Array<{\n            id: string;\n            label: string;\n            icon?: string;\n            fields: any[];\n        }>;\n        sections?: Array<{\n            id: string;\n            label: string;\n            description?: string;\n            fields: any[];\n            collapsible?: boolean;\n            defaultOpen?: boolean;\n        }>;\n    };\n    data: any;\n    onChange: (data: any) => void;\n}\n\n// Helper function to check if a field should be visible based on conditions\nconst shouldShowField = (field: any, data: any): boolean => {\n    if (!field.condition) return true;\n\n    const { field: conditionField, operator, value: conditionValue } = field.condition;\n    const fieldValue = data?.[conditionField];\n\n    switch (operator) {\n        case 'equals':\n            return fieldValue === conditionValue;\n        case 'notEquals':\n            return fieldValue !== conditionValue;\n        case 'contains':\n            return String(fieldValue || '').includes(String(conditionValue || ''));\n        case 'notContains':\n            return !String(fieldValue || '').includes(String(conditionValue || ''));\n        case 'greaterThan':\n            return Number(fieldValue) > Number(conditionValue);\n        case 'lessThan':\n            return Number(fieldValue) < Number(conditionValue);\n        case 'isEmpty':\n            return !fieldValue || fieldValue === '';\n        case 'isNotEmpty':\n            return fieldValue && fieldValue !== '';\n        case 'in':\n            return Array.isArray(conditionValue) && conditionValue.includes(fieldValue);\n        case 'notIn':\n            return Array.isArray(conditionValue) && !conditionValue.includes(fieldValue);\n        default:\n            return true;\n    }\n};\n\n// Render a single field\nconst renderField = (field: any, data: any, handleChange: (name: string, value: any) => void) => {\n    if (!shouldShowField(field, data)) {\n        return null;\n    }\n\n    const value = data?.[field.name];\n\n    switch (field.type) {\n        case 'text':\n        case 'email':\n        case 'url':\n            return (\n                <TextField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    placeholder={field.placeholder}\n                    required={field.required}\n                    type={field.type}\n                    maxLength={field.maxLength}\n                    error={field.error}\n                />\n            );\n        case 'number':\n            return (\n                <NumberField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    placeholder={field.placeholder}\n                    required={field.required}\n                    min={field.min}\n                    max={field.max}\n                    step={field.step}\n                    unit={field.unit}\n                    error={field.error}\n                />\n            );\n        case 'textarea':\n            return (\n                <TextareaField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    placeholder={field.placeholder}\n                    required={field.required}\n                    rows={field.rows}\n                    maxLength={field.maxLength}\n                />\n            );\n        case 'image':\n            return (\n                <ImageField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    required={field.required}\n                    recommended={field.recommended}\n                />\n            );\n        case 'color':\n            return (\n                <ColorField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    required={field.required}\n                />\n            );\n        case 'select':\n            return (\n                <SelectField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    options={field.options}\n                    required={field.required}\n                    placeholder={field.placeholder}\n                />\n            );\n        case 'checkbox':\n        case 'boolean':\n            return (\n                <ToggleField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    description={field.description}\n                />\n            );\n        case 'array':\n            // Simple array field - allows adding/removing string items\n            const arrayValue = Array.isArray(value) ? value : (value ? [value] : []);\n            return (\n                <div key={field.name} className=\"space-y-2\">\n                    <Label>{field.label}</Label>\n                    {field.description && (\n                        <p className=\"text-xs text-muted-foreground mb-2\">{field.description}</p>\n                    )}\n                    <div className=\"space-y-2\">\n                        {arrayValue.map((item: any, index: number) => (\n                            <div key={index} className=\"flex items-center gap-2\">\n                                <Input\n                                    value={typeof item === 'string' ? item : String(item)}\n                                    onChange={(e) => {\n                                        const newArray = [...arrayValue];\n                                        newArray[index] = e.target.value;\n                                        handleChange(field.name, newArray);\n                                    }}\n                                    placeholder={field.placeholder || 'Enter value'}\n                                    className=\"flex-1\"\n                                />\n                                <Button\n                                    type=\"button\"\n                                    variant=\"ghost\"\n                                    size=\"icon\"\n                                    onClick={() => {\n                                        const newArray = arrayValue.filter((_: any, i: number) => i !== index);\n                                        handleChange(field.name, newArray);\n                                    }}\n                                    className=\"h-8 w-8\"\n                                >\n                                    <X className=\"h-4 w-4\" />\n                                </Button>\n                            </div>\n                        ))}\n                        <Button\n                            type=\"button\"\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => {\n                                handleChange(field.name, [...arrayValue, '']);\n                            }}\n                            className=\"w-full\"\n                        >\n                            + Add Item\n                        </Button>\n                    </div>\n                </div>\n            );\n        case 'slider':\n            return (\n                <SliderField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    min={field.min}\n                    max={field.max}\n                    step={field.step}\n                    unit={field.unit}\n                />\n            );\n        case 'repeater':\n            // Ensure value is always an array for repeater fields\n            const repeaterValue = Array.isArray(value) ? value : (value ? [value] : []);\n            return (\n                <RepeaterField\n                    key={field.name}\n                    label={field.label}\n                    value={repeaterValue}\n                    onChange={(val) => handleChange(field.name, val)}\n                    fields={field.fields}\n                    itemLabel={field.itemLabel}\n                />\n            );\n        case 'richtext':\n        case 'richText':\n            return (\n                <RichTextField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    placeholder={field.placeholder}\n                    required={field.required}\n                    error={field.error}\n                />\n            );\n        case 'date':\n        case 'datetime':\n        case 'time':\n            return (\n                <DateField\n                    key={field.name}\n                    label={field.label}\n                    value={value}\n                    onChange={(val) => handleChange(field.name, val)}\n                    placeholder={field.placeholder}\n                    required={field.required}\n                    type={field.type === 'datetime' ? 'datetime-local' : field.type === 'time' ? 'time' : 'date'}\n                    error={field.error}\n                />\n            );\n        case 'separator':\n            return <Separator key={field.name} className=\"my-4\" />;\n        case 'heading':\n            return (\n                <div key={field.name} className=\"space-y-1\">\n                    <h3 className=\"text-sm font-semibold text-foreground\">{field.label}</h3>\n                    {field.description && (\n                        <p className=\"text-xs text-muted-foreground\">{field.description}</p>\n                    )}\n                </div>\n            );\n        default:\n            return (\n                <div key={field.name} className=\"p-4 border border-red-200 bg-red-50 rounded text-red-600 text-sm\">\n                    Unknown field type: {field.type}\n                </div>\n            );\n    }\n};\n\nexport const ConfigForm: React.FC<ConfigFormProps> = ({\n    schema,\n    data,\n    onChange\n}) => {\n    const handleChange = (fieldName: string, value: any) => {\n        onChange({\n            ...data,\n            [fieldName]: value\n        });\n    };\n\n    // Render fields in a flat list\n    const renderFields = (fields: any[]) => {\n        return (\n            <div className=\"space-y-6\">\n                {fields.map((field) => renderField(field, data, handleChange))}\n            </div>\n        );\n    };\n\n    // Render fields organized in sections\n    const renderSections = (sections: any[]) => {\n        if (sections.some(s => s.collapsible)) {\n            // Use accordion for collapsible sections\n            return (\n                <Accordion type=\"multiple\" defaultValue={sections.filter(s => s.defaultOpen).map(s => s.id)} className=\"space-y-2\">\n                    {sections.map((section) => {\n                        const visibleFields = section.fields.filter((f: any) => shouldShowField(f, data));\n                        if (visibleFields.length === 0) return null;\n\n                        return (\n                            <AccordionItem key={section.id} value={section.id} className=\"border rounded-lg px-4\">\n                                <AccordionTrigger className=\"hover:no-underline\">\n                                    <div className=\"text-left\">\n                                        <div className=\"font-semibold text-sm\">{section.label}</div>\n                                        {section.description && (\n                                            <div className=\"text-xs text-muted-foreground font-normal mt-0.5\">\n                                                {section.description}\n                                            </div>\n                                        )}\n                                    </div>\n                                </AccordionTrigger>\n                                <AccordionContent>\n                                    <div className=\"space-y-6 pt-2\">\n                                        {section.fields.map((field: any) => renderField(field, data, handleChange))}\n                                    </div>\n                                </AccordionContent>\n                            </AccordionItem>\n                        );\n                    })}\n                </Accordion>\n            );\n        } else {\n            // Use simple sections with separators\n            return (\n                <div className=\"space-y-8\">\n                    {sections.map((section, index) => {\n                        const visibleFields = section.fields.filter((f: any) => shouldShowField(f, data));\n                        if (visibleFields.length === 0) return null;\n\n                        return (\n                            <div key={section.id} className=\"space-y-4\">\n                                <div className=\"space-y-1\">\n                                    <h3 className=\"text-sm font-semibold text-foreground\">{section.label}</h3>\n                                    {section.description && (\n                                        <p className=\"text-xs text-muted-foreground\">{section.description}</p>\n                                    )}\n                                </div>\n                                <div className=\"space-y-6 pl-4 border-l-2 border-border\">\n                                    {section.fields.map((field: any) => renderField(field, data, handleChange))}\n                                </div>\n                                {index < sections.length - 1 && <Separator className=\"my-6\" />}\n                            </div>\n                        );\n                    })}\n                </div>\n            );\n        }\n    };\n\n    // Render fields organized in tabs\n    const renderTabs = (tabs: any[]) => {\n        return (\n            <Tabs defaultValue={tabs[0]?.id} className=\"w-full\">\n                <TabsList className=\"grid w-full\" style={{ gridTemplateColumns: `repeat(${tabs.length}, minmax(0, 1fr))` }}>\n                    {tabs.map((tab) => (\n                        <TabsTrigger key={tab.id} value={tab.id} className=\"text-xs\">\n                            {tab.label}\n                        </TabsTrigger>\n                    ))}\n                </TabsList>\n                {tabs.map((tab) => {\n                    const visibleFields = tab.fields.filter((f: any) => shouldShowField(f, data));\n                    if (visibleFields.length === 0) return null;\n\n                    return (\n                        <TabsContent key={tab.id} value={tab.id} className=\"mt-4 space-y-6\">\n                            {tab.fields.map((field: any) => renderField(field, data, handleChange))}\n                        </TabsContent>\n                    );\n                })}\n            </Tabs>\n        );\n    };\n\n    if (!schema) {\n        return (\n            <div className=\"p-4 border border-amber-200 bg-amber-50 rounded-lg\">\n                <div className=\"flex items-start gap-3\">\n                    <div className=\"flex-shrink-0 mt-0.5\">\n                        <svg className=\"w-5 h-5 text-amber-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                        </svg>\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                        <h4 className=\"text-sm font-semibold text-amber-900 mb-1\">\n                            Configuration Schema Missing\n                        </h4>\n                        <p className=\"text-xs text-amber-800 mb-2\">\n                            This block template doesn't have a configuration schema defined. The block will still render, but you won't be able to customize its settings.\n                        </p>\n                        <p className=\"text-xs text-amber-700\">\n                            To enable configuration options, update the block template in the Templates section.\n                        </p>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    // Priority: tabs > sections > fields\n    if (schema.tabs && schema.tabs.length > 0) {\n        return renderTabs(schema.tabs);\n    }\n\n    if (schema.sections && schema.sections.length > 0) {\n        return renderSections(schema.sections);\n    }\n\n    if (schema.fields && schema.fields.length > 0) {\n        return renderFields(schema.fields);\n    }\n\n    return (\n        <div className=\"p-4 border border-amber-200 bg-amber-50 rounded-lg\">\n            <div className=\"flex items-start gap-3\">\n                <div className=\"flex-shrink-0 mt-0.5\">\n                    <svg className=\"w-5 h-5 text-amber-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                    </svg>\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                    <h4 className=\"text-sm font-semibold text-amber-900 mb-1\">\n                        No Configuration Fields\n                    </h4>\n                    <p className=\"text-xs text-amber-800\">\n                        This block template has a schema but no configuration fields are defined. The block will render with default settings.\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":"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"}},{"offset":{"line":4387,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/editor/PageSettingsForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from '@/components/ui/select';\r\nimport { PageStatus } from '@prisma/client';\r\n\r\ninterface PageSettingsFormProps {\r\n    pageData: {\r\n        title: string;\r\n        slug: string;\r\n        description?: string;\r\n        seoTitle?: string;\r\n        seoDescription?: string;\r\n        seoKeywords?: string;\r\n        status: PageStatus;\r\n        overridesStorefrontPage?: boolean;\r\n        overriddenPageType?: string | null;\r\n    };\r\n    onChange: (field: string, value: any) => void;\r\n}\r\n\r\nexport const PageSettingsForm: React.FC<PageSettingsFormProps> = ({\r\n    pageData,\r\n    onChange,\r\n}) => {\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Basic Info */}\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <h3 className=\"font-semibold text-sm text-gray-900\">Basic Information</h3>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">Configure the basic page details</p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"title\">Page Title</Label>\r\n                    <Input\r\n                        id=\"title\"\r\n                        value={pageData.title}\r\n                        onChange={(e) => onChange('title', e.target.value)}\r\n                        placeholder=\"Enter page title\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"slug\">URL Slug</Label>\r\n                    <Input\r\n                        id=\"slug\"\r\n                        value={pageData.slug}\r\n                        onChange={(e) => onChange('slug', e.target.value)}\r\n                        placeholder=\"page-url-slug\"\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        {pageData.overridesStorefrontPage && pageData.overriddenPageType ? (\r\n                            <>\r\n                                This page overrides the <strong>{pageData.overriddenPageType}</strong> storefront page.\r\n                                {pageData.status !== 'PUBLISHED' && (\r\n                                    <span className=\"block mt-1 text-amber-600 font-medium\">\r\n                                        âš ï¸ Page must be Published for override to take effect\r\n                                    </span>\r\n                                )}\r\n                            </>\r\n                        ) : (\r\n                            <>URL: /landing/{pageData.slug}</>\r\n                        )}\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"description\">Description</Label>\r\n                    <Textarea\r\n                        id=\"description\"\r\n                        value={pageData.description || ''}\r\n                        onChange={(e) => onChange('description', e.target.value)}\r\n                        placeholder=\"Brief description of the page\"\r\n                        rows={3}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"status\">Status</Label>\r\n                    <Select\r\n                        value={String(pageData.status || 'DRAFT')}\r\n                        onValueChange={(value) => onChange('status', value as PageStatus)}\r\n                    >\r\n                        <SelectTrigger id=\"status\" className=\"w-full\">\r\n                            <SelectValue placeholder=\"Select status\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent className=\"z-[100]\">\r\n                            <SelectItem value=\"DRAFT\">Draft</SelectItem>\r\n                            <SelectItem value=\"PUBLISHED\">Published</SelectItem>\r\n                            <SelectItem value=\"SCHEDULED\">Scheduled</SelectItem>\r\n                            <SelectItem value=\"ARCHIVED\">Archived</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n                    {pageData.overridesStorefrontPage && pageData.status !== 'PUBLISHED' && (\r\n                        <div className=\"mt-2 p-3 bg-amber-50 border border-amber-200 rounded-md\">\r\n                            <p className=\"text-xs text-amber-800\">\r\n                                <strong>Note:</strong> Storefront page overrides only work when the page status is <strong>Published</strong>. \r\n                                Change the status to Published to activate the override.\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* SEO Settings */}\r\n            <div className=\"space-y-4 pt-4 border-t\">\r\n                <div>\r\n                    <h3 className=\"font-semibold text-sm text-gray-900\">SEO Settings</h3>\r\n                    <p className=\"text-xs text-muted-foreground mt-1\">Optimize your page for search engines</p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"seoTitle\">SEO Title</Label>\r\n                    <Input\r\n                        id=\"seoTitle\"\r\n                        value={pageData.seoTitle || ''}\r\n                        onChange={(e) => onChange('seoTitle', e.target.value)}\r\n                        placeholder=\"Title for search engines\"\r\n                        maxLength={60}\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        {(pageData.seoTitle || '').length}/60 characters\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"seoDescription\">SEO Description</Label>\r\n                    <Textarea\r\n                        id=\"seoDescription\"\r\n                        value={pageData.seoDescription || ''}\r\n                        onChange={(e) => onChange('seoDescription', e.target.value)}\r\n                        placeholder=\"Description for search engines\"\r\n                        rows={3}\r\n                        maxLength={160}\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        {(pageData.seoDescription || '').length}/160 characters\r\n                    </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"seoKeywords\">SEO Keywords</Label>\r\n                    <Input\r\n                        id=\"seoKeywords\"\r\n                        value={pageData.seoKeywords || ''}\r\n                        onChange={(e) => onChange('seoKeywords', e.target.value)}\r\n                        placeholder=\"keyword1, keyword2, keyword3\"\r\n                    />\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        Comma-separated keywords\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":4833,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/editor/DevicePreview.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Monitor, Tablet, Smartphone } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport type DeviceType = 'desktop' | 'tablet' | 'mobile';\r\n\r\ninterface DevicePreviewProps {\r\n    device: DeviceType;\r\n    onChange: (device: DeviceType) => void;\r\n}\r\n\r\nexport const DevicePreview: React.FC<DevicePreviewProps> = ({\r\n    device,\r\n    onChange\r\n}) => {\r\n    return (\r\n        <div className=\"flex items-center bg-gray-100 p-1 rounded-lg border\">\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => onChange('desktop')}\r\n                className={cn(\r\n                    \"h-7 w-7 p-0 hover:bg-white hover:shadow-sm transition-all\",\r\n                    device === 'desktop' && \"bg-white shadow-sm text-primary\"\r\n                )}\r\n                title=\"Desktop View\"\r\n            >\r\n                <Monitor className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => onChange('tablet')}\r\n                className={cn(\r\n                    \"h-7 w-7 p-0 hover:bg-white hover:shadow-sm transition-all\",\r\n                    device === 'tablet' && \"bg-white shadow-sm text-primary\"\r\n                )}\r\n                title=\"Tablet View\"\r\n            >\r\n                <Tablet className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => onChange('mobile')}\r\n                className={cn(\r\n                    \"h-7 w-7 p-0 hover:bg-white hover:shadow-sm transition-all\",\r\n                    device === 'mobile' && \"bg-white shadow-sm text-primary\"\r\n                )}\r\n                title=\"Mobile View\"\r\n            >\r\n                <Smartphone className=\"h-4 w-4\" />\r\n            </Button>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AACA;AACA;AALA;;;;;AAcO,MAAM,gBAA8C,CAAC,EACxD,MAAM,EACN,QAAQ,EACX;IACG,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,+IAAM;gBACH,SAAQ;gBACR,MAAK;gBACL,SAAS,IAAM,SAAS;gBACxB,WAAW,IAAA,4HAAE,EACT,6DACA,WAAW,aAAa;gBAE5B,OAAM;0BAEN,cAAA,6LAAC,sNAAO;oBAAC,WAAU;;;;;;;;;;;0BAEvB,6LAAC,+IAAM;gBACH,SAAQ;gBACR,MAAK;gBACL,SAAS,IAAM,SAAS;gBACxB,WAAW,IAAA,4HAAE,EACT,6DACA,WAAW,YAAY;gBAE3B,OAAM;0BAEN,cAAA,6LAAC,mNAAM;oBAAC,WAAU;;;;;;;;;;;0BAEtB,6LAAC,+IAAM;gBACH,SAAQ;gBACR,MAAK;gBACL,SAAS,IAAM,SAAS;gBACxB,WAAW,IAAA,4HAAE,EACT,6DACA,WAAW,YAAY;gBAE3B,OAAM;0BAEN,cAAA,6LAAC,+NAAU;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAItC;KA5Ca"}},{"offset":{"line":4923,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/editor/EditorLayout.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Save, ArrowLeft, Loader2, Settings, X, PanelRightClose, PanelRightOpen, LayoutTemplate, Eye, PanelLeftClose, PanelLeftOpen, Search, CheckCircle2, AlertCircle, Undo2, Redo2 } from 'lucide-react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { SidebarBlock } from './SidebarBlock';\r\nimport { Canvas } from './Canvas';\r\nimport { ConfigForm } from '../block-editor/ConfigForm';\r\nimport { PageSettingsForm } from './PageSettingsForm';\r\nimport { EditorBlock } from '@/hooks/usePageEditor';\r\nimport Link from 'next/link';\r\nimport { DevicePreview, DeviceType } from './DevicePreview';\r\nimport { useAdminSidebar } from '@/components/admin/AdminSidebarContext';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n    Sheet,\r\n    SheetContent,\r\n    SheetHeader,\r\n    SheetTitle,\r\n    SheetTrigger,\r\n} from \"@/components/ui/sheet\";\r\n\r\ninterface EditorLayoutProps {\r\n    pageTitle: string;\r\n    pageId: string;\r\n    pageSlug: string;\r\n    pageData: any;\r\n    blocks: EditorBlock[];\r\n    templates: any[];\r\n    selectedBlockId: string | null;\r\n    isSaving: boolean;\r\n    isDirty: boolean;\r\n    autoSaveStatus?: 'idle' | 'saving' | 'saved' | 'error';\r\n    onAddBlock: (template: any) => void;\r\n    onSelectBlock: (id: string) => void;\r\n    onRemoveBlock: (id: string) => void;\r\n    onReorderBlocks: (blocks: EditorBlock[]) => void;\r\n    onUpdateBlockConfig: (id: string, config: any) => void;\r\n    onUpdatePageData: (field: string, value: any) => void;\r\n    onSave: () => void;\r\n    onUndo?: () => void;\r\n    onRedo?: () => void;\r\n    canUndo?: boolean;\r\n    canRedo?: boolean;\r\n    onDuplicateBlock?: (blockId: string) => void;\r\n}\r\n\r\nexport const EditorLayout: React.FC<EditorLayoutProps> = ({\r\n    pageTitle,\r\n    pageId,\r\n    pageSlug,\r\n    pageData,\r\n    blocks,\r\n    templates,\r\n    selectedBlockId,\r\n    isSaving,\r\n    isDirty,\r\n    autoSaveStatus = 'idle',\r\n    onAddBlock,\r\n    onSelectBlock,\r\n    onRemoveBlock,\r\n    onReorderBlocks,\r\n    onUpdateBlockConfig,\r\n    onUpdatePageData,\r\n    onSave,\r\n    onUndo,\r\n    onRedo,\r\n    canUndo = false,\r\n    canRedo = false,\r\n    onDuplicateBlock\r\n}) => {\r\n    const selectedBlock = blocks.find(b => b.id === selectedBlockId);\r\n    const [device, setDevice] = useState<DeviceType>('desktop');\r\n    const { setIsCollapsed } = useAdminSidebar();\r\n    const [isSettingsOpen, setIsSettingsOpen] = useState(false);\r\n    const [isBlockLibraryOpen, setIsBlockLibraryOpen] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    // Collapse admin sidebar on mount\r\n    useEffect(() => {\r\n        setIsCollapsed(true);\r\n        return () => setIsCollapsed(false);\r\n    }, [setIsCollapsed]);\r\n\r\n    // Keyboard shortcuts\r\n    useEffect(() => {\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            // Don't trigger shortcuts when typing in inputs\r\n            if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) {\r\n                // Allow Ctrl+S for save even in inputs\r\n                if (e.ctrlKey && e.key === 's') {\r\n                    e.preventDefault();\r\n                    if (isDirty && !isSaving) {\r\n                        onSave();\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            // Ctrl+S - Save\r\n            if (e.ctrlKey && e.key === 's') {\r\n                e.preventDefault();\r\n                if (isDirty && !isSaving) {\r\n                    onSave();\r\n                }\r\n            }\r\n            // Ctrl+Z - Undo\r\n            else if (e.ctrlKey && e.key === 'z' && !e.shiftKey) {\r\n                e.preventDefault();\r\n                if (canUndo && onUndo) {\r\n                    onUndo();\r\n                }\r\n            }\r\n            // Ctrl+Y or Ctrl+Shift+Z - Redo\r\n            else if ((e.ctrlKey && e.key === 'y') || (e.ctrlKey && e.shiftKey && e.key === 'z')) {\r\n                e.preventDefault();\r\n                if (canRedo && onRedo) {\r\n                    onRedo();\r\n                }\r\n            }\r\n            // Delete - Remove selected block\r\n            else if (e.key === 'Delete' && selectedBlockId) {\r\n                e.preventDefault();\r\n                onRemoveBlock(selectedBlockId);\r\n            }\r\n            // Arrow Up/Down - Navigate blocks\r\n            else if (e.key === 'ArrowUp' && selectedBlockId) {\r\n                e.preventDefault();\r\n                const currentIndex = blocks.findIndex(b => b.id === selectedBlockId);\r\n                if (currentIndex > 0) {\r\n                    onSelectBlock(blocks[currentIndex - 1].id);\r\n                }\r\n            }\r\n            else if (e.key === 'ArrowDown' && selectedBlockId) {\r\n                e.preventDefault();\r\n                const currentIndex = blocks.findIndex(b => b.id === selectedBlockId);\r\n                if (currentIndex < blocks.length - 1) {\r\n                    onSelectBlock(blocks[currentIndex + 1].id);\r\n                }\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [isDirty, isSaving, canUndo, canRedo, onUndo, onRedo, onSave, selectedBlockId, blocks, onSelectBlock, onRemoveBlock]);\r\n\r\n    // Toggle settings when block is selected/deselected via gear icon\r\n    const handleBlockSelect = (id: string) => {\r\n        if (selectedBlockId === id && isSettingsOpen) {\r\n            // If clicking the same block's gear icon, toggle settings panel\r\n            setIsSettingsOpen(false);\r\n        } else {\r\n            // Select block and open settings\r\n            onSelectBlock(id);\r\n            setIsSettingsOpen(true);\r\n        }\r\n    };\r\n\r\n    // Handle block click (not gear icon) - just select\r\n    const handleBlockClick = (id: string) => {\r\n        onSelectBlock(id);\r\n        setIsSettingsOpen(true);\r\n    };\r\n\r\n    // Filter templates based on search query\r\n    const filteredTemplates = useMemo(() => {\r\n        if (!searchQuery.trim()) {\r\n            return templates;\r\n        }\r\n        const query = searchQuery.toLowerCase().trim();\r\n        return templates.filter(template => {\r\n            const nameMatch = template.name?.toLowerCase().includes(query);\r\n            const descriptionMatch = template.description?.toLowerCase().includes(query);\r\n            const categoryMatch = template.category?.toLowerCase().replace('_', ' ').includes(query);\r\n            const slugMatch = template.slug?.toLowerCase().includes(query);\r\n            return nameMatch || descriptionMatch || categoryMatch || slugMatch;\r\n        });\r\n    }, [templates, searchQuery]);\r\n\r\n    // Group templates by category\r\n    const templatesByCategory = useMemo(() => {\r\n        return filteredTemplates.reduce((acc, template) => {\r\n            const category = template.category;\r\n            if (!acc[category]) acc[category] = [];\r\n            acc[category].push(template);\r\n            return acc;\r\n        }, {} as Record<string, any[]>);\r\n    }, [filteredTemplates]);\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 lg:left-[70px] z-30 bg-background flex flex-col\">\r\n            {/* Header */}\r\n            <header className=\"h-16 border-b flex items-center justify-between px-4 sm:px-6 bg-white/95 backdrop-blur-sm shrink-0 z-20 shadow-sm\">\r\n                <div className=\"flex items-center gap-6\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Link href=\"/admin/cms/landing-pages\" className=\"p-2 hover:bg-gray-100 rounded-full transition-colors text-muted-foreground hover:text-foreground\">\r\n                            <ArrowLeft className=\"h-5 w-5\" />\r\n                        </Link>\r\n                        <div className=\"flex flex-col\">\r\n                            <h1 className=\"font-semibold text-base\">{pageData.title || pageTitle}</h1>\r\n                            <span className=\"text-xs text-muted-foreground\">Page Editor</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"h-6 w-px bg-gray-200\" />\r\n\r\n                    <DevicePreview device={device} onChange={setDevice} />\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2 sm:gap-3 flex-wrap\">\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                            if (isSettingsOpen && !selectedBlockId) {\r\n                                // If page settings is already open, toggle it closed\r\n                                setIsSettingsOpen(false);\r\n                            } else {\r\n                                // Otherwise, open page settings\r\n                                onSelectBlock(''); // Deselect block to show page settings\r\n                                setIsSettingsOpen(true);\r\n                            }\r\n                        }}\r\n                        className={cn(\"gap-2\", isSettingsOpen && !selectedBlockId && \"bg-accent\")}\r\n                        title=\"Page Settings (Configure page title, slug, SEO, etc.)\"\r\n                    >\r\n                        <Settings className=\"h-4 w-4\" />\r\n                        Page Settings\r\n                    </Button>\r\n\r\n                    <div className=\"h-6 w-px bg-gray-200\" />\r\n\r\n                    {/* Undo/Redo buttons */}\r\n                    {onUndo && onRedo && (\r\n                        <>\r\n                            <Button\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                onClick={onUndo}\r\n                                disabled={!canUndo}\r\n                                title=\"Undo last action (Ctrl+Z)\"\r\n                                className=\"h-8 w-8\"\r\n                            >\r\n                                <Undo2 className={cn(\"h-4 w-4 transition-opacity\", !canUndo && \"opacity-40\")} />\r\n                            </Button>\r\n                            <Button\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                onClick={onRedo}\r\n                                disabled={!canRedo}\r\n                                title=\"Redo last action (Ctrl+Y)\"\r\n                                className=\"h-8 w-8\"\r\n                            >\r\n                                <Redo2 className={cn(\"h-4 w-4 transition-opacity\", !canRedo && \"opacity-40\")} />\r\n                            </Button>\r\n                            <div className=\"h-6 w-px bg-gray-200\" />\r\n                        </>\r\n                    )}\r\n\r\n                    {/* Auto-save status indicator */}\r\n                    {autoSaveStatus !== 'idle' && (\r\n                        <div className={cn(\r\n                            \"flex items-center gap-2 text-xs px-2 sm:px-3 py-1.5 rounded-md transition-all\",\r\n                            autoSaveStatus === 'saving' && \"bg-blue-50 text-blue-700 border border-blue-200\",\r\n                            autoSaveStatus === 'saved' && \"bg-green-50 text-green-700 border border-green-200\",\r\n                            autoSaveStatus === 'error' && \"bg-red-50 text-red-700 border border-red-200\"\r\n                        )}>\r\n                            {autoSaveStatus === 'saving' && (\r\n                                <>\r\n                                    <Loader2 className=\"h-3.5 w-3.5 animate-spin flex-shrink-0\" />\r\n                                    <span className=\"hidden sm:inline\">Auto-saving...</span>\r\n                                </>\r\n                            )}\r\n                            {autoSaveStatus === 'saved' && (\r\n                                <>\r\n                                    <CheckCircle2 className=\"h-3.5 w-3.5 flex-shrink-0\" />\r\n                                    <span className=\"hidden sm:inline\">Auto-saved</span>\r\n                                </>\r\n                            )}\r\n                            {autoSaveStatus === 'error' && (\r\n                                <>\r\n                                    <AlertCircle className=\"h-3.5 w-3.5 flex-shrink-0\" />\r\n                                    <span className=\"hidden sm:inline\">Auto-save failed</span>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    <Link \r\n                        href={(() => {\r\n                            // Generate preview URL based on override type\r\n                            if (pageData.overridesStorefrontPage && pageData.overriddenPageType) {\r\n                                const overrideUrlMap: Record<string, string> = {\r\n                                    'HOME': '/en',\r\n                                    'SHOP': '/en/shop',\r\n                                    'PRODUCT': '/en/product',\r\n                                    'CART': '/en/cart',\r\n                                    'CHECKOUT': '/en/checkout',\r\n                                    'BLOG': '/en/blog',\r\n                                    'BLOG_POST': `/en/blog/${pageSlug}`,\r\n                                };\r\n                                return overrideUrlMap[pageData.overriddenPageType] || `/en/landing/${pageSlug}`;\r\n                            }\r\n                            return `/en/landing/${pageSlug}`;\r\n                        })()} \r\n                        target=\"_blank\"\r\n                        title=\"Preview page in new tab\"\r\n                    >\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            className=\"gap-2\"\r\n                        >\r\n                            <Eye className=\"h-4 w-4\" />\r\n                            Preview\r\n                        </Button>\r\n                    </Link>\r\n\r\n                    <Button\r\n                        size=\"sm\"\r\n                        onClick={onSave}\r\n                        disabled={!isDirty || isSaving}\r\n                        className=\"min-w-[120px]\"\r\n                        title={!isDirty ? \"No changes to save\" : \"Save changes (Ctrl+S)\"}\r\n                    >\r\n                        {isSaving ? (\r\n                            <>\r\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                Saving...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <Save className=\"mr-2 h-4 w-4\" />\r\n                                Save Changes\r\n                            </>\r\n                        )}\r\n                    </Button>\r\n\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={() => setIsSettingsOpen(!isSettingsOpen)}\r\n                        className=\"ml-2\"\r\n                        title={isSettingsOpen ? \"Close settings panel\" : \"Open settings panel\"}\r\n                    >\r\n                        {isSettingsOpen ? (\r\n                            <PanelRightClose className=\"h-5 w-5 text-muted-foreground\" />\r\n                        ) : (\r\n                            <PanelRightOpen className=\"h-5 w-5 text-muted-foreground\" />\r\n                        )}\r\n                    </Button>\r\n                </div>\r\n            </header>\r\n\r\n            <div className=\"flex-1 flex overflow-hidden relative min-h-0\">\r\n                {/* Left Sidebar - Block Library (Collapsible) */}\r\n                <div\r\n                    className={cn(\r\n                        \"border-r flex flex-col bg-white shrink-0 shadow-sm transition-all duration-300 ease-in-out min-h-0\",\r\n                        isBlockLibraryOpen ? \"w-72\" : \"w-0 border-r-0 overflow-hidden\"\r\n                    )}\r\n                >\r\n                    <div className={cn(\r\n                        \"border-b bg-gray-50/50 shrink-0 transition-opacity\",\r\n                        !isBlockLibraryOpen && \"opacity-0\"\r\n                    )}>\r\n                        <div className=\"p-4 flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <LayoutTemplate className=\"h-4 w-4 text-muted-foreground\" />\r\n                                <h2 className=\"font-semibold text-sm\">Block Library</h2>\r\n                            </div>\r\n                            <Button\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                className=\"h-7 w-7\"\r\n                                onClick={() => setIsBlockLibraryOpen(false)}\r\n                                title=\"Collapse block library panel\"\r\n                            >\r\n                                <PanelLeftClose className=\"h-4 w-4 text-muted-foreground\" />\r\n                            </Button>\r\n                        </div>\r\n                        {isBlockLibraryOpen && (\r\n                            <div className=\"px-4 pb-4\">\r\n                                <div className=\"relative\">\r\n                                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none\" />\r\n                                    <Input\r\n                                        type=\"text\"\r\n                                        placeholder=\"Search blocks...\"\r\n                                        value={searchQuery}\r\n                                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                                        className=\"pl-9 h-9 text-sm focus:ring-2 focus:ring-primary/20\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {isBlockLibraryOpen && (\r\n                        <ScrollArea className=\"flex-1 min-h-0\">\r\n                            <div className=\"p-4 space-y-6 pb-8\">\r\n                                {Object.keys(templatesByCategory).length === 0 ? (\r\n                                    <div className=\"flex flex-col items-center justify-center py-16 text-center px-4\">\r\n                                        <div className=\"mb-4 p-4 rounded-full bg-muted/50\">\r\n                                            <Search className=\"h-8 w-8 text-muted-foreground opacity-60\" />\r\n                                        </div>\r\n                                        <p className=\"text-sm font-semibold text-foreground mb-1\">\r\n                                            No blocks found\r\n                                        </p>\r\n                                        <p className=\"text-xs text-muted-foreground max-w-xs\">\r\n                                            Try adjusting your search terms or clear the search to see all available blocks\r\n                                        </p>\r\n                                    </div>\r\n                                ) : (\r\n                                    Object.entries(templatesByCategory).map(([category, categoryTemplates]) => (\r\n                                        <div key={category}>\r\n                                            <h3 className=\"text-xs font-semibold text-muted-foreground uppercase mb-3 px-1 tracking-wider\">\r\n                                                {category.replace('_', ' ')}\r\n                                                {searchQuery && (\r\n                                                    <span className=\"ml-2 text-muted-foreground/70\">\r\n                                                        ({categoryTemplates.length})\r\n                                                    </span>\r\n                                                )}\r\n                                            </h3>\r\n                                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                                {(categoryTemplates as any[]).map(template => (\r\n                                                    <SidebarBlock\r\n                                                        key={template.id}\r\n                                                        template={template}\r\n                                                        onAdd={() => onAddBlock(template)}\r\n                                                    />\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n                                    ))\r\n                                )}\r\n                            </div>\r\n                        </ScrollArea>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Toggle Button for Block Library (when collapsed) */}\r\n                {!isBlockLibraryOpen && (\r\n                    <Button\r\n                        variant=\"outline\"\r\n                        size=\"icon\"\r\n                        className=\"absolute left-0 top-1/2 -translate-y-1/2 z-20 h-10 w-6 rounded-r-md rounded-l-none border-l-0 shadow-md bg-white hover:bg-gray-50 transition-all\"\r\n                        onClick={() => setIsBlockLibraryOpen(true)}\r\n                        title=\"Expand block library panel\"\r\n                    >\r\n                        <PanelLeftOpen className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </Button>\r\n                )}\r\n\r\n                {/* Center - Canvas */}\r\n                <div className=\"flex-1 flex flex-col overflow-hidden relative bg-gray-50 h-full\">\r\n                    <ScrollArea className=\"flex-1 h-full\">\r\n                        <div className=\"min-h-full py-6 px-4 flex justify-center\">\r\n                            <Canvas\r\n                                blocks={blocks}\r\n                                selectedBlockId={selectedBlockId}\r\n                                onSelectBlock={handleBlockClick}\r\n                                onToggleBlockSettings={handleBlockSelect}\r\n                                onRemoveBlock={onRemoveBlock}\r\n                                onReorderBlocks={onReorderBlocks}\r\n                                onDuplicateBlock={onDuplicateBlock}\r\n                                device={device}\r\n                            />\r\n                        </div>\r\n                    </ScrollArea>\r\n                </div>\r\n\r\n                {/* Right Sidebar - Inspector (Collapsible) */}\r\n                <div\r\n                    className={cn(\r\n                        \"w-80 xl:w-96 border-l flex flex-col bg-white shrink-0 transition-all duration-300 ease-in-out absolute right-0 top-0 bottom-0 z-20 shadow-lg lg:static lg:shadow-none min-h-0\",\r\n                        !isSettingsOpen && \"translate-x-full lg:w-0 lg:translate-x-0 lg:border-l-0 lg:overflow-hidden opacity-0 lg:opacity-100\"\r\n                    )}\r\n                >\r\n                    <div className=\"p-4 border-b bg-gray-50/50 flex items-center justify-between h-[57px] shrink-0\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <h2 className=\"font-semibold text-sm\">\r\n                                {selectedBlock ? 'Block Settings' : 'Page Settings'}\r\n                            </h2>\r\n                            {selectedBlock && (\r\n                                <span className=\"text-[10px] uppercase font-bold text-muted-foreground px-2 py-0.5 bg-white rounded border\">\r\n                                    {selectedBlock.template?.category}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                        <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            className=\"h-8 w-8 lg:hidden\"\r\n                            onClick={() => setIsSettingsOpen(false)}\r\n                            title=\"Close settings panel\"\r\n                        >\r\n                            <X className=\"h-4 w-4\" />\r\n                        </Button>\r\n                    </div>\r\n                    {isSettingsOpen && (\r\n                        <ScrollArea className=\"flex-1 min-h-0\">\r\n                            <div className=\"p-4 pb-8\">\r\n                                {selectedBlock ? (\r\n                                    <div className=\"space-y-6\">\r\n                                        <div className=\"flex items-center justify-between bg-gradient-to-r from-gray-50 to-gray-100/50 p-4 rounded-lg border border-gray-200\">\r\n                                            <div className=\"flex-1 min-w-0\">\r\n                                                <span className=\"text-sm font-semibold text-gray-900 block truncate\">\r\n                                                    {selectedBlock.template?.name || 'Unknown Block'}\r\n                                                </span>\r\n                                                {selectedBlock.template?.description && (\r\n                                                    <span className=\"text-xs text-muted-foreground mt-1 block line-clamp-2\">\r\n                                                        {selectedBlock.template.description}\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <ConfigForm\r\n                                            schema={selectedBlock.template?.configSchema}\r\n                                            data={selectedBlock.config}\r\n                                            onChange={(newConfig) => onUpdateBlockConfig(selectedBlock.id, newConfig)}\r\n                                        />\r\n                                    </div>\r\n                                ) : (\r\n                                    <PageSettingsForm\r\n                                        pageData={pageData}\r\n                                        onChange={onUpdatePageData}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        </ScrollArea>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":5877,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/cms/editor/PageEditor.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { EditorLayout } from './EditorLayout';\nimport { usePageEditor, EditorBlock } from '@/hooks/usePageEditor';\nimport { normalizeBlockConfig } from '@/lib/normalizeBlockConfig';\n\ninterface PageEditorProps {\n    page: {\n        id: string;\n        title: string;\n        slug: string;\n        blocks: any[];\n        overridesStorefrontPage?: boolean;\n        overriddenPageType?: string | null;\n    };\n    templates: any[];\n}\n\nexport const PageEditor: React.FC<PageEditorProps> = ({\n    page,\n    templates\n}) => {\n    // Transform initial blocks to match EditorBlock interface\n    const initialBlocks: EditorBlock[] = page.blocks.map(block => {\n        // Normalize config to ensure repeater fields are arrays\n        const normalizedConfig = block.template?.configSchema\n            ? normalizeBlockConfig(block.config || {}, block.template.configSchema)\n            : (block.config || {});\n        \n        return {\n            id: block.id,\n            templateId: block.templateId,\n            config: normalizedConfig,\n            order: block.order,\n            template: block.template\n        };\n    });\n\n    const {\n        blocks,\n        pageData,\n        selectedBlockId,\n        setSelectedBlockId,\n        addBlock,\n        updateBlockConfig,\n        updatePageData,\n        removeBlock,\n        reorderBlocks,\n        savePage,\n        isSaving,\n        isDirty,\n        autoSaveStatus,\n        undo,\n        redo,\n        canUndo,\n        canRedo,\n        duplicateBlock\n    } = usePageEditor({\n        pageId: page.id,\n        initialBlocks,\n        initialPageData: {\n            title: page.title,\n            slug: page.slug,\n            description: page.description,\n            seoTitle: page.seoTitle,\n            seoDescription: page.seoDescription,\n            seoKeywords: page.seoKeywords,\n            status: page.status,\n            overridesStorefrontPage: page.overridesStorefrontPage ?? false,\n            overriddenPageType: page.overriddenPageType || null,\n        },\n        templates: templates, // Pass templates for fallback\n    });\n\n    return (\n        <EditorLayout\n            pageTitle={pageData.title || page.title}\n            pageId={page.id}\n            pageSlug={pageData.slug || page.slug}\n            pageData={{\n                ...pageData,\n                overridesStorefrontPage: pageData.overridesStorefrontPage ?? page.overridesStorefrontPage ?? false,\n                overriddenPageType: pageData.overriddenPageType ?? page.overriddenPageType ?? null,\n            }}\n            blocks={blocks}\n            templates={templates}\n            selectedBlockId={selectedBlockId}\n            isSaving={isSaving}\n            isDirty={isDirty}\n            autoSaveStatus={autoSaveStatus}\n            onAddBlock={addBlock}\n            onSelectBlock={setSelectedBlockId}\n            onRemoveBlock={removeBlock}\n            onReorderBlocks={reorderBlocks}\n            onUpdateBlockConfig={updateBlockConfig}\n            onUpdatePageData={updatePageData}\n            onSave={savePage}\n            onUndo={undo}\n            onRedo={redo}\n            canUndo={canUndo}\n            canRedo={canRedo}\n            onDuplicateBlock={duplicateBlock}\n        />\n    );\n};\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;AALA;;;;AAmBO,MAAM,aAAwC,CAAC,EAClD,IAAI,EACJ,SAAS,EACZ;;IACG,0DAA0D;IAC1D,MAAM,gBAA+B,KAAK,MAAM,CAAC,GAAG,CAAC,CAAA;QACjD,wDAAwD;QACxD,MAAM,mBAAmB,MAAM,QAAQ,EAAE,eACnC,IAAA,6JAAoB,EAAC,MAAM,MAAM,IAAI,CAAC,GAAG,MAAM,QAAQ,CAAC,YAAY,IACnE,MAAM,MAAM,IAAI,CAAC;QAExB,OAAO;YACH,IAAI,MAAM,EAAE;YACZ,YAAY,MAAM,UAAU;YAC5B,QAAQ;YACR,OAAO,MAAM,KAAK;YAClB,UAAU,MAAM,QAAQ;QAC5B;IACJ;IAEA,MAAM,EACF,MAAM,EACN,QAAQ,EACR,eAAe,EACf,kBAAkB,EAClB,QAAQ,EACR,iBAAiB,EACjB,cAAc,EACd,WAAW,EACX,aAAa,EACb,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,cAAc,EACd,IAAI,EACJ,IAAI,EACJ,OAAO,EACP,OAAO,EACP,cAAc,EACjB,GAAG,IAAA,iJAAa,EAAC;QACd,QAAQ,KAAK,EAAE;QACf;QACA,iBAAiB;YACb,OAAO,KAAK,KAAK;YACjB,MAAM,KAAK,IAAI;YACf,aAAa,KAAK,WAAW;YAC7B,UAAU,KAAK,QAAQ;YACvB,gBAAgB,KAAK,cAAc;YACnC,aAAa,KAAK,WAAW;YAC7B,QAAQ,KAAK,MAAM;YACnB,yBAAyB,KAAK,uBAAuB,IAAI;YACzD,oBAAoB,KAAK,kBAAkB,IAAI;QACnD;QACA,WAAW;IACf;IAEA,qBACI,6LAAC,+KAAY;QACT,WAAW,SAAS,KAAK,IAAI,KAAK,KAAK;QACvC,QAAQ,KAAK,EAAE;QACf,UAAU,SAAS,IAAI,IAAI,KAAK,IAAI;QACpC,UAAU;YACN,GAAG,QAAQ;YACX,yBAAyB,SAAS,uBAAuB,IAAI,KAAK,uBAAuB,IAAI;YAC7F,oBAAoB,SAAS,kBAAkB,IAAI,KAAK,kBAAkB,IAAI;QAClF;QACA,QAAQ;QACR,WAAW;QACX,iBAAiB;QACjB,UAAU;QACV,SAAS;QACT,gBAAgB;QAChB,YAAY;QACZ,eAAe;QACf,eAAe;QACf,iBAAiB;QACjB,qBAAqB;QACrB,kBAAkB;QAClB,QAAQ;QACR,QAAQ;QACR,QAAQ;QACR,SAAS;QACT,SAAS;QACT,kBAAkB;;;;;;AAG9B;GAtFa;;QAuCL,iJAAa;;;KAvCR"}}],"debugId":"8e22b538-3947-51bf-961c-b918fa03a763"}