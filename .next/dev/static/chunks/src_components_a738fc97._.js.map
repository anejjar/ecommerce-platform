{"version":3,"sources":null,"sections":[{"offset":{"line":5,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/media-manager/utils.ts"],"sourcesContent":["export function formatBytes(bytes: number, decimals = 2) {\r\n    if (!+bytes) return '0 Bytes';\r\n\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n    return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\r\n}\r\n\r\nexport function getFileIcon(mimeType: string) {\r\n    if (mimeType.startsWith('image/')) return 'image';\r\n    if (mimeType.startsWith('video/')) return 'video';\r\n    if (mimeType.startsWith('audio/')) return 'audio';\r\n    if (mimeType.includes('pdf')) return 'pdf';\r\n    return 'file';\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,YAAY,KAAa,EAAE,WAAW,CAAC;IACnD,IAAI,CAAC,CAAC,OAAO,OAAO;IAEpB,MAAM,IAAI;IACV,MAAM,KAAK,WAAW,IAAI,IAAI;IAC9B,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IAEvE,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,GAAG,WAAW,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE;AAC5E;AAEO,SAAS,YAAY,QAAgB;IACxC,IAAI,SAAS,UAAU,CAAC,WAAW,OAAO;IAC1C,IAAI,SAAS,UAAU,CAAC,WAAW,OAAO;IAC1C,IAAI,SAAS,UAAU,CAAC,WAAW,OAAO;IAC1C,IAAI,SAAS,QAAQ,CAAC,QAAQ,OAAO;IACrC,OAAO;AACX"}},{"offset":{"line":43,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/media-manager/MediaLibrary/MediaItem.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\r\nimport Image from 'next/image';\r\nimport { MediaItem as MediaItemType } from '../types';\r\nimport { formatBytes, getFileIcon } from '../utils';\r\nimport { FileIcon, Video, Music, FileText, Check } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface MediaItemProps {\r\n    item: MediaItemType;\r\n    selected: boolean;\r\n    onSelect: (item: MediaItemType, multi: boolean) => void;\r\n    onClick: (item: MediaItemType) => void;\r\n}\r\n\r\nexport const MediaItem: React.FC<MediaItemProps> = ({ item, selected, onSelect, onClick }) => {\r\n    const isImage = item.type === 'IMAGE';\r\n\r\n    const handleClick = (e: React.MouseEvent) => {\r\n        e.stopPropagation();\r\n        if (e.ctrlKey || e.metaKey) {\r\n            onSelect(item, true);\r\n        } else {\r\n            onClick(item);\r\n        }\r\n    };\r\n\r\n    const handleSelect = (e: React.MouseEvent) => {\r\n        e.stopPropagation();\r\n        onSelect(item, true);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={cn(\r\n                \"group relative aspect-square cursor-pointer rounded-lg border bg-card overflow-hidden transition-all hover:shadow-md\",\r\n                selected ? \"border-primary ring-2 ring-primary ring-offset-2\" : \"border-border\"\r\n            )}\r\n            onClick={handleClick}\r\n        >\r\n            {/* Selection Checkbox */}\r\n            <div\r\n                className={cn(\r\n                    \"absolute left-2 top-2 z-10 flex h-6 w-6 items-center justify-center rounded-full border bg-white transition-opacity\",\r\n                    selected ? \"opacity-100 border-primary bg-primary text-primary-foreground\" : \"opacity-0 group-hover:opacity-100 border-gray-300\"\r\n                )}\r\n                onClick={handleSelect}\r\n            >\r\n                {selected && <Check className=\"h-4 w-4\" />}\r\n            </div>\r\n\r\n            {/* Preview */}\r\n            <div className=\"relative h-full w-full bg-muted/20\">\r\n                {isImage && item.secureUrl ? (\r\n                    <Image\r\n                        src={item.secureUrl}\r\n                        alt={item.altText || item.filename}\r\n                        fill\r\n                        className=\"object-cover transition-transform group-hover:scale-105\"\r\n                        sizes=\"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 20vw\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"flex h-full w-full flex-col items-center justify-center p-4 text-muted-foreground\">\r\n                        {item.type === 'VIDEO' && <Video className=\"h-12 w-12 mb-2\" />}\r\n                        {item.type === 'AUDIO' && <Music className=\"h-12 w-12 mb-2\" />}\r\n                        {item.type === 'DOCUMENT' && <FileText className=\"h-12 w-12 mb-2\" />}\r\n                        {item.type === 'OTHER' && <FileIcon className=\"h-12 w-12 mb-2\" />}\r\n                        <span className=\"text-xs font-medium truncate w-full text-center\">{item.filename}</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Footer Info (visible on hover) */}\r\n            <div className=\"absolute bottom-0 left-0 right-0 bg-black/60 p-2 text-white opacity-0 transition-opacity group-hover:opacity-100\">\r\n                <p className=\"truncate text-xs font-medium\">{item.filename}</p>\r\n                <p className=\"text-[10px] text-gray-300\">{formatBytes(item.fileSize)}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAPA;;;;;;AAgBO,MAAM,YAAsC,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE;IACrF,MAAM,UAAU,KAAK,IAAI,KAAK;IAE9B,MAAM,cAAc,CAAC;QACjB,EAAE,eAAe;QACjB,IAAI,EAAE,OAAO,IAAI,EAAE,OAAO,EAAE;YACxB,SAAS,MAAM;QACnB,OAAO;YACH,QAAQ;QACZ;IACJ;IAEA,MAAM,eAAe,CAAC;QAClB,EAAE,eAAe;QACjB,SAAS,MAAM;IACnB;IAEA,qBACI,6LAAC;QACG,WAAW,IAAA,4HAAE,EACT,wHACA,WAAW,qDAAqD;QAEpE,SAAS;;0BAGT,6LAAC;gBACG,WAAW,IAAA,4HAAE,EACT,uHACA,WAAW,kEAAkE;gBAEjF,SAAS;0BAER,0BAAY,6LAAC,gNAAK;oBAAC,WAAU;;;;;;;;;;;0BAIlC,6LAAC;gBAAI,WAAU;0BACV,WAAW,KAAK,SAAS,iBACtB,6LAAC,2IAAK;oBACF,KAAK,KAAK,SAAS;oBACnB,KAAK,KAAK,OAAO,IAAI,KAAK,QAAQ;oBAClC,IAAI;oBACJ,WAAU;oBACV,OAAM;;;;;6EAGV,6LAAC;oBAAI,WAAU;;wBACV,KAAK,IAAI,KAAK,yBAAW,6LAAC,gNAAK;4BAAC,WAAU;;;;;;wBAC1C,KAAK,IAAI,KAAK,yBAAW,6LAAC,gNAAK;4BAAC,WAAU;;;;;;wBAC1C,KAAK,IAAI,KAAK,4BAAc,6LAAC,6NAAQ;4BAAC,WAAU;;;;;;wBAChD,KAAK,IAAI,KAAK,yBAAW,6LAAC,qNAAQ;4BAAC,WAAU;;;;;;sCAC9C,6LAAC;4BAAK,WAAU;sCAAmD,KAAK,QAAQ;;;;;;;;;;;;;;;;;0BAM5F,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAE,WAAU;kCAAgC,KAAK,QAAQ;;;;;;kCAC1D,6LAAC;wBAAE,WAAU;kCAA6B,IAAA,gKAAW,EAAC,KAAK,QAAQ;;;;;;;;;;;;;;;;;;AAInF;KAhEa"}},{"offset":{"line":199,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/media-manager/MediaLibrary/MediaGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { MediaItem } from './MediaItem';\r\nimport { MediaItem as MediaItemType } from '../types';\r\nimport { Loader2, ImageIcon, Upload } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ninterface MediaGridProps {\r\n    items: MediaItemType[];\r\n    selectedItems: string[];\r\n    onSelect: (item: MediaItemType, multi: boolean) => void;\r\n    onItemClick: (item: MediaItemType) => void;\r\n    loading: boolean;\r\n    onUploadClick?: () => void;\r\n}\r\n\r\nexport const MediaGrid: React.FC<MediaGridProps> = ({\r\n    items,\r\n    selectedItems,\r\n    onSelect,\r\n    onItemClick,\r\n    loading,\r\n    onUploadClick,\r\n}) => {\r\n    if (loading && items.length === 0) {\r\n        return (\r\n            <div className=\"flex h-64 w-full items-center justify-center\">\r\n                <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (items.length === 0) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center h-[calc(100vh-350px)] px-4\">\r\n                <div className=\"w-full max-w-3xl border-2 border-dashed rounded-3xl p-12 flex flex-col items-center justify-center bg-muted/30 hover:bg-muted/50 transition-colors\">\r\n                    <div className=\"relative mb-6 group\">\r\n                        <div className=\"absolute inset-0 bg-primary/20 rounded-full blur-3xl group-hover:bg-primary/30 transition-all duration-500\"></div>\r\n                        <div className=\"relative bg-background rounded-full p-6 shadow-sm ring-1 ring-border group-hover:scale-110 transition-transform duration-500\">\r\n                            <div className=\"bg-primary/10 rounded-full p-4\">\r\n                                <ImageIcon className=\"h-12 w-12 text-primary\" strokeWidth={1.5} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <h3 className=\"text-2xl font-bold tracking-tight mb-2\">No media files yet</h3>\r\n                    <p className=\"text-muted-foreground mb-8 max-w-md text-center text-base\">\r\n                        Upload images, videos, or documents to start building your library.\r\n                        Your assets will be available across your entire store.\r\n                    </p>\r\n\r\n                    <div className=\"flex items-center gap-4 mb-12\">\r\n                        {onUploadClick && (\r\n                            <Button onClick={onUploadClick} size=\"lg\" className=\"h-12 px-8 text-base shadow-lg hover:shadow-xl transition-all hover:-translate-y-0.5\">\r\n                                <Upload className=\"h-5 w-5 mr-2\" />\r\n                                Upload Files\r\n                            </Button>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-3 gap-12 w-full max-w-2xl border-t pt-8\">\r\n                        <div className=\"flex flex-col items-center gap-2 group cursor-default\">\r\n                            <div className=\"p-3 rounded-xl bg-blue-50 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform\">\r\n                                <ImageIcon className=\"h-6 w-6\" />\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <h4 className=\"font-semibold text-sm\">Images</h4>\r\n                                <p className=\"text-xs text-muted-foreground mt-0.5\">JPG, PNG, WebP</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col items-center gap-2 group cursor-default\">\r\n                            <div className=\"p-3 rounded-xl bg-purple-50 dark:bg-purple-950/30 text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform\">\r\n                                <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <h4 className=\"font-semibold text-sm\">Videos</h4>\r\n                                <p className=\"text-xs text-muted-foreground mt-0.5\">MP4, WebM</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col items-center gap-2 group cursor-default\">\r\n                            <div className=\"p-3 rounded-xl bg-green-50 dark:bg-green-950/30 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform\">\r\n                                <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\r\n                                </svg>\r\n                            </div>\r\n                            <div className=\"text-center\">\r\n                                <h4 className=\"font-semibold text-sm\">Documents</h4>\r\n                                <p className=\"text-xs text-muted-foreground mt-0.5\">PDF, DOC, TXT</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6\">\r\n            {items.map((item) => (\r\n                <MediaItem\r\n                    key={item.id}\r\n                    item={item}\r\n                    selected={selectedItems.includes(item.id)}\r\n                    onSelect={onSelect}\r\n                    onClick={onItemClick}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AAAA;AAAA;AACA;AANA;;;;;AAiBO,MAAM,YAAsC,CAAC,EAChD,KAAK,EACL,aAAa,EACb,QAAQ,EACR,WAAW,EACX,OAAO,EACP,aAAa,EAChB;IACG,IAAI,WAAW,MAAM,MAAM,KAAK,GAAG;QAC/B,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC,+NAAO;gBAAC,WAAU;;;;;;;;;;;IAG/B;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACpB,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;;;;;0CACf,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,wNAAS;wCAAC,WAAU;wCAAyB,aAAa;;;;;;;;;;;;;;;;;;;;;;kCAKvE,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;kCACvD,6LAAC;wBAAE,WAAU;kCAA4D;;;;;;kCAKzE,6LAAC;wBAAI,WAAU;kCACV,+BACG,6LAAC,+IAAM;4BAAC,SAAS;4BAAe,MAAK;4BAAK,WAAU;;8CAChD,6LAAC,mNAAM;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;kCAM/C,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC,wNAAS;4CAAC,WAAU;;;;;;;;;;;kDAEzB,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAG,WAAU;0DAAwB;;;;;;0DACtC,6LAAC;gDAAE,WAAU;0DAAuC;;;;;;;;;;;;;;;;;;0CAG5D,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC;4CAAI,WAAU;4CAAU,MAAK;4CAAO,SAAQ;4CAAY,QAAO;sDAC5D,cAAA,6LAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;;;;;;kDAG7E,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAG,WAAU;0DAAwB;;;;;;0DACtC,6LAAC;gDAAE,WAAU;0DAAuC;;;;;;;;;;;;;;;;;;0CAG5D,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;kDACX,cAAA,6LAAC;4CAAI,WAAU;4CAAU,MAAK;4CAAO,SAAQ;4CAAY,QAAO;sDAC5D,cAAA,6LAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;;;;;;kDAG7E,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAG,WAAU;0DAAwB;;;;;;0DACtC,6LAAC;gDAAE,WAAU;0DAAuC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOhF;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACV,MAAM,GAAG,CAAC,CAAC,qBACR,6LAAC,mLAAS;gBAEN,MAAM;gBACN,UAAU,cAAc,QAAQ,CAAC,KAAK,EAAE;gBACxC,UAAU;gBACV,SAAS;eAJJ,KAAK,EAAE;;;;;;;;;;AAShC;KA/Fa"}},{"offset":{"line":536,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},{"offset":{"line":567,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none mb-2 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,4NACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},{"offset":{"line":600,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n    extends React.TextareaHTMLAttributes<HTMLTextAreaElement> { }\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n    ({ className, ...props }, ref) => {\r\n        return (\r\n            <textarea\r\n                className={cn(\r\n                    \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACtB,qBACI,6LAAC;QACG,WAAW,IAAA,4HAAE,EACT,wSACA;QAEJ,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;;AAEJ,SAAS,WAAW,GAAG"}},{"offset":{"line":634,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf;KAlBS"}},{"offset":{"line":669,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/media-manager/MediaLibrary/MediaSidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\nimport { MediaItem } from '../types';\r\nimport { formatBytes } from '../utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport { X, Trash2, Save, ExternalLink, Copy } from 'lucide-react';\r\nimport { toast } from 'react-hot-toast';\r\n\r\ninterface MediaSidebarProps {\r\n    item: MediaItem | null;\r\n    onClose: () => void;\r\n    onUpdate: (id: string, data: Partial<MediaItem>) => Promise<void>;\r\n    onDelete: (id: string) => Promise<void>;\r\n}\r\n\r\nexport const MediaSidebar: React.FC<MediaSidebarProps> = ({ item, onClose, onUpdate, onDelete }) => {\r\n    const [formData, setFormData] = useState({\r\n        altText: '',\r\n        title: '',\r\n        caption: '',\r\n        description: '',\r\n    });\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (item) {\r\n            setFormData({\r\n                altText: item.altText || '',\r\n                title: item.title || '',\r\n                caption: item.caption || '',\r\n                description: item.description || '',\r\n            });\r\n        }\r\n    }, [item]);\r\n\r\n    if (!item) return null;\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        setIsSaving(true);\r\n        try {\r\n            await onUpdate(item.id, formData);\r\n            toast.success('Media updated successfully');\r\n        } catch (error) {\r\n            toast.error('Failed to update media');\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        if (!confirm('Are you sure you want to delete this file? This action cannot be undone.')) return;\r\n\r\n        setIsDeleting(true);\r\n        try {\r\n            await onDelete(item.id);\r\n            toast.success('Media deleted successfully');\r\n            onClose();\r\n        } catch (error) {\r\n            toast.error('Failed to delete media');\r\n        } finally {\r\n            setIsDeleting(false);\r\n        }\r\n    };\r\n\r\n    const copyUrl = () => {\r\n        navigator.clipboard.writeText(item.secureUrl);\r\n        toast.success('URL copied to clipboard');\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-y-0 right-0 z-50 w-80 border-l bg-background shadow-lg sm:w-96 overflow-y-auto\">\r\n            <div className=\"flex items-center justify-between border-b p-4\">\r\n                <h3 className=\"font-semibold\">Media Details</h3>\r\n                <Button variant=\"ghost\" size=\"icon\" onClick={onClose} className=\"cursor-pointer\">\r\n                    <X className=\"h-4 w-4\" />\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"p-4 space-y-6\">\r\n                {/* Preview */}\r\n                <div className=\"aspect-video relative overflow-hidden rounded-lg border bg-muted\">\r\n                    {item.type === 'IMAGE' ? (\r\n                        <Image\r\n                            src={item.secureUrl}\r\n                            alt={item.altText || item.filename}\r\n                            fill\r\n                            className=\"object-contain\"\r\n                        />\r\n                    ) : (\r\n                        <div className=\"flex h-full items-center justify-center text-muted-foreground\">\r\n                            No preview available\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* File Info */}\r\n                <div className=\"space-y-2 text-sm\">\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                        <span className=\"text-muted-foreground\">Filename:</span>\r\n                        <span className=\"truncate\" title={item.filename}>{item.filename}</span>\r\n\r\n                        <span className=\"text-muted-foreground\">Type:</span>\r\n                        <span>{item.mimeType}</span>\r\n\r\n                        <span className=\"text-muted-foreground\">Size:</span>\r\n                        <span>{formatBytes(item.fileSize)}</span>\r\n\r\n                        {item.width && (\r\n                            <>\r\n                                <span className=\"text-muted-foreground\">Dimensions:</span>\r\n                                <span>{item.width} x {item.height}</span>\r\n                            </>\r\n                        )}\r\n\r\n                        <span className=\"text-muted-foreground\">Uploaded:</span>\r\n                        <span>{new Date(item.createdAt).toLocaleDateString()}</span>\r\n                    </div>\r\n\r\n                    <div className=\"pt-2\">\r\n                        <Button variant=\"outline\" size=\"sm\" className=\"w-full cursor-pointer\" onClick={copyUrl}>\r\n                            <Copy className=\"mr-2 h-3 w-3\" /> Copy URL\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                {/* Metadata Form */}\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"altText\">Alt Text</Label>\r\n                        <Input\r\n                            id=\"altText\"\r\n                            name=\"altText\"\r\n                            value={formData.altText}\r\n                            onChange={handleChange}\r\n                            placeholder=\"Describe the image for SEO\"\r\n                        />\r\n                        <p className=\"text-xs text-muted-foreground\">Important for accessibility and SEO.</p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"title\">Title</Label>\r\n                        <Input\r\n                            id=\"title\"\r\n                            name=\"title\"\r\n                            value={formData.title}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"caption\">Caption</Label>\r\n                        <Textarea\r\n                            id=\"caption\"\r\n                            name=\"caption\"\r\n                            value={formData.caption}\r\n                            onChange={handleChange}\r\n                            rows={2}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"description\">Description</Label>\r\n                        <Textarea\r\n                            id=\"description\"\r\n                            name=\"description\"\r\n                            value={formData.description}\r\n                            onChange={handleChange}\r\n                            rows={3}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex items-center justify-between pt-2\">\r\n                    <Button variant=\"destructive\" size=\"sm\" onClick={handleDelete} disabled={isDeleting} className=\"cursor-pointer\">\r\n                        <Trash2 className=\"mr-2 h-4 w-4\" /> Delete\r\n                    </Button>\r\n                    <Button onClick={handleSave} disabled={isSaving} className=\"cursor-pointer\">\r\n                        <Save className=\"mr-2 h-4 w-4\" /> Save\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":1165,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},{"offset":{"line":1210,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/media-manager/MediaUploader/MediaUploader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useCallback, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { Upload, X, FileIcon, CheckCircle, AlertCircle } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { formatBytes } from '../utils';\r\n\r\ninterface MediaUploaderProps {\r\n    onUploadComplete: () => void;\r\n    folderId?: string | null;\r\n}\r\n\r\ninterface UploadFile {\r\n    file: File;\r\n    id: string;\r\n    progress: number;\r\n    status: 'pending' | 'uploading' | 'completed' | 'error';\r\n    error?: string;\r\n}\r\n\r\nexport const MediaUploader: React.FC<MediaUploaderProps> = ({ onUploadComplete, folderId }) => {\r\n    const [uploads, setUploads] = useState<UploadFile[]>([]);\r\n    const [isUploading, setIsUploading] = useState(false);\r\n\r\n    const onDrop = useCallback((acceptedFiles: File[]) => {\r\n        const newUploads = acceptedFiles.map((file) => ({\r\n            file,\r\n            id: Math.random().toString(36).substring(7),\r\n            progress: 0,\r\n            status: 'pending' as const,\r\n        }));\r\n\r\n        setUploads((prev) => [...prev, ...newUploads]);\r\n    }, []);\r\n\r\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n        onDrop,\r\n        accept: {\r\n            'image/*': [],\r\n            'video/*': [],\r\n            'audio/*': [],\r\n            'application/pdf': [],\r\n        },\r\n    });\r\n\r\n    const uploadFile = async (upload: UploadFile) => {\r\n        const formData = new FormData();\r\n        formData.append('file', upload.file);\r\n        if (folderId) {\r\n            formData.append('folderId', folderId);\r\n        }\r\n\r\n        try {\r\n            const xhr = new XMLHttpRequest();\r\n\r\n            xhr.upload.onprogress = (event) => {\r\n                if (event.lengthComputable) {\r\n                    const progress = Math.round((event.loaded / event.total) * 100);\r\n                    setUploads((prev) =>\r\n                        prev.map((u) => (u.id === upload.id ? { ...u, progress, status: 'uploading' } : u))\r\n                    );\r\n                }\r\n            };\r\n\r\n            const promise = new Promise((resolve, reject) => {\r\n                xhr.onload = () => {\r\n                    if (xhr.status >= 200 && xhr.status < 300) {\r\n                        resolve(JSON.parse(xhr.responseText));\r\n                    } else {\r\n                        let errorMessage = 'Upload failed';\r\n                        try {\r\n                            const response = JSON.parse(xhr.responseText);\r\n                            if (response.error) errorMessage = response.error;\r\n                        } catch {\r\n                            // ignore json parse error\r\n                        }\r\n                        reject(new Error(errorMessage));\r\n                    }\r\n                };\r\n                xhr.onerror = () => reject(new Error('Upload failed'));\r\n            });\r\n\r\n            xhr.open('POST', '/api/media/upload');\r\n            xhr.send(formData);\r\n\r\n            await promise;\r\n\r\n            setUploads((prev) =>\r\n                prev.map((u) => (u.id === upload.id ? { ...u, progress: 100, status: 'completed' } : u))\r\n            );\r\n        } catch (error) {\r\n            const errorMessage = error instanceof Error ? error.message : 'Failed';\r\n            setUploads((prev) =>\r\n                prev.map((u) => (u.id === upload.id ? { ...u, status: 'error', error: errorMessage } : u))\r\n            );\r\n        }\r\n    };\r\n\r\n    const startUpload = async () => {\r\n        setIsUploading(true);\r\n        const pendingUploads = uploads.filter((u) => u.status === 'pending');\r\n\r\n        // Upload 3 files at a time\r\n        const batchSize = 3;\r\n        for (let i = 0; i < pendingUploads.length; i += batchSize) {\r\n            const batch = pendingUploads.slice(i, i + batchSize);\r\n            await Promise.all(batch.map((u) => uploadFile(u)));\r\n        }\r\n\r\n        setIsUploading(false);\r\n        onUploadComplete();\r\n    };\r\n\r\n    const removeUpload = (id: string) => {\r\n        setUploads((prev) => prev.filter((u) => u.id !== id));\r\n    };\r\n\r\n    const clearCompleted = () => {\r\n        setUploads((prev) => prev.filter((u) => u.status !== 'completed'));\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <div\r\n                {...getRootProps()}\r\n                className={cn(\r\n                    \"flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-12 transition-colors cursor-pointer\",\r\n                    isDragActive ? \"border-primary bg-primary/5\" : \"border-muted-foreground/25 hover:border-primary/50\"\r\n                )}\r\n            >\r\n                <input {...getInputProps()} />\r\n                <Upload className=\"mb-4 h-12 w-12 text-muted-foreground\" />\r\n                <p className=\"mb-2 text-lg font-medium\">\r\n                    {isDragActive ? \"Drop files here\" : \"Drag & drop files here, or click to select\"}\r\n                </p>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                    Supports images, videos, audio, and documents up to 10MB\r\n                </p>\r\n            </div>\r\n\r\n            {uploads.length > 0 && (\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <h3 className=\"font-medium\">Upload Queue ({uploads.length})</h3>\r\n                        <div className=\"space-x-2\">\r\n                            <Button\r\n                                variant=\"outline\"\r\n                                size=\"sm\"\r\n                                onClick={clearCompleted}\r\n                                disabled={isUploading || !uploads.some(u => u.status === 'completed')}\r\n                            >\r\n                                Clear Completed\r\n                            </Button>\r\n                            <Button\r\n                                size=\"sm\"\r\n                                onClick={startUpload}\r\n                                disabled={isUploading || !uploads.some(u => u.status === 'pending')}\r\n                            >\r\n                                {isUploading ? 'Uploading...' : 'Start Upload'}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2 max-h-60 overflow-y-auto pr-2\">\r\n                        {uploads.map((upload) => (\r\n                            <div\r\n                                key={upload.id}\r\n                                className=\"flex items-center justify-between rounded-md border p-3\"\r\n                            >\r\n                                <div className=\"flex items-center gap-3 overflow-hidden\">\r\n                                    <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded bg-muted\">\r\n                                        <FileIcon className=\"h-5 w-5 text-muted-foreground\" />\r\n                                    </div>\r\n                                    <div className=\"min-w-0 flex-1\">\r\n                                        <p className=\"truncate text-sm font-medium\">{upload.file.name}</p>\r\n                                        <p className=\"text-xs text-muted-foreground\">\r\n                                            {formatBytes(upload.file.size)}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    {upload.status === 'uploading' && (\r\n                                        <Progress value={upload.progress} className=\"w-24\" />\r\n                                    )}\r\n                                    {upload.status === 'completed' && (\r\n                                        <div className=\"flex items-center text-green-600\">\r\n                                            <CheckCircle className=\"mr-1 h-4 w-4\" />\r\n                                            <span className=\"text-xs\">Done</span>\r\n                                        </div>\r\n                                    )}\r\n                                    {upload.status === 'error' && (\r\n                                        <div className=\"flex items-center text-red-600\" title={upload.error}>\r\n                                            <AlertCircle className=\"mr-1 h-4 w-4\" />\r\n                                            <span className=\"text-xs max-w-[150px] truncate\">{upload.error || 'Error'}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    {upload.status === 'pending' && (\r\n                                        <Button\r\n                                            variant=\"ghost\"\r\n                                            size=\"icon\"\r\n                                            className=\"h-8 w-8\"\r\n                                            onClick={() => removeUpload(upload.id)}\r\n                                        >\r\n                                            <X className=\"h-4 w-4\" />\r\n                                        </Button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":1609,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  align = \"center\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,4HAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,QAAQ,QAAQ,EAChB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,4HAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACV,OAAO;YACN,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,4HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAnCS;AAqCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},{"offset":{"line":1867,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/media-manager/MediaLibrary/MediaLibrary.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { MediaGrid } from './MediaGrid';\r\nimport { MediaSidebar } from './MediaSidebar';\r\nimport { MediaUploader } from '../MediaUploader/MediaUploader';\r\nimport { MediaItem, MediaFilters } from '../types';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Search, Upload, Filter, RefreshCw, FolderPlus } from 'lucide-react';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nexport const MediaLibrary: React.FC = () => {\r\n    const [items, setItems] = useState<MediaItem[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [selectedItems, setSelectedItems] = useState<string[]>([]);\r\n    const [activeItem, setActiveItem] = useState<MediaItem | null>(null);\r\n    const [showUploader, setShowUploader] = useState(false);\r\n    const [filters, setFilters] = useState<MediaFilters>({\r\n        search: '',\r\n        folderId: null,\r\n        type: null,\r\n        sort: 'newest',\r\n    });\r\n\r\n    const fetchMedia = useCallback(async () => {\r\n        setLoading(true);\r\n        try {\r\n            const params = new URLSearchParams();\r\n            if (filters.search) params.append('search', filters.search);\r\n            if (filters.folderId) params.append('folderId', filters.folderId);\r\n            if (filters.type) params.append('type', filters.type);\r\n            if (filters.sort) params.append('sort', filters.sort);\r\n\r\n            const res = await fetch(`/api/media?${params.toString()}`);\r\n            const data = await res.json();\r\n\r\n            if (data.error) throw new Error(data.error);\r\n            setItems(data.media);\r\n        } catch (error) {\r\n            console.error(error);\r\n            toast.error('Failed to load media');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [filters]);\r\n\r\n    useEffect(() => {\r\n        fetchMedia();\r\n    }, [fetchMedia]);\r\n\r\n    const handleUploadComplete = () => {\r\n        fetchMedia();\r\n        setShowUploader(false);\r\n        toast.success('Upload complete');\r\n    };\r\n\r\n    const handleUpdate = async (id: string, data: Partial<MediaItem>) => {\r\n        const res = await fetch(`/api/media/${id}`, {\r\n            method: 'PATCH',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(data),\r\n        });\r\n\r\n        if (!res.ok) throw new Error('Failed to update');\r\n\r\n        const updatedItem = await res.json();\r\n        setItems(prev => prev.map(item => item.id === id ? updatedItem : item));\r\n        setActiveItem(updatedItem);\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        const res = await fetch(`/api/media/${id}`, {\r\n            method: 'DELETE',\r\n        });\r\n\r\n        if (!res.ok) throw new Error('Failed to delete');\r\n\r\n        setItems(prev => prev.filter(item => item.id !== id));\r\n        if (activeItem?.id === id) setActiveItem(null);\r\n        setSelectedItems(prev => prev.filter(itemId => itemId !== id));\r\n    };\r\n\r\n    const handleSelect = (item: MediaItem, multi: boolean) => {\r\n        if (multi) {\r\n            setSelectedItems(prev =>\r\n                prev.includes(item.id)\r\n                    ? prev.filter(id => id !== item.id)\r\n                    : [...prev, item.id]\r\n            );\r\n        } else {\r\n            setActiveItem(item);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex h-[calc(100vh-100px)] flex-col bg-background\">\r\n            {/* Enhanced Header */}\r\n            <div className=\"border-b bg-card\">\r\n                <div className=\"flex items-center justify-between pb-6\">\r\n                    <div className=\"flex items-center gap-6\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold tracking-tight\">Media Library</h1>\r\n                            <p className=\"text-sm text-muted-foreground mt-1\">\r\n                                Manage and organize your media assets\r\n                            </p>\r\n                        </div>\r\n                        {!loading && (\r\n                            <div className=\"flex items-center gap-4 pl-6 border-l\">\r\n                                <div className=\"text-center\">\r\n                                    <div className=\"text-2xl font-bold text-primary\">{items.length}</div>\r\n                                    <div className=\"text-xs text-muted-foreground\">Total Files</div>\r\n                                </div>\r\n                                {selectedItems.length > 0 && (\r\n                                    <div className=\"text-center\">\r\n                                        <div className=\"text-2xl font-bold text-blue-600\">{selectedItems.length}</div>\r\n                                        <div className=\"text-xs text-muted-foreground\">Selected</div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <Button\r\n                            onClick={() => setShowUploader(!showUploader)}\r\n                            variant={showUploader ? \"secondary\" : \"default\"}\r\n                            className=\"gap-2\"\r\n                        >\r\n                            <Upload className=\"h-4 w-4\" />\r\n                            {showUploader ? 'Cancel Upload' : 'Upload Files'}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Filters Bar */}\r\n                <div className=\"flex items-center gap-3  pb-4\">\r\n                    <div className=\"relative flex-1 max-w-md\">\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                        <Input\r\n                            placeholder=\"Search by filename, alt text, or tags...\"\r\n                            className=\"pl-9 bg-background\"\r\n                            value={filters.search}\r\n                            onChange={(e) => setFilters(prev => ({ ...prev, search: e.target.value }))}\r\n                        />\r\n                    </div>\r\n\r\n                    <Select\r\n                        value={filters.type || \"all\"}\r\n                        onValueChange={(val) => setFilters(prev => ({ ...prev, type: val === \"all\" ? null : val }))}\r\n                    >\r\n                        <SelectTrigger className=\"w-[140px] bg-background\">\r\n                            <Filter className=\"h-4 w-4 mr-2\" />\r\n                            <SelectValue placeholder=\"Type\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                            <SelectItem value=\"all\">All Types</SelectItem>\r\n                            <SelectItem value=\"IMAGE\">Images</SelectItem>\r\n                            <SelectItem value=\"VIDEO\">Videos</SelectItem>\r\n                            <SelectItem value=\"DOCUMENT\">Documents</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n\r\n                    <Select\r\n                        value={filters.sort || \"newest\"}\r\n                        onValueChange={(val) => setFilters(prev => ({ ...prev, sort: val }))}\r\n                    >\r\n                        <SelectTrigger className=\"w-[140px] bg-background\">\r\n                            <SelectValue placeholder=\"Sort\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                            <SelectItem value=\"newest\">Newest First</SelectItem>\r\n                            <SelectItem value=\"oldest\">Oldest First</SelectItem>\r\n                            <SelectItem value=\"name\">Name (A-Z)</SelectItem>\r\n                            <SelectItem value=\"size\">File Size</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n\r\n                    <Button variant=\"outline\" size=\"icon\" onClick={fetchMedia} title=\"Refresh\">\r\n                        <RefreshCw className={`h-4 w-4 ${loading ? 'animate-spin' : ''}`} />\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-1 overflow-hidden\">\r\n                {/* Main Content */}\r\n                <div className=\"flex-1 overflow-y-auto py-4\">\r\n                    {showUploader ? (\r\n                        <MediaUploader onUploadComplete={handleUploadComplete} folderId={filters.folderId} />\r\n                    ) : (\r\n                        <MediaGrid\r\n                            items={items}\r\n                            selectedItems={selectedItems}\r\n                            onSelect={handleSelect}\r\n                            onItemClick={(item) => setActiveItem(item)}\r\n                            loading={loading}\r\n                            onUploadClick={() => setShowUploader(true)}\r\n                        />\r\n                    )}\r\n                </div>\r\n\r\n                {/* Sidebar */}\r\n                {activeItem && (\r\n                    <MediaSidebar\r\n                        item={activeItem}\r\n                        onClose={() => setActiveItem(null)}\r\n                        onUpdate={handleUpdate}\r\n                        onDelete={handleDelete}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;;;AAZA;;;;;;;;;;AAcO,MAAM,eAAyB;;IAClC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAc,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAC/D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAmB;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAe;QACjD,QAAQ;QACR,UAAU;QACV,MAAM;QACN,MAAM;IACV;IAEA,MAAM,aAAa,IAAA,4KAAW;gDAAC;YAC3B,WAAW;YACX,IAAI;gBACA,MAAM,SAAS,IAAI;gBACnB,IAAI,QAAQ,MAAM,EAAE,OAAO,MAAM,CAAC,UAAU,QAAQ,MAAM;gBAC1D,IAAI,QAAQ,QAAQ,EAAE,OAAO,MAAM,CAAC,YAAY,QAAQ,QAAQ;gBAChE,IAAI,QAAQ,IAAI,EAAE,OAAO,MAAM,CAAC,QAAQ,QAAQ,IAAI;gBACpD,IAAI,QAAQ,IAAI,EAAE,OAAO,MAAM,CAAC,QAAQ,QAAQ,IAAI;gBAEpD,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,OAAO,QAAQ,IAAI;gBACzD,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,IAAI,KAAK,KAAK,EAAE,MAAM,IAAI,MAAM,KAAK,KAAK;gBAC1C,SAAS,KAAK,KAAK;YACvB,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC;gBACd,mKAAK,CAAC,KAAK,CAAC;YAChB,SAAU;gBACN,WAAW;YACf;QACJ;+CAAG;QAAC;KAAQ;IAEZ,IAAA,0KAAS;kCAAC;YACN;QACJ;iCAAG;QAAC;KAAW;IAEf,MAAM,uBAAuB;QACzB;QACA,gBAAgB;QAChB,mKAAK,CAAC,OAAO,CAAC;IAClB;IAEA,MAAM,eAAe,OAAO,IAAY;QACpC,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;YACxC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACzB;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAE7B,MAAM,cAAc,MAAM,IAAI,IAAI;QAClC,SAAS,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,KAAK,cAAc;QACjE,cAAc;IAClB;IAEA,MAAM,eAAe,OAAO;QACxB,MAAM,MAAM,MAAM,MAAM,CAAC,WAAW,EAAE,IAAI,EAAE;YACxC,QAAQ;QACZ;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAE7B,SAAS,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK;QACjD,IAAI,YAAY,OAAO,IAAI,cAAc;QACzC,iBAAiB,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,SAAU,WAAW;IAC9D;IAEA,MAAM,eAAe,CAAC,MAAiB;QACnC,IAAI,OAAO;YACP,iBAAiB,CAAA,OACb,KAAK,QAAQ,CAAC,KAAK,EAAE,IACf,KAAK,MAAM,CAAC,CAAA,KAAM,OAAO,KAAK,EAAE,IAChC;uBAAI;oBAAM,KAAK,EAAE;iBAAC;QAEhC,OAAO;YACH,cAAc;QAClB;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;;0DACG,6LAAC;gDAAG,WAAU;0DAAoC;;;;;;0DAClD,6LAAC;gDAAE,WAAU;0DAAqC;;;;;;;;;;;;oCAIrD,CAAC,yBACE,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAI,WAAU;kEAAmC,MAAM,MAAM;;;;;;kEAC9D,6LAAC;wDAAI,WAAU;kEAAgC;;;;;;;;;;;;4CAElD,cAAc,MAAM,GAAG,mBACpB,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAI,WAAU;kEAAoC,cAAc,MAAM;;;;;;kEACvE,6LAAC;wDAAI,WAAU;kEAAgC;;;;;;;;;;;;;;;;;;;;;;;;0CAOnE,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC,+IAAM;oCACH,SAAS,IAAM,gBAAgB,CAAC;oCAChC,SAAS,eAAe,cAAc;oCACtC,WAAU;;sDAEV,6LAAC,mNAAM;4CAAC,WAAU;;;;;;wCACjB,eAAe,kBAAkB;;;;;;;;;;;;;;;;;;kCAM9C,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,mNAAM;wCAAC,WAAU;;;;;;kDAClB,6LAAC,6IAAK;wCACF,aAAY;wCACZ,WAAU;wCACV,OAAO,QAAQ,MAAM;wCACrB,UAAU,CAAC,IAAM,WAAW,CAAA,OAAQ,CAAC;oDAAE,GAAG,IAAI;oDAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;gDAAC,CAAC;;;;;;;;;;;;0CAIhF,6LAAC,+IAAM;gCACH,OAAO,QAAQ,IAAI,IAAI;gCACvB,eAAe,CAAC,MAAQ,WAAW,CAAA,OAAQ,CAAC;4CAAE,GAAG,IAAI;4CAAE,MAAM,QAAQ,QAAQ,OAAO;wCAAI,CAAC;;kDAEzF,6LAAC,sJAAa;wCAAC,WAAU;;0DACrB,6LAAC,mNAAM;gDAAC,WAAU;;;;;;0DAClB,6LAAC,oJAAW;gDAAC,aAAY;;;;;;;;;;;;kDAE7B,6LAAC,sJAAa;;0DACV,6LAAC,mJAAU;gDAAC,OAAM;0DAAM;;;;;;0DACxB,6LAAC,mJAAU;gDAAC,OAAM;0DAAQ;;;;;;0DAC1B,6LAAC,mJAAU;gDAAC,OAAM;0DAAQ;;;;;;0DAC1B,6LAAC,mJAAU;gDAAC,OAAM;0DAAW;;;;;;;;;;;;;;;;;;0CAIrC,6LAAC,+IAAM;gCACH,OAAO,QAAQ,IAAI,IAAI;gCACvB,eAAe,CAAC,MAAQ,WAAW,CAAA,OAAQ,CAAC;4CAAE,GAAG,IAAI;4CAAE,MAAM;wCAAI,CAAC;;kDAElE,6LAAC,sJAAa;wCAAC,WAAU;kDACrB,cAAA,6LAAC,oJAAW;4CAAC,aAAY;;;;;;;;;;;kDAE7B,6LAAC,sJAAa;;0DACV,6LAAC,mJAAU;gDAAC,OAAM;0DAAS;;;;;;0DAC3B,6LAAC,mJAAU;gDAAC,OAAM;0DAAS;;;;;;0DAC3B,6LAAC,mJAAU;gDAAC,OAAM;0DAAO;;;;;;0DACzB,6LAAC,mJAAU;gDAAC,OAAM;0DAAO;;;;;;;;;;;;;;;;;;0CAIjC,6LAAC,+IAAM;gCAAC,SAAQ;gCAAU,MAAK;gCAAO,SAAS;gCAAY,OAAM;0CAC7D,cAAA,6LAAC,gOAAS;oCAAC,WAAW,CAAC,QAAQ,EAAE,UAAU,iBAAiB,IAAI;;;;;;;;;;;;;;;;;;;;;;;0BAK5E,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,WAAU;kCACV,6BACG,6LAAC,4LAAa;4BAAC,kBAAkB;4BAAsB,UAAU,QAAQ,QAAQ;;;;;qFAEjF,6LAAC,mLAAS;4BACN,OAAO;4BACP,eAAe;4BACf,UAAU;4BACV,aAAa,CAAC,OAAS,cAAc;4BACrC,SAAS;4BACT,eAAe,IAAM,gBAAgB;;;;;;;;;;;oBAMhD,4BACG,6LAAC,yLAAY;wBACT,MAAM;wBACN,SAAS,IAAM,cAAc;wBAC7B,UAAU;wBACV,UAAU;;;;;;;;;;;;;;;;;;AAMlC;GAzMa;KAAA"}}],"debugId":"ede843b8-39ae-5ba0-9139-4d775eb3d548"}