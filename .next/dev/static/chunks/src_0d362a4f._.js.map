{"version":3,"sources":null,"sections":[{"offset":{"line":5,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/redux/hooks.ts"],"sourcesContent":["import { useDispatch, useSelector, useStore } from 'react-redux';\nimport type { RootState, AppDispatch, AppStore } from './store';\n\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>();\nexport const useAppSelector = useSelector.withTypes<RootState>();\nexport const useAppStore = useStore.withTypes<AppStore>();\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAGO,MAAM,iBAAiB,2KAAW,CAAC,SAAS;AAC5C,MAAM,iBAAiB,2KAAW,CAAC,SAAS;AAC5C,MAAM,cAAc,wKAAQ,CAAC,SAAS"}},{"offset":{"line":25,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},{"offset":{"line":43,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},{"offset":{"line":108,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n"],"names":[],"mappings":"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"}},{"offset":{"line":417,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,iLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},{"offset":{"line":480,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/POSHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useAppDispatch, useAppSelector } from '@/lib/redux/hooks';\r\nimport { setOrderType } from '@/lib/redux/features/posSlice';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { Package2, User } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ntype OrderType = 'DINE_IN' | 'TAKE_AWAY' | 'DELIVERY';\r\n\r\nconst orderTypes: { value: OrderType; label: string }[] = [\r\n  { value: 'DINE_IN', label: 'Dine In' },\r\n  { value: 'TAKE_AWAY', label: 'Take Away' },\r\n  { value: 'DELIVERY', label: 'Deliver' },\r\n];\r\n\r\ninterface POSHeaderProps {\r\n  locationName?: string | null;\r\n}\r\n\r\nexport function POSHeader({ locationName }: POSHeaderProps) {\r\n  const { data: session } = useSession();\r\n  const dispatch = useAppDispatch();\r\n  const currentOrderType = useAppSelector((state) => state.pos.orderType);\r\n  const locationId = useAppSelector((state) => state.pos.locationId);\r\n\r\n  return (\r\n    <header className=\"h-20 border-b bg-background flex items-center justify-between px-6 shadow-sm\">\r\n      <div className=\"flex items-center gap-6\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Package2 className=\"h-7 w-7 text-primary\" />\r\n          <span className=\"font-bold text-xl\">POS Terminal</span>\r\n        </div>\r\n        <div className=\"flex items-center gap-1 ml-4\">\r\n          {orderTypes.map((type) => (\r\n            <Button\r\n              key={type.value}\r\n              variant={currentOrderType === type.value ? 'default' : 'outline'}\r\n              size=\"lg\"\r\n              onClick={() => dispatch(setOrderType(type.value))}\r\n              className={cn(\r\n                'h-12 px-6 text-base font-semibold rounded-lg',\r\n                currentOrderType === type.value && 'shadow-md'\r\n              )}\r\n            >\r\n              {type.label}\r\n            </Button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center gap-6\">\r\n        {locationId && (\r\n          <div className=\"text-right\">\r\n            <div className=\"text-xs text-muted-foreground\">Location</div>\r\n            <div className=\"text-sm font-semibold\">{locationName || `ID: ${locationId.slice(0, 8)}...`}</div>\r\n          </div>\r\n        )}\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"ghost\" className=\"flex items-center gap-3 h-12 px-3\">\r\n              <Avatar className=\"h-10 w-10\">\r\n                <AvatarImage src={session?.user?.image || ''} />\r\n                <AvatarFallback>\r\n                  {session?.user?.name?.charAt(0) || <User className=\"h-5 w-5\" />}\r\n                </AvatarFallback>\r\n              </Avatar>\r\n              <div className=\"text-left\">\r\n                <div className=\"text-sm font-semibold\">{session?.user?.name || 'Admin'}</div>\r\n                <div className=\"text-xs text-muted-foreground\">Cashier</div>\r\n              </div>\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n            <DropdownMenuLabel>My Account</DropdownMenuLabel>\r\n            <DropdownMenuSeparator />\r\n            <DropdownMenuItem>Settings</DropdownMenuItem>\r\n            <DropdownMenuItem>Logout</DropdownMenuItem>\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AAQA;AACA;AAAA;AACA;;;AAjBA;;;;;;;;;AAqBA,MAAM,aAAoD;IACxD;QAAE,OAAO;QAAW,OAAO;IAAU;IACrC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAY,OAAO;IAAU;CACvC;AAMM,SAAS,UAAU,EAAE,YAAY,EAAkB;;IACxD,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,+JAAU;IACpC,MAAM,WAAW,IAAA,iJAAc;IAC/B,MAAM,mBAAmB,IAAA,iJAAc;sDAAC,CAAC,QAAU,MAAM,GAAG,CAAC,SAAS;;IACtE,MAAM,aAAa,IAAA,iJAAc;gDAAC,CAAC,QAAU,MAAM,GAAG,CAAC,UAAU;;IAEjE,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6NAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC;gCAAK,WAAU;0CAAoB;;;;;;;;;;;;kCAEtC,6LAAC;wBAAI,WAAU;kCACZ,WAAW,GAAG,CAAC,CAAC,qBACf,6LAAC,+IAAM;gCAEL,SAAS,qBAAqB,KAAK,KAAK,GAAG,YAAY;gCACvD,MAAK;gCACL,SAAS,IAAM,SAAS,IAAA,8JAAY,EAAC,KAAK,KAAK;gCAC/C,WAAW,IAAA,4HAAE,EACX,gDACA,qBAAqB,KAAK,KAAK,IAAI;0CAGpC,KAAK,KAAK;+BATN,KAAK,KAAK;;;;;;;;;;;;;;;;0BAcvB,6LAAC;gBAAI,WAAU;;oBACZ,4BACC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CAAgC;;;;;;0CAC/C,6LAAC;gCAAI,WAAU;0CAAyB,gBAAgB,CAAC,IAAI,EAAE,WAAW,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;;;;;;;;;;;;kCAG9F,6LAAC,+JAAY;;0CACX,6LAAC,sKAAmB;gCAAC,OAAO;0CAC1B,cAAA,6LAAC,+IAAM;oCAAC,SAAQ;oCAAQ,WAAU;;sDAChC,6LAAC,+IAAM;4CAAC,WAAU;;8DAChB,6LAAC,oJAAW;oDAAC,KAAK,SAAS,MAAM,SAAS;;;;;;8DAC1C,6LAAC,uJAAc;8DACZ,SAAS,MAAM,MAAM,OAAO,oBAAM,6LAAC,6MAAI;wDAAC,WAAU;;;;;;;;;;;;;;;;;sDAGvD,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;8DAAyB,SAAS,MAAM,QAAQ;;;;;;8DAC/D,6LAAC;oDAAI,WAAU;8DAAgC;;;;;;;;;;;;;;;;;;;;;;;0CAIrD,6LAAC,sKAAmB;gCAAC,OAAM;gCAAM,WAAU;;kDACzC,6LAAC,oKAAiB;kDAAC;;;;;;kDACnB,6LAAC,wKAAqB;;;;;kDACtB,6LAAC,mKAAgB;kDAAC;;;;;;kDAClB,6LAAC,mKAAgB;kDAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B;GA9DgB;;QACY,+JAAU;QACnB,iJAAc;QACN,iJAAc;QACpB,iJAAc;;;KAJnB"}},{"offset":{"line":757,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/POSSidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  Home,\r\n  ShoppingBag,\r\n  BarChart3,\r\n  Settings,\r\n  RotateCcw,\r\n  LogOut,\r\n} from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { signOut } from 'next-auth/react';\r\n\r\nconst sidebarItems = [\r\n  { icon: Home, label: 'Home', path: '/admin/pos' },\r\n  { icon: ShoppingBag, label: 'Orders', path: '/admin/pos/orders' },\r\n  { icon: BarChart3, label: 'Reports', path: '/admin/pos/reports' },\r\n  { icon: Settings, label: 'Settings', path: '/admin/pos/settings' },\r\n];\r\n\r\nexport function POSSidebar() {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const [activeItem, setActiveItem] = useState(pathname);\r\n\r\n  const handleItemClick = (path: string) => {\r\n    setActiveItem(path);\r\n    router.push(path);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    signOut({ callbackUrl: '/admin/login' });\r\n  };\r\n\r\n  return (\r\n    <aside className=\"w-16 border-r bg-background flex flex-col items-center py-4 gap-2\">\r\n      {sidebarItems.map((item) => {\r\n        const Icon = item.icon;\r\n        const isActive = activeItem === item.path;\r\n        return (\r\n          <Button\r\n            key={item.path}\r\n            variant={isActive ? 'secondary' : 'ghost'}\r\n            size=\"icon\"\r\n            className={cn(\r\n              'h-12 w-12 rounded-lg',\r\n              isActive && 'bg-primary text-primary-foreground'\r\n            )}\r\n            onClick={() => handleItemClick(item.path)}\r\n            title={item.label}\r\n          >\r\n            <Icon className=\"h-5 w-5\" />\r\n          </Button>\r\n        );\r\n      })}\r\n      <div className=\"flex-1\" />\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        className=\"h-12 w-12 rounded-lg\"\r\n        onClick={() => window.location.reload()}\r\n        title=\"Refresh\"\r\n      >\r\n        <RotateCcw className=\"h-5 w-5\" />\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        className=\"h-12 w-12 rounded-lg\"\r\n        onClick={handleLogout}\r\n        title=\"Logout\"\r\n      >\r\n        <LogOut className=\"h-5 w-5\" />\r\n      </Button>\r\n    </aside>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;;;AAdA;;;;;;;AAgBA,MAAM,eAAe;IACnB;QAAE,MAAM,8MAAI;QAAE,OAAO;QAAQ,MAAM;IAAa;IAChD;QAAE,MAAM,sOAAW;QAAE,OAAO;QAAU,MAAM;IAAoB;IAChE;QAAE,MAAM,kOAAS;QAAE,OAAO;QAAW,MAAM;IAAqB;IAChE;QAAE,MAAM,yNAAQ;QAAE,OAAO;QAAY,MAAM;IAAsB;CAClE;AAEM,SAAS;;IACd,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,MAAM,kBAAkB,CAAC;QACvB,cAAc;QACd,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,eAAe;QACnB,IAAA,4JAAO,EAAC;YAAE,aAAa;QAAe;IACxC;IAEA,qBACE,6LAAC;QAAM,WAAU;;YACd,aAAa,GAAG,CAAC,CAAC;gBACjB,MAAM,OAAO,KAAK,IAAI;gBACtB,MAAM,WAAW,eAAe,KAAK,IAAI;gBACzC,qBACE,6LAAC,+IAAM;oBAEL,SAAS,WAAW,cAAc;oBAClC,MAAK;oBACL,WAAW,IAAA,4HAAE,EACX,wBACA,YAAY;oBAEd,SAAS,IAAM,gBAAgB,KAAK,IAAI;oBACxC,OAAO,KAAK,KAAK;8BAEjB,cAAA,6LAAC;wBAAK,WAAU;;;;;;mBAVX,KAAK,IAAI;;;;;YAapB;0BACA,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC,+IAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAU;gBACV,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;gBACrC,OAAM;0BAEN,cAAA,6LAAC,gOAAS;oBAAC,WAAU;;;;;;;;;;;0BAEvB,6LAAC,+IAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAU;gBACV,SAAS;gBACT,OAAM;0BAEN,cAAA,6LAAC,uNAAM;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1B;GAxDgB;;QACC,kJAAS;QACP,oJAAW;;;KAFd"}},{"offset":{"line":909,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,2EACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},{"offset":{"line":1029,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,oZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},{"offset":{"line":1081,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/SalesAnalytics.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport useSWR from 'swr';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { ChevronLeft, ChevronRight, CheckCircle2, Clock } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst fetcher = async (url: string) => {\r\n  const res = await fetch(url);\r\n  if (!res.ok) {\r\n    throw new Error('An error occurred while fetching the data.');\r\n  }\r\n  return res.json();\r\n};\r\n\r\ninterface ActiveOrder {\r\n  id: string;\r\n  orderNumber?: string;\r\n  status: string;\r\n  total: number;\r\n  itemCount: number;\r\n  createdAt: string;\r\n}\r\n\r\nexport function SalesAnalytics() {\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  // Fetch active POS orders (not yet completed)\r\n  const { data: ordersData, error, isLoading, mutate } = useSWR<ActiveOrder[]>(\r\n    '/api/pos/orders?status=active',\r\n    fetcher,\r\n    {\r\n      refreshInterval: 3000, // Poll every 3 seconds\r\n      onError: (err) => {\r\n        console.error('Error fetching POS orders:', err);\r\n      },\r\n    }\r\n  );\r\n\r\n  // Use the data directly (API already filters by status=active)\r\n  const data = Array.isArray(ordersData) ? ordersData : [];\r\n\r\n  useEffect(() => {\r\n    // Refresh data periodically\r\n    const interval = setInterval(() => {\r\n      mutate();\r\n    }, 3000);\r\n    return () => clearInterval(interval);\r\n  }, [mutate]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"mb-6\">\r\n        <h2 className=\"text-lg font-semibold mb-4\">Sales Analytic</h2>\r\n        <div className=\"flex gap-4\">\r\n          {[1, 2, 3].map((i) => (\r\n            <Card key={i} className=\"w-64 animate-pulse\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"h-20 bg-muted rounded\" />\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const orders = data || [];\r\n  const ordersPerPage = 3;\r\n  const totalPages = Math.ceil(orders.length / ordersPerPage);\r\n  const startIndex = currentPage * ordersPerPage;\r\n  const displayedOrders = orders.slice(startIndex, startIndex + ordersPerPage);\r\n\r\n  return (\r\n    <div className=\"mb-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h2 className=\"text-lg font-semibold\">\r\n          Sales Analytic {orders.length > 0 && `(${orders.length})`}\r\n        </h2>\r\n        {totalPages > 1 && (\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"icon\"\r\n              onClick={() => setCurrentPage((p) => Math.max(0, p - 1))}\r\n              disabled={currentPage === 0}\r\n            >\r\n              <ChevronLeft className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"icon\"\r\n              onClick={() => setCurrentPage((p) => Math.min(totalPages - 1, p + 1))}\r\n              disabled={currentPage >= totalPages - 1}\r\n            >\r\n              <ChevronRight className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"flex gap-4 overflow-x-auto pb-2\">\r\n        {displayedOrders.length > 0 ? (\r\n          displayedOrders.map((order) => (\r\n            <Card key={order.id} className=\"min-w-[240px] flex-shrink-0\">\r\n              <CardHeader className=\"pb-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <CardTitle className=\"text-sm font-medium\">\r\n                    {order.orderNumber || `#${order.id.slice(-6)}`}\r\n                  </CardTitle>\r\n                  <Badge\r\n                    variant={\r\n                      order.status === 'READY' || order.status === 'DELIVERED'\r\n                        ? 'default'\r\n                        : 'secondary'\r\n                    }\r\n                    className=\"text-xs\"\r\n                  >\r\n                    {order.status === 'READY' || order.status === 'DELIVERED' ? (\r\n                      <CheckCircle2 className=\"h-3 w-3 mr-1\" />\r\n                    ) : (\r\n                      <Clock className=\"h-3 w-3 mr-1\" />\r\n                    )}\r\n                    {order.status === 'READY' || order.status === 'DELIVERED'\r\n                      ? 'Ready to serve'\r\n                      : 'In Progress'}\r\n                  </Badge>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-sm text-muted-foreground mb-3\">\r\n                  {order.itemCount} Items\r\n                </div>\r\n                <Button\r\n                  size=\"sm\"\r\n                  variant={\r\n                    order.status === 'READY' || order.status === 'DELIVERED'\r\n                      ? 'default'\r\n                      : 'outline'\r\n                  }\r\n                  className=\"w-full\"\r\n                >\r\n                  {order.status === 'READY' || order.status === 'DELIVERED' ? (\r\n                    <>\r\n                      <CheckCircle2 className=\"h-4 w-4 mr-2\" />\r\n                      Ready to serve\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Clock className=\"h-4 w-4 mr-2\" />\r\n                      In Progress\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          ))\r\n        ) : (\r\n          <Card className=\"w-full\">\r\n            <CardContent className=\"p-6 text-center text-muted-foreground\">\r\n              No active orders\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":1413,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/ProductCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Minus, Plus, Check } from 'lucide-react';\r\nimport { useAppDispatch, useAppSelector } from '@/lib/redux/hooks';\r\nimport { addToPosCart, updatePosCartQuantity, removeFromPosCart } from '@/lib/redux/features/posSlice';\r\nimport { cn } from '@/lib/utils';\r\nimport Image from 'next/image';\r\n\r\ninterface ProductCardProps {\r\n  product: {\r\n    id: string;\r\n    name: string;\r\n    price: number | string;\r\n    images?: Array<{ url: string; alt?: string | null }>;\r\n    stock: number;\r\n    variants?: Array<{ id: string; price?: number | string | null }>;\r\n  };\r\n}\r\n\r\nexport function ProductCard({ product }: ProductCardProps) {\r\n  const dispatch = useAppDispatch();\r\n  const cart = useAppSelector((state) => state.pos.cart);\r\n  const price = typeof product.price === 'string' ? parseFloat(product.price) : product.price;\r\n  const imageUrl = product.images?.[0]?.url || '/placeholder-product.png';\r\n\r\n  // Check if product is in cart (no variants for now)\r\n  const cartItem = cart.find((item) => item.productId === product.id && !item.variantId);\r\n  const quantity = cartItem?.quantity || 0;\r\n\r\n  const handleAdd = () => {\r\n    if (product.stock <= 0) return;\r\n\r\n    if (quantity === 0) {\r\n      dispatch(\r\n        addToPosCart({\r\n          id: `${product.id}-${Date.now()}`,\r\n          productId: product.id,\r\n          name: product.name,\r\n          price,\r\n          quantity: 1,\r\n          image: imageUrl,\r\n        })\r\n      );\r\n    } else {\r\n      dispatch(\r\n        updatePosCartQuantity({\r\n          id: cartItem.id,\r\n          quantity: quantity + 1,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleDecrease = () => {\r\n    if (cartItem && quantity > 1) {\r\n      dispatch(\r\n        updatePosCartQuantity({\r\n          id: cartItem.id,\r\n          quantity: quantity - 1,\r\n        })\r\n      );\r\n    } else if (cartItem) {\r\n      dispatch(removeFromPosCart(cartItem.id));\r\n    }\r\n  };\r\n\r\n  const isOutOfStock = product.stock <= 0;\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'border-2 rounded-xl overflow-hidden bg-card hover:shadow-lg transition-all cursor-pointer',\r\n        quantity > 0 && 'ring-2 ring-primary border-primary',\r\n        isOutOfStock && 'opacity-60'\r\n      )}\r\n    >\r\n      <div \r\n        className=\"relative aspect-square bg-muted cursor-pointer\"\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          if (!isOutOfStock) {\r\n            handleAdd();\r\n          }\r\n        }}\r\n      >\r\n        {imageUrl && (\r\n          <Image\r\n            src={imageUrl}\r\n            alt={product.name}\r\n            fill\r\n            className=\"object-cover\"\r\n            sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\r\n          />\r\n        )}\r\n        {isOutOfStock && (\r\n          <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center\">\r\n            <span className=\"text-white font-bold text-lg\">Out of Stock</span>\r\n          </div>\r\n        )}\r\n        {quantity > 0 && (\r\n          <div className=\"absolute top-2 right-2 bg-primary text-primary-foreground rounded-full h-10 w-10 flex items-center justify-center font-bold text-lg shadow-lg\">\r\n            {quantity}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"p-5\">\r\n        <h3 className=\"font-semibold text-base mb-2 line-clamp-2 min-h-[3rem]\">{product.name}</h3>\r\n        <p className=\"text-2xl font-bold mb-4 text-primary\">${price.toFixed(2)}</p>\r\n        {quantity > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center justify-between gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"icon\"\r\n                className=\"h-12 w-12 text-lg font-bold\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleDecrease();\r\n                }}\r\n                disabled={isOutOfStock}\r\n              >\r\n                <Minus className=\"h-5 w-5\" />\r\n              </Button>\r\n              <div className=\"flex-1 text-center\">\r\n                <span className=\"text-2xl font-bold\">{quantity}</span>\r\n              </div>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"icon\"\r\n                className=\"h-12 w-12 text-lg font-bold\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleAdd();\r\n                }}\r\n                disabled={isOutOfStock || product.stock <= quantity}\r\n              >\r\n                <Plus className=\"h-5 w-5\" />\r\n              </Button>\r\n            </div>\r\n            <Button\r\n              variant=\"default\"\r\n              size=\"lg\"\r\n              className=\"w-full h-12 text-base font-semibold\"\r\n              disabled={isOutOfStock}\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                handleAdd();\r\n              }}\r\n            >\r\n              <Check className=\"h-5 w-5 mr-2\" />\r\n              In Cart\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <Button\r\n            variant=\"default\"\r\n            size=\"lg\"\r\n            className=\"w-full h-12 text-base font-semibold\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              handleAdd();\r\n            }}\r\n            disabled={isOutOfStock}\r\n          >\r\n            <Plus className=\"h-5 w-5 mr-2\" />\r\n            Add Item\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;AAqBO,SAAS,YAAY,EAAE,OAAO,EAAoB;;IACvD,MAAM,WAAW,IAAA,iJAAc;IAC/B,MAAM,OAAO,IAAA,iJAAc;4CAAC,CAAC,QAAU,MAAM,GAAG,CAAC,IAAI;;IACrD,MAAM,QAAQ,OAAO,QAAQ,KAAK,KAAK,WAAW,WAAW,QAAQ,KAAK,IAAI,QAAQ,KAAK;IAC3F,MAAM,WAAW,QAAQ,MAAM,EAAE,CAAC,EAAE,EAAE,OAAO;IAE7C,oDAAoD;IACpD,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,SAAS,KAAK,QAAQ,EAAE,IAAI,CAAC,KAAK,SAAS;IACrF,MAAM,WAAW,UAAU,YAAY;IAEvC,MAAM,YAAY;QAChB,IAAI,QAAQ,KAAK,IAAI,GAAG;QAExB,IAAI,aAAa,GAAG;YAClB,SACE,IAAA,8JAAY,EAAC;gBACX,IAAI,GAAG,QAAQ,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,IAAI;gBACjC,WAAW,QAAQ,EAAE;gBACrB,MAAM,QAAQ,IAAI;gBAClB;gBACA,UAAU;gBACV,OAAO;YACT;QAEJ,OAAO;YACL,SACE,IAAA,uKAAqB,EAAC;gBACpB,IAAI,SAAS,EAAE;gBACf,UAAU,WAAW;YACvB;QAEJ;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI,YAAY,WAAW,GAAG;YAC5B,SACE,IAAA,uKAAqB,EAAC;gBACpB,IAAI,SAAS,EAAE;gBACf,UAAU,WAAW;YACvB;QAEJ,OAAO,IAAI,UAAU;YACnB,SAAS,IAAA,mKAAiB,EAAC,SAAS,EAAE;QACxC;IACF;IAEA,MAAM,eAAe,QAAQ,KAAK,IAAI;IAEtC,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,6FACA,WAAW,KAAK,sCAChB,gBAAgB;;0BAGlB,6LAAC;gBACC,WAAU;gBACV,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB,IAAI,CAAC,cAAc;wBACjB;oBACF;gBACF;;oBAEC,0BACC,6LAAC,2IAAK;wBACJ,KAAK;wBACL,KAAK,QAAQ,IAAI;wBACjB,IAAI;wBACJ,WAAU;wBACV,OAAM;;;;;;oBAGT,8BACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAK,WAAU;sCAA+B;;;;;;;;;;;oBAGlD,WAAW,mBACV,6LAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;0BAIP,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA0D,QAAQ,IAAI;;;;;;kCACpF,6LAAC;wBAAE,WAAU;;4BAAuC;4BAAE,MAAM,OAAO,CAAC;;;;;;;oBACnE,WAAW,kBACV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,+IAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS,CAAC;4CACR,EAAE,eAAe;4CACjB;wCACF;wCACA,UAAU;kDAEV,cAAA,6LAAC,gNAAK;4CAAC,WAAU;;;;;;;;;;;kDAEnB,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAK,WAAU;sDAAsB;;;;;;;;;;;kDAExC,6LAAC,+IAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,WAAU;wCACV,SAAS,CAAC;4CACR,EAAE,eAAe;4CACjB;wCACF;wCACA,UAAU,gBAAgB,QAAQ,KAAK,IAAI;kDAE3C,cAAA,6LAAC,6MAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGpB,6LAAC,+IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,UAAU;gCACV,SAAS,CAAC;oCACR,EAAE,eAAe;oCACjB;gCACF;;kDAEA,6LAAC,gNAAK;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;6CAKtC,6LAAC,+IAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,WAAU;wBACV,SAAS,CAAC;4BACR,EAAE,eAAe;4BACjB;wBACF;wBACA,UAAU;;0CAEV,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;;AAO7C;GAxJgB;;QACG,iJAAc;QAClB,iJAAc;;;KAFb"}},{"offset":{"line":1700,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},{"offset":{"line":1731,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS"}},{"offset":{"line":1809,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/MenuItems.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport useSWR from 'swr';\r\nimport { ProductCard } from './ProductCard';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Search, Filter } from 'lucide-react';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu';\r\n\r\nconst fetcher = (url: string) => fetch(url).then((res) => res.json());\r\n\r\nexport function MenuItems() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\r\n  const [categories, setCategories] = useState<Array<{ id: string; name: string }>>([]);\r\n\r\n  const { data: products, error, isLoading } = useSWR(\r\n    `/api/pos/products?${selectedCategory ? `categoryId=${selectedCategory}` : ''}${searchQuery ? `&search=${searchQuery}` : ''}`,\r\n    fetcher\r\n  );\r\n\r\n  useEffect(() => {\r\n    // Fetch categories\r\n    fetch('/api/categories')\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setCategories([{ id: 'all', name: 'All Menu' }, ...(data || [])]);\r\n      })\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  const filteredProducts = products?.filter((product: any) => {\r\n    if (!searchQuery) return true;\r\n    const query = searchQuery.toLowerCase();\r\n    return (\r\n      product.name.toLowerCase().includes(query) ||\r\n      product.description?.toLowerCase().includes(query)\r\n    );\r\n  }) || [];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h2 className=\"text-lg font-semibold\">\r\n          Menu Items {products && `(${products.length})`}\r\n        </h2>\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Search products...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"pl-10 w-64\"\r\n            />\r\n          </div>\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"outline\" size=\"icon\">\r\n                <Filter className=\"h-4 w-4\" />\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent>\r\n              <DropdownMenuItem onClick={() => setSelectedCategory(null)}>\r\n                All Categories\r\n              </DropdownMenuItem>\r\n              {categories.slice(1).map((cat) => (\r\n                <DropdownMenuItem\r\n                  key={cat.id}\r\n                  onClick={() => setSelectedCategory(cat.id)}\r\n                >\r\n                  {cat.name}\r\n                </DropdownMenuItem>\r\n              ))}\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </div>\r\n\r\n      {categories.length > 0 && (\r\n        <Tabs\r\n          value={selectedCategory || 'all'}\r\n          onValueChange={(value) => setSelectedCategory(value === 'all' ? null : value)}\r\n          className=\"mb-4\"\r\n        >\r\n          <TabsList className=\"grid w-full grid-cols-6\">\r\n            {categories.slice(0, 6).map((cat) => (\r\n              <TabsTrigger key={cat.id} value={cat.id === 'all' ? 'all' : cat.id}>\r\n                {cat.name}\r\n              </TabsTrigger>\r\n            ))}\r\n          </TabsList>\r\n        </Tabs>\r\n      )}\r\n\r\n      {isLoading ? (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n          {[1, 2, 3, 4, 5, 6, 7, 8].map((i) => (\r\n            <div key={i} className=\"border rounded-lg animate-pulse\">\r\n              <div className=\"aspect-square bg-muted\" />\r\n              <div className=\"p-4 space-y-2\">\r\n                <div className=\"h-4 bg-muted rounded w-3/4\" />\r\n                <div className=\"h-4 bg-muted rounded w-1/2\" />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : error ? (\r\n        <div className=\"text-center py-8 text-muted-foreground\">\r\n          Error loading products\r\n        </div>\r\n      ) : filteredProducts.length === 0 ? (\r\n        <div className=\"text-center py-8 text-muted-foreground\">\r\n          No products found\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n          {filteredProducts.map((product: any) => (\r\n            <ProductCard key={product.id} product={product} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":2103,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn(\"relative\", className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        \"flex touch-none p-px transition-colors select-none\",\n        orientation === \"vertical\" &&\n          \"h-full w-2.5 border-l border-l-transparent\",\n        orientation === \"horizontal\" &&\n          \"h-2.5 flex-col border-t border-t-transparent\",\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,qLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,6LAAC,oMAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,sDACA,gBAAgB,cACd,8CACF,gBAAgB,gBACd,gDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAzBS"}},{"offset":{"line":2181,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none mb-2 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,6LAAC,4KAAmB;QAClB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,4NACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},{"offset":{"line":2214,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/QuickPaymentButtons.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { DollarSign, CreditCard, Wallet, Split } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface QuickPaymentButtonsProps {\r\n  total: number;\r\n  onPaymentSelect: (method: 'CASH' | 'CARD' | 'DIGITAL_WALLET' | 'SPLIT', amount?: number) => void;\r\n  defaultMethod?: 'CASH' | 'CARD' | 'DIGITAL_WALLET' | 'SPLIT';\r\n}\r\n\r\nexport function QuickPaymentButtons({ total, onPaymentSelect, defaultMethod = 'CASH' }: QuickPaymentButtonsProps) {\r\n  const [selectedMethod, setSelectedMethod] = useState<'CASH' | 'CARD' | 'DIGITAL_WALLET' | 'SPLIT'>(defaultMethod);\r\n  const [cashAmount, setCashAmount] = useState('');\r\n  const [customAmount, setCustomAmount] = useState('');\r\n\r\n  const handleQuickCash = (amount: number) => {\r\n    setSelectedMethod('CASH');\r\n    setCashAmount(amount.toString());\r\n    onPaymentSelect('CASH', amount);\r\n  };\r\n\r\n  const handleExactAmount = () => {\r\n    setSelectedMethod('CASH');\r\n    setCashAmount(total.toString());\r\n    onPaymentSelect('CASH', total);\r\n  };\r\n\r\n  const handleCustomCash = () => {\r\n    const amount = parseFloat(customAmount);\r\n    if (amount >= total) {\r\n      setSelectedMethod('CASH');\r\n      setCashAmount(customAmount);\r\n      onPaymentSelect('CASH', amount);\r\n    }\r\n  };\r\n\r\n  const cashAmountNum = parseFloat(cashAmount) || 0;\r\n  const change = cashAmountNum - total;\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {/* Quick Cash Buttons */}\r\n      <div>\r\n        <Label className=\"text-xs text-muted-foreground mb-1.5 block\">Quick Cash</Label>\r\n        <div className=\"grid grid-cols-3 gap-1.5\">\r\n          <Button\r\n            type=\"button\"\r\n            variant={selectedMethod === 'CASH' && cashAmount === '50' ? 'default' : 'outline'}\r\n            className={cn(\r\n              'h-11 text-sm font-semibold',\r\n              selectedMethod === 'CASH' && cashAmount === '50' && 'bg-green-600 hover:bg-green-700'\r\n            )}\r\n            onClick={() => handleQuickCash(50)}\r\n          >\r\n            <DollarSign className=\"h-4 w-4 mr-1\" />\r\n            $50\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            variant={selectedMethod === 'CASH' && cashAmount === '100' ? 'default' : 'outline'}\r\n            className={cn(\r\n              'h-11 text-sm font-semibold',\r\n              selectedMethod === 'CASH' && cashAmount === '100' && 'bg-green-600 hover:bg-green-700'\r\n            )}\r\n            onClick={() => handleQuickCash(100)}\r\n          >\r\n            <DollarSign className=\"h-4 w-4 mr-1\" />\r\n            $100\r\n          </Button>\r\n          <Button\r\n            type=\"button\"\r\n            variant={selectedMethod === 'CASH' && cashAmount === total.toString() ? 'default' : 'outline'}\r\n            className={cn(\r\n              'h-11 text-sm font-semibold',\r\n              selectedMethod === 'CASH' && cashAmount === total.toString() && 'bg-blue-600 hover:bg-blue-700'\r\n            )}\r\n            onClick={handleExactAmount}\r\n          >\r\n            Exact\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Custom Cash Amount */}\r\n      {selectedMethod === 'CASH' && (\r\n        <div className=\"space-y-1.5\">\r\n          <Label className=\"text-xs text-muted-foreground\">Custom Amount</Label>\r\n          <div className=\"flex gap-1.5\">\r\n            <Input\r\n              type=\"number\"\r\n              placeholder=\"Enter amount\"\r\n              value={customAmount}\r\n              onChange={(e) => setCustomAmount(e.target.value)}\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  handleCustomCash();\r\n                }\r\n              }}\r\n              className=\"h-10 text-sm\"\r\n            />\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              className=\"h-10 px-3\"\r\n              onClick={handleCustomCash}\r\n              disabled={!customAmount || parseFloat(customAmount) < total}\r\n            >\r\n              Apply\r\n            </Button>\r\n          </div>\r\n          {cashAmountNum > 0 && (\r\n            <div className=\"p-2 bg-muted rounded-lg\">\r\n              <div className=\"flex justify-between text-xs mb-0.5\">\r\n                <span className=\"text-muted-foreground\">Received:</span>\r\n                <span className=\"font-semibold\">${cashAmountNum.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-base font-bold\">\r\n                <span>Change:</span>\r\n                <span className={cn(change >= 0 ? 'text-green-600' : 'text-red-600')}>\r\n                  ${change >= 0 ? change.toFixed(2) : '0.00'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":2474,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/OrderSummary.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '@/lib/redux/hooks';\r\nimport { clearPosCart } from '@/lib/redux/features/posSlice';\r\nimport { Button } from '@/components/ui/button';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Trash2, Maximize2, ShoppingBag } from 'lucide-react';\r\nimport { removeFromPosCart, updatePosCartQuantity } from '@/lib/redux/features/posSlice';\r\nimport { QuickPaymentButtons } from './QuickPaymentButtons';\r\nimport { CustomerSearch } from './CustomerSearch';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Save } from 'lucide-react';\r\nimport Image from 'next/image';\r\nimport toast from 'react-hot-toast';\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst TAX_RATE = 0.1; // 10% tax\r\nconst DISCOUNT = 10; // $10 discount for demo\r\n\r\nexport function OrderSummary() {\r\n  const dispatch = useAppDispatch();\r\n  const cart = useAppSelector((state) => state.pos.cart);\r\n  const orderType = useAppSelector((state) => state.pos.orderType);\r\n  const locationId = useAppSelector((state) => state.pos.locationId);\r\n  const cashierId = useAppSelector((state) => state.pos.cashierId);\r\n\r\n  const [selectedPaymentMethod] = useState<'CASH' | 'CARD' | 'DIGITAL_WALLET' | 'SPLIT'>('CASH');\r\n  const [cashAmount, setCashAmount] = useState<number | null>(null);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [orderNumber, setOrderNumber] = useState<string>(`#${Date.now().toString().slice(-6)}`);\r\n  const [selectedCustomer, setSelectedCustomer] = useState<{ id: string; name: string | null; email: string } | null>(null);\r\n  const [orderNotes, setOrderNotes] = useState<string>('');\r\n\r\n  const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\r\n  const tax = subtotal * TAX_RATE;\r\n  const discount = DISCOUNT;\r\n  const total = subtotal + tax - discount;\r\n  const change = cashAmount && cashAmount >= total ? cashAmount - total : 0;\r\n\r\n  const handleRemove = (itemId: string) => {\r\n    dispatch(removeFromPosCart(itemId));\r\n  };\r\n\r\n  const handleQuantityChange = (itemId: string, quantity: number) => {\r\n    if (quantity <= 0) {\r\n      dispatch(removeFromPosCart(itemId));\r\n    } else {\r\n      dispatch(updatePosCartQuantity({ id: itemId, quantity }));\r\n    }\r\n  };\r\n\r\n  // Always use CASH payment method - auto-set cash amount to total\r\n  useEffect(() => {\r\n    // Ensure cash amount is set to total if not set and cart has items\r\n    if (cart.length > 0 && total > 0 && !cashAmount) {\r\n      setCashAmount(total);\r\n    }\r\n  }, [cart.length, total]);\r\n\r\n  // Keyboard shortcut: Enter to place order\r\n  useEffect(() => {\r\n    const handleKeyPress = (e: KeyboardEvent) => {\r\n      if (e.key === 'Enter' && cart.length > 0 && !isProcessing) {\r\n        e.preventDefault();\r\n        handlePlaceOrder();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyPress);\r\n    return () => window.removeEventListener('keydown', handleKeyPress);\r\n  }, [cart.length, isProcessing, selectedPaymentMethod, cashAmount, total]);\r\n\r\n  const handlePaymentSelect = (method: 'CASH' | 'CARD' | 'DIGITAL_WALLET' | 'SPLIT', amount?: number) => {\r\n    // Only handle CASH payments\r\n    if (method === 'CASH' && amount) {\r\n      setCashAmount(amount);\r\n    }\r\n  };\r\n\r\n  const handleHoldOrder = async () => {\r\n    if (cart.length === 0) {\r\n      toast.error('Cart is empty');\r\n      return;\r\n    }\r\n\r\n    if (!locationId || !cashierId) {\r\n      toast.error('Location and cashier must be set');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n\r\n    try {\r\n      // Create POS order\r\n      const posOrderResponse = await fetch('/api/pos/orders', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          orderType,\r\n          locationId,\r\n          cashierId,\r\n          customerId: selectedCustomer?.id || null,\r\n          items: cart.map((item) => ({\r\n            productId: item.productId,\r\n            variantId: item.variantId,\r\n            quantity: item.quantity,\r\n            price: item.price,\r\n          })),\r\n          subtotal,\r\n          tax,\r\n          discount,\r\n          total,\r\n          paymentMethod: finalPaymentMethod,\r\n          notes: orderNotes || null,\r\n        }),\r\n      });\r\n\r\n      if (!posOrderResponse.ok) {\r\n        const errorData = await posOrderResponse.json().catch(() => ({}));\r\n        throw new Error(errorData.error || 'Failed to create POS order');\r\n      }\r\n\r\n      const posOrder = await posOrderResponse.json();\r\n\r\n      // Hold the order\r\n      const holdResponse = await fetch(`/api/pos/orders/${posOrder.id}/hold`, {\r\n        method: 'POST',\r\n      });\r\n\r\n      if (!holdResponse.ok) {\r\n        throw new Error('Failed to hold order');\r\n      }\r\n\r\n      toast.success('Order held successfully');\r\n\r\n      // Clear cart and reset\r\n      dispatch(clearPosCart());\r\n      setCashAmount(null);\r\n      setSelectedCustomer(null);\r\n      setOrderNotes('');\r\n      setOrderNumber(`#${Date.now().toString().slice(-6)}`);\r\n    } catch (error) {\r\n      console.error('Error holding order:', error);\r\n      toast.error('Failed to hold order');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handlePlaceOrder = async () => {\r\n    if (cart.length === 0) {\r\n      toast.error('Cart is empty');\r\n      return;\r\n    }\r\n\r\n    if (!locationId || !cashierId) {\r\n      toast.error('Location and cashier must be set');\r\n      return;\r\n    }\r\n\r\n    // Force cash payment method\r\n    const finalPaymentMethod = 'CASH';\r\n    \r\n    // Validate cash payment\r\n    if (!cashAmount || cashAmount < total) {\r\n      toast.error('Cash amount must be at least the total amount');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n\r\n    try {\r\n      // Create POS order\r\n      const posOrderResponse = await fetch('/api/pos/orders', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          orderType,\r\n          locationId,\r\n          cashierId,\r\n          customerId: selectedCustomer?.id || null,\r\n          items: cart.map((item) => ({\r\n            productId: item.productId,\r\n            variantId: item.variantId,\r\n            quantity: item.quantity,\r\n            price: item.price,\r\n          })),\r\n          subtotal,\r\n          tax,\r\n          discount,\r\n          total,\r\n          paymentMethod: finalPaymentMethod,\r\n          paymentDetails: cashAmount\r\n            ? { cashAmount, change }\r\n            : null,\r\n          notes: orderNotes || null,\r\n        }),\r\n      });\r\n\r\n      if (!posOrderResponse.ok) {\r\n        const errorData = await posOrderResponse.json().catch(() => ({}));\r\n        throw new Error(errorData.error || 'Failed to create POS order');\r\n      }\r\n\r\n      const posOrder = await posOrderResponse.json();\r\n\r\n      // Complete the order (sync to main Order system)\r\n      const completeResponse = await fetch(`/api/pos/orders/${posOrder.id}/complete`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          items: cart.map((item) => ({\r\n            productId: item.productId,\r\n            variantId: item.variantId,\r\n            quantity: item.quantity,\r\n            price: item.price,\r\n          })),\r\n          subtotal,\r\n          tax,\r\n          discount,\r\n          total,\r\n        }),\r\n      });\r\n\r\n      if (!completeResponse.ok) {\r\n        const errorData = await completeResponse.json().catch(() => ({}));\r\n        throw new Error(errorData.error || 'Failed to complete order');\r\n      }\r\n\r\n      const { order } = await completeResponse.json();\r\n\r\n      // Process payment\r\n      const paymentResponse = await fetch('/api/pos/payment/process', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          posOrderId: posOrder.id,\r\n          paymentMethod: finalPaymentMethod,\r\n          amount: total,\r\n          paymentDetails: cashAmount\r\n            ? { cashAmount, change }\r\n            : null,\r\n        }),\r\n      });\r\n\r\n      if (!paymentResponse.ok) {\r\n        console.warn('Payment processing failed, but order was created');\r\n      }\r\n\r\n      toast.success(`Order ${order.orderNumber} placed successfully!`);\r\n\r\n      // Clear cart and reset\r\n      dispatch(clearPosCart());\r\n      setCashAmount(null);\r\n      setSelectedCustomer(null);\r\n      setOrderNotes('');\r\n      setOrderNumber(`#${Date.now().toString().slice(-6)}`);\r\n\r\n      // Auto-print receipt if configured (future enhancement)\r\n    } catch (error) {\r\n      console.error('Error processing order:', error);\r\n      toast.error('Failed to process order');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <aside className=\"w-96 border-l bg-background flex flex-col h-full overflow-hidden\">\r\n      <div className=\"p-3 border-b flex items-center justify-between bg-primary/5 flex-shrink-0\">\r\n        <div>\r\n          <h3 className=\"font-semibold text-base\">Order's Summary</h3>\r\n          <p className=\"text-xs text-muted-foreground font-mono\">{orderNumber}</p>\r\n        </div>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\r\n          <Maximize2 className=\"h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"px-3 py-2 border-b bg-muted/30 flex-shrink-0\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <ShoppingBag className=\"h-4 w-4 text-muted-foreground\" />\r\n          <p className=\"text-sm font-semibold\">Items ({cart.length})</p>\r\n        </div>\r\n      </div>\r\n\r\n      <ScrollArea className=\"flex-1 min-h-0 overflow-y-auto\">\r\n        <div className=\"p-3\">\r\n          {cart.length === 0 ? (\r\n            <div className=\"text-center text-muted-foreground py-8\">\r\n              <ShoppingBag className=\"h-10 w-10 mx-auto mb-3 opacity-50\" />\r\n              <p className=\"text-sm\">Cart is empty</p>\r\n              <p className=\"text-xs mt-1\">Add items to get started</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {cart.map((item) => (\r\n                <div\r\n                  key={item.id}\r\n                  className=\"flex items-center gap-2 p-2 rounded-lg border hover:bg-muted/50 transition-colors\"\r\n                >\r\n                  <div className=\"relative w-12 h-12 rounded overflow-hidden bg-muted flex-shrink-0 border\">\r\n                    {item.image && (\r\n                      <Image\r\n                        src={item.image}\r\n                        alt={item.name}\r\n                        fill\r\n                        className=\"object-cover\"\r\n                        sizes=\"48px\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <p className=\"text-sm font-medium truncate\">{item.name}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      ${item.price.toFixed(2)}  {item.quantity} = ${(item.price * item.quantity).toFixed(2)}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-0.5\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"icon\"\r\n                      className=\"h-8 w-8\"\r\n                      onClick={() => handleQuantityChange(item.id, item.quantity - 1)}\r\n                      title=\"Decrease quantity\"\r\n                    >\r\n                      <span className=\"text-base font-bold\"></span>\r\n                    </Button>\r\n                    <div className=\"w-8 text-center\">\r\n                      <span className=\"text-sm font-bold\">{item.quantity}</span>\r\n                    </div>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"icon\"\r\n                      className=\"h-8 w-8\"\r\n                      onClick={() => handleQuantityChange(item.id, item.quantity + 1)}\r\n                      title=\"Increase quantity\"\r\n                    >\r\n                      <span className=\"text-base font-bold\">+</span>\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10\"\r\n                      onClick={() => handleRemove(item.id)}\r\n                      title=\"Remove item\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </ScrollArea>\r\n\r\n      <div className=\"p-3 border-t space-y-3 bg-muted/20 flex-shrink-0 overflow-y-auto max-h-[60vh]\">\r\n        {/* Payment Summary */}\r\n        <div className=\"space-y-1.5\">\r\n          <div className=\"flex justify-between text-xs\">\r\n            <span className=\"text-muted-foreground\">Price:</span>\r\n            <span className=\"font-medium\">${subtotal.toFixed(2)}</span>\r\n          </div>\r\n          <div className=\"flex justify-between text-xs\">\r\n            <span className=\"text-muted-foreground\">Taxes:</span>\r\n            <span className=\"font-medium\">${tax.toFixed(2)}</span>\r\n          </div>\r\n          <div className=\"flex justify-between text-xs\">\r\n            <span className=\"text-muted-foreground\">Discount:</span>\r\n            <span className=\"font-medium text-green-600\">-${discount.toFixed(2)}</span>\r\n          </div>\r\n          <div className=\"flex justify-between text-xl font-bold pt-1.5 border-t\">\r\n            <span>Total:</span>\r\n            <span className=\"text-primary\">${total.toFixed(2)}</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Order Notes */}\r\n        {cart.length > 0 && (\r\n          <div className=\"space-y-2\">\r\n            <Label className=\"text-xs font-semibold\">Order Notes (Optional)</Label>\r\n            <textarea\r\n              className=\"w-full min-h-[60px] p-2 text-sm border rounded-md resize-none\"\r\n              placeholder=\"Add special instructions or notes...\"\r\n              value={orderNotes}\r\n              onChange={(e) => setOrderNotes(e.target.value)}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Quick Payment Buttons */}\r\n        {cart.length > 0 && (\r\n          <div className=\"space-y-2\">\r\n            <Label className=\"text-xs font-semibold\">Payment Method</Label>\r\n            <QuickPaymentButtons\r\n              total={total}\r\n              onPaymentSelect={handlePaymentSelect}\r\n              defaultMethod={selectedPaymentMethod}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            className={cn(\r\n              'flex-1 h-12 text-sm font-semibold',\r\n              cart.length === 0 && 'opacity-50 cursor-not-allowed'\r\n            )}\r\n            onClick={handleHoldOrder}\r\n            disabled={cart.length === 0 || isProcessing}\r\n          >\r\n            <Save className=\"h-4 w-4 mr-2\" />\r\n            Hold\r\n          </Button>\r\n          <Button\r\n            className={cn(\r\n              'flex-1 h-14 text-base font-bold',\r\n              cart.length === 0 && 'opacity-50 cursor-not-allowed'\r\n            )}\r\n            size=\"lg\"\r\n            onClick={handlePlaceOrder}\r\n            disabled={cart.length === 0 || isProcessing || !cashAmount || cashAmount < total}\r\n          >\r\n            {isProcessing ? (\r\n              'Processing...'\r\n            ) : (\r\n              <>\r\n                Place Order {cart.length > 0 && `(${cart.length})`}\r\n                <span className=\"ml-2 text-xs font-normal opacity-75\">(Enter)</span>\r\n              </>\r\n            )}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":3303,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/lib/pos/keyboard-shortcuts.ts"],"sourcesContent":["'use client';\r\n\r\nexport type ShortcutAction = \r\n  | 'add-item'\r\n  | 'place-order'\r\n  | 'clear-cart'\r\n  | 'payment-cash'\r\n  | 'payment-card'\r\n  | 'payment-digital'\r\n  | 'increase-quantity'\r\n  | 'decrease-quantity'\r\n  | 'remove-item'\r\n  | 'navigate-up'\r\n  | 'navigate-down'\r\n  | 'navigate-left'\r\n  | 'navigate-right';\r\n\r\nexport interface KeyboardShortcut {\r\n  key: string;\r\n  ctrl?: boolean;\r\n  shift?: boolean;\r\n  alt?: boolean;\r\n  action: ShortcutAction;\r\n  description: string;\r\n}\r\n\r\nexport const defaultShortcuts: KeyboardShortcut[] = [\r\n  {\r\n    key: 'Enter',\r\n    action: 'place-order',\r\n    description: 'Place order',\r\n  },\r\n  {\r\n    key: 'Escape',\r\n    action: 'clear-cart',\r\n    description: 'Clear cart',\r\n  },\r\n  {\r\n    key: 'F1',\r\n    action: 'payment-cash',\r\n    description: 'Cash payment',\r\n  },\r\n  {\r\n    key: 'F2',\r\n    action: 'payment-card',\r\n    description: 'Card payment',\r\n  },\r\n  {\r\n    key: 'F3',\r\n    action: 'payment-digital',\r\n    description: 'Digital wallet',\r\n  },\r\n  {\r\n    key: 'ArrowUp',\r\n    action: 'navigate-up',\r\n    description: 'Navigate up',\r\n  },\r\n  {\r\n    key: 'ArrowDown',\r\n    action: 'navigate-down',\r\n    description: 'Navigate down',\r\n  },\r\n  {\r\n    key: 'ArrowLeft',\r\n    action: 'navigate-left',\r\n    description: 'Navigate left',\r\n  },\r\n  {\r\n    key: 'ArrowRight',\r\n    action: 'navigate-right',\r\n    description: 'Navigate right',\r\n  },\r\n  {\r\n    key: '+',\r\n    action: 'increase-quantity',\r\n    description: 'Increase quantity',\r\n  },\r\n  {\r\n    key: '-',\r\n    action: 'decrease-quantity',\r\n    description: 'Decrease quantity',\r\n  },\r\n  {\r\n    key: 'Delete',\r\n    action: 'remove-item',\r\n    description: 'Remove item',\r\n  },\r\n];\r\n\r\nexport function getNumberKeyQuantity(key: string): number | null {\r\n  const num = parseInt(key);\r\n  if (!isNaN(num) && num >= 1 && num <= 9) {\r\n    return num;\r\n  }\r\n  return null;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;AAAA;AA0BO,MAAM,mBAAuC;IAClD;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;IACA;QACE,KAAK;QACL,QAAQ;QACR,aAAa;IACf;CACD;AAEM,SAAS,qBAAqB,GAAW;IAC9C,MAAM,MAAM,SAAS;IACrB,IAAI,CAAC,MAAM,QAAQ,OAAO,KAAK,OAAO,GAAG;QACvC,OAAO;IACT;IACA,OAAO;AACT"}},{"offset":{"line":3386,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/KeyboardShortcuts.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useCallback } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '@/lib/redux/hooks';\r\nimport { clearPosCart, removeFromPosCart, updatePosCartQuantity } from '@/lib/redux/features/posSlice';\r\nimport { defaultShortcuts, getNumberKeyQuantity, type ShortcutAction } from '@/lib/pos/keyboard-shortcuts';\r\n\r\ninterface KeyboardShortcutsProps {\r\n  onPlaceOrder?: () => void;\r\n  onPaymentSelect?: (method: 'CASH' | 'CARD' | 'DIGITAL_WALLET') => void;\r\n  onNavigate?: (direction: 'up' | 'down' | 'left' | 'right') => void;\r\n  enabled?: boolean;\r\n}\r\n\r\nexport function KeyboardShortcuts({\r\n  onPlaceOrder,\r\n  onPaymentSelect,\r\n  onNavigate,\r\n  enabled = true,\r\n}: KeyboardShortcutsProps) {\r\n  const dispatch = useAppDispatch();\r\n  const cart = useAppSelector((state) => state.pos.cart);\r\n\r\n  const handleShortcut = useCallback(\r\n    (action: ShortcutAction, e: KeyboardEvent) => {\r\n      if (!enabled) return;\r\n\r\n      switch (action) {\r\n        case 'place-order':\r\n          e.preventDefault();\r\n          onPlaceOrder?.();\r\n          break;\r\n        case 'clear-cart':\r\n          e.preventDefault();\r\n          if (confirm('Clear cart?')) {\r\n            dispatch(clearPosCart());\r\n          }\r\n          break;\r\n        case 'payment-cash':\r\n          e.preventDefault();\r\n          onPaymentSelect?.('CASH');\r\n          break;\r\n        case 'payment-card':\r\n          e.preventDefault();\r\n          onPaymentSelect?.('CARD');\r\n          break;\r\n        case 'payment-digital':\r\n          e.preventDefault();\r\n          onPaymentSelect?.('DIGITAL_WALLET');\r\n          break;\r\n        case 'increase-quantity':\r\n          if (cart.length > 0) {\r\n            const lastItem = cart[cart.length - 1];\r\n            dispatch(updatePosCartQuantity({ id: lastItem.id, quantity: lastItem.quantity + 1 }));\r\n          }\r\n          break;\r\n        case 'decrease-quantity':\r\n          if (cart.length > 0) {\r\n            const lastItem = cart[cart.length - 1];\r\n            if (lastItem.quantity > 1) {\r\n              dispatch(updatePosCartQuantity({ id: lastItem.id, quantity: lastItem.quantity - 1 }));\r\n            } else {\r\n              dispatch(removeFromPosCart(lastItem.id));\r\n            }\r\n          }\r\n          break;\r\n        case 'remove-item':\r\n          if (cart.length > 0) {\r\n            const lastItem = cart[cart.length - 1];\r\n            dispatch(removeFromPosCart(lastItem.id));\r\n          }\r\n          break;\r\n        case 'navigate-up':\r\n          onNavigate?.('up');\r\n          break;\r\n        case 'navigate-down':\r\n          onNavigate?.('down');\r\n          break;\r\n        case 'navigate-left':\r\n          onNavigate?.('left');\r\n          break;\r\n        case 'navigate-right':\r\n          onNavigate?.('right');\r\n          break;\r\n      }\r\n    },\r\n    [enabled, dispatch, cart, onPlaceOrder, onPaymentSelect, onNavigate]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!enabled) return;\r\n\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      // Check for number keys (1-9) for quantity\r\n      const quantity = getNumberKeyQuantity(e.key);\r\n      if (quantity && cart.length > 0 && !e.ctrlKey && !e.altKey && !e.shiftKey) {\r\n        const lastItem = cart[cart.length - 1];\r\n        dispatch(updatePosCartQuantity({ id: lastItem.id, quantity }));\r\n        return;\r\n      }\r\n\r\n      // Check for shortcuts\r\n      for (const shortcut of defaultShortcuts) {\r\n        const keyMatch = shortcut.key === e.key || shortcut.key.toLowerCase() === e.key.toLowerCase();\r\n        const ctrlMatch = shortcut.ctrl ? e.ctrlKey : !e.ctrlKey;\r\n        const shiftMatch = shortcut.shift ? e.shiftKey : !e.shiftKey;\r\n        const altMatch = shortcut.alt ? e.altKey : !e.altKey;\r\n\r\n        if (keyMatch && ctrlMatch && shiftMatch && altMatch) {\r\n          handleShortcut(shortcut.action, e);\r\n          break;\r\n        }\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [enabled, cart, dispatch, handleShortcut]);\r\n\r\n  return null; // This component doesn't render anything\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":3539,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/components/admin/pos/POSLayout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useSession } from 'next-auth/react';\r\nimport { POSHeader } from './POSHeader';\r\nimport { POSSidebar } from './POSSidebar';\r\nimport { SalesAnalytics } from './SalesAnalytics';\r\nimport { HeldOrdersList } from './HeldOrdersList';\r\nimport { MenuItems } from './MenuItems';\r\nimport { OrderSummary } from './OrderSummary';\r\nimport { KeyboardShortcuts } from './KeyboardShortcuts';\r\nimport { useAppSelector, useAppDispatch } from '@/lib/redux/hooks';\r\nimport { setLocation, setCashier } from '@/lib/redux/features/posSlice';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport function POSLayout() {\r\n  const { data: session } = useSession();\r\n  const dispatch = useAppDispatch();\r\n  const locationId = useAppSelector((state) => state.pos.locationId);\r\n  const cashierId = useAppSelector((state) => state.pos.cashierId);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [locationName, setLocationName] = useState<string | null>(null);\r\n  const placeOrderRef = useRef<() => void>();\r\n\r\n  useEffect(() => {\r\n    // Initialize location and cashier from current user\r\n    const initializePOS = async () => {\r\n      try {\r\n        // Try to get current user's cashier record\r\n        const response = await fetch('/api/pos/cashiers/me');\r\n        if (response.ok) {\r\n          const cashier = await response.json();\r\n          if (cashier) {\r\n            dispatch(setLocation(cashier.locationId));\r\n            dispatch(setCashier(cashier.id));\r\n            setLocationName(cashier.location?.name || null);\r\n          }\r\n        } else if (response.status === 404) {\r\n          // No cashier record found - try to get first available location and cashier\r\n          const [locationsRes, cashiersRes] = await Promise.all([\r\n            fetch('/api/pos/locations'),\r\n            fetch('/api/pos/cashiers'),\r\n          ]);\r\n\r\n          if (locationsRes.ok && cashiersRes.ok) {\r\n            const locations = await locationsRes.json();\r\n            const cashiers = await cashiersRes.json();\r\n\r\n            // Set first active location if available\r\n            const activeLocation = locations?.find((loc: any) => loc.isActive);\r\n            if (activeLocation) {\r\n              dispatch(setLocation(activeLocation.id));\r\n              setLocationName(activeLocation.name);\r\n\r\n              // Set first active cashier for this location\r\n              const locationCashier = cashiers?.find(\r\n                (cashier: any) => cashier.locationId === activeLocation.id && cashier.isActive\r\n              );\r\n              if (locationCashier) {\r\n                dispatch(setCashier(locationCashier.id));\r\n              } else if (cashiers?.length > 0 && cashiers[0]?.isActive) {\r\n                // Fallback to first active cashier\r\n                dispatch(setCashier(cashiers[0].id));\r\n              }\r\n            } else {\r\n              toast.error('No active location found. Please create a location first.');\r\n            }\r\n          }\r\n        } else {\r\n          toast.error('Failed to load POS session');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error initializing POS:', error);\r\n        toast.error('Failed to initialize POS session');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (session) {\r\n      initializePOS();\r\n    } else {\r\n      setIsLoading(false);\r\n    }\r\n  }, [session, dispatch]);\r\n\r\n  const handlePlaceOrder = () => {\r\n    // This will be called by OrderSummary via ref\r\n    placeOrderRef.current?.();\r\n  };\r\n\r\n  const handlePaymentSelect = (method: 'CASH' | 'CARD' | 'DIGITAL_WALLET') => {\r\n    // Payment selection handled in OrderSummary\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex h-screen items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\r\n          <p className=\"mt-4 text-muted-foreground\">Loading POS...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-screen flex flex-col bg-background\">\r\n      <KeyboardShortcuts\r\n        onPlaceOrder={handlePlaceOrder}\r\n        onPaymentSelect={handlePaymentSelect}\r\n        enabled={true}\r\n      />\r\n      <POSHeader locationName={locationName} />\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        <POSSidebar />\r\n        <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n          <div className=\"flex-1 overflow-y-auto p-6\">\r\n            <SalesAnalytics />\r\n            <div className=\"mt-6\">\r\n              <MenuItems />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <OrderSummary />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},{"offset":{"line":3784,"column":0},"url":null,"map":{"version":3,"sources":["file:///C:/laragon/www/claude/ecommerce-platform/src/app/admin/pos/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { POSLayout } from '@/components/admin/pos/POSLayout';\r\n\r\nexport default function POSPage() {\r\n  return <POSLayout />;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBAAO,6LAAC,+JAAS;;;;;AACnB;KAFwB"}}],"debugId":"612e4598-ecea-5ba0-a0d2-12a2ba02fe61"}