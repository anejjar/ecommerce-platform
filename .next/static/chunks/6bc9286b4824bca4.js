(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,515288,e=>{"use strict";var r=e.i(843476),t=e.i(975157);function a({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",e),...a})}function s({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function o({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function l({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}function i({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>n,"CardFooter",()=>i,"CardHeader",()=>s,"CardTitle",()=>o])},793479,e=>{"use strict";var r=e.i(843476),t=e.i(975157);function a({className:e,type:a,...s}){return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>a])},110204,e=>{"use strict";var r=e.i(843476),t=e.i(271645);e.i(174080);var a=e.i(991918),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let o=(0,a.createSlot)(`Primitive.${s}`),n=t.forwardRef((e,t)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(a?o:s,{...n,ref:t})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{}),o=t.forwardRef((e,t)=>(0,r.jsx)(s.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var n=e.i(975157);function l({className:e,...t}){return(0,r.jsx)(o,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none mb-2 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>l],110204)},356909,e=>{"use strict";var r=e.i(251854);e.s(["Save",()=>r.default])},531278,717521,e=>{"use strict";let r=(0,e.i(475254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>r],717521),e.s(["Loader2",()=>r],531278)},251854,e=>{"use strict";let r=(0,e.i(475254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["default",()=>r])},643531,e=>{"use strict";var r=e.i(678745);e.s(["Check",()=>r.default])},337822,e=>{"use strict";let r,t,a;var s=e.i(843476),o=e.i(271645),n=e.i(981140),l=e.i(820783),i=e.i(30030),d=e.i(726330),c=e.i(303536),u=e.i(765491),m=e.i(610772),p=e.i(853660),h=e.i(774606),f=e.i(296626),x=e.i(248425),g=Symbol("radix.slottable");function v(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===g}var b=e.i(369340),j=e.i(186312),C=e.i(985369),y="Popover",[N,w]=(0,i.createContextScope)(y,[p.createPopperScope]),P=(0,p.createPopperScope)(),[k,S]=N(y),F=e=>{let{__scopePopover:r,children:t,open:a,defaultOpen:n,onOpenChange:l,modal:i=!1}=e,d=P(r),c=o.useRef(null),[u,h]=o.useState(!1),[f,x]=(0,b.useControllableState)({prop:a,defaultProp:n??!1,onChange:l,caller:y});return(0,s.jsx)(p.Root,{...d,children:(0,s.jsx)(k,{scope:r,contentId:(0,m.useId)(),triggerRef:c,open:f,onOpenChange:x,onOpenToggle:o.useCallback(()=>x(e=>!e),[x]),hasCustomAnchor:u,onCustomAnchorAdd:o.useCallback(()=>h(!0),[]),onCustomAnchorRemove:o.useCallback(()=>h(!1),[]),modal:i,children:t})})};F.displayName=y;var R="PopoverAnchor";o.forwardRef((e,r)=>{let{__scopePopover:t,...a}=e,n=S(R,t),l=P(t),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=n;return o.useEffect(()=>(i(),()=>d()),[i,d]),(0,s.jsx)(p.Anchor,{...l,...a,ref:r})}).displayName=R;var T="PopoverTrigger",E=o.forwardRef((e,r)=>{let{__scopePopover:t,...a}=e,o=S(T,t),i=P(t),d=(0,l.useComposedRefs)(r,o.triggerRef),c=(0,s.jsx)(x.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":V(o.open),...a,ref:d,onClick:(0,n.composeEventHandlers)(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:(0,s.jsx)(p.Anchor,{asChild:!0,...i,children:c})});E.displayName=T;var A="PopoverPortal",[L,O]=N(A,{forceMount:void 0}),D=e=>{let{__scopePopover:r,forceMount:t,children:a,container:o}=e,n=S(A,r);return(0,s.jsx)(L,{scope:r,forceMount:t,children:(0,s.jsx)(f.Presence,{present:t||n.open,children:(0,s.jsx)(h.Portal,{asChild:!0,container:o,children:a})})})};D.displayName=A;var M="PopoverContent",B=o.forwardRef((e,r)=>{let t=O(M,e.__scopePopover),{forceMount:a=t.forceMount,...o}=e,n=S(M,e.__scopePopover);return(0,s.jsx)(f.Presence,{present:a||n.open,children:n.modal?(0,s.jsx)(z,{...o,ref:r}):(0,s.jsx)(I,{...o,ref:r})})});B.displayName=M;var H=((a=o.forwardRef((e,r)=>{let{children:t,...a}=e;if(o.isValidElement(t)){var s;let e,n,i=(s=t,(n=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(n=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),d=function(e,r){let t={...r};for(let a in r){let s=e[a],o=r[a];/^on[A-Z]/.test(a)?s&&o?t[a]=(...e)=>{let r=o(...e);return s(...e),r}:s&&(t[a]=s):"style"===a?t[a]={...s,...o}:"className"===a&&(t[a]=[s,o].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==o.Fragment&&(d.ref=r?(0,l.composeRefs)(r,i):i),o.cloneElement(t,d)}return o.Children.count(t)>1?o.Children.only(null):null})).displayName="PopoverContent.RemoveScroll.SlotClone",r=a,(t=o.forwardRef((e,t)=>{let{children:a,...n}=e,l=o.Children.toArray(a),i=l.find(v);if(i){let e=i.props.children,a=l.map(r=>r!==i?r:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...n,ref:t,children:o.isValidElement(e)?o.cloneElement(e,void 0,a):null})}return(0,s.jsx)(r,{...n,ref:t,children:a})})).displayName="PopoverContent.RemoveScroll.Slot",t),z=o.forwardRef((e,r)=>{let t=S(M,e.__scopePopover),a=o.useRef(null),i=(0,l.useComposedRefs)(r,a),d=o.useRef(!1);return o.useEffect(()=>{let e=a.current;if(e)return(0,j.hideOthers)(e)},[]),(0,s.jsx)(C.RemoveScroll,{as:H,allowPinchZoom:!0,children:(0,s.jsx)(_,{...e,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),d.current||t.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(e.onPointerDownOutside,e=>{let r=e.detail.originalEvent,t=0===r.button&&!0===r.ctrlKey;d.current=2===r.button||t},{checkForDefaultPrevented:!1}),onFocusOutside:(0,n.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),I=o.forwardRef((e,r)=>{let t=S(M,e.__scopePopover),a=o.useRef(!1),n=o.useRef(!1);return(0,s.jsx)(_,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{e.onCloseAutoFocus?.(r),r.defaultPrevented||(a.current||t.triggerRef.current?.focus(),r.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:r=>{e.onInteractOutside?.(r),r.defaultPrevented||(a.current=!0,"pointerdown"===r.detail.originalEvent.type&&(n.current=!0));let s=r.target;t.triggerRef.current?.contains(s)&&r.preventDefault(),"focusin"===r.detail.originalEvent.type&&n.current&&r.preventDefault()}})}),_=o.forwardRef((e,r)=>{let{__scopePopover:t,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:n,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:f,...x}=e,g=S(M,t),v=P(t);return(0,c.useFocusGuards)(),(0,s.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:n,children:(0,s.jsx)(d.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:(0,s.jsx)(p.Content,{"data-state":V(g.open),role:"dialog",id:g.contentId,...v,...x,ref:r,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$="PopoverClose";function V(e){return e?"open":"closed"}o.forwardRef((e,r)=>{let{__scopePopover:t,...a}=e,o=S($,t);return(0,s.jsx)(x.Primitive.button,{type:"button",...a,ref:r,onClick:(0,n.composeEventHandlers)(e.onClick,()=>o.onOpenChange(!1))})}).displayName=$,o.forwardRef((e,r)=>{let{__scopePopover:t,...a}=e,o=P(t);return(0,s.jsx)(p.Arrow,{...o,...a,ref:r})}).displayName="PopoverArrow";var W=e.i(975157);function U({...e}){return(0,s.jsx)(F,{"data-slot":"popover",...e})}function G({...e}){return(0,s.jsx)(E,{"data-slot":"popover-trigger",...e})}function K({className:e,align:r="center",sideOffset:t=4,...a}){return(0,s.jsx)(D,{children:(0,s.jsx)(B,{"data-slot":"popover-content",align:r,sideOffset:t,className:(0,W.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}e.s(["Popover",()=>U,"PopoverContent",()=>K,"PopoverTrigger",()=>G],337822)},514383,e=>{"use strict";var r=e.i(843476),t=e.i(271645),a=e.i(337822),s=e.i(793479),o=e.i(519455),n=e.i(975157),l=e.i(643531);let i=["#000000","#374151","#6b7280","#9ca3af","#d1d5db","#f3f4f6","#ffffff","#ef4444","#f59e0b","#eab308","#22c55e","#3b82f6","#6366f1","#8b5cf6","#ec4899","#dc2626","#d97706","#ca8a04","#16a34a","#2563eb","#4f46e5","#7c3aed","#db2777","#991b1b","#92400e","#854d0e","#15803d","#1e40af","#3730a3","#6d28d9","#be185d"];function d({value:e,onChange:d,disabled:c=!1,className:u,showPresets:m=!0}){let[p,h]=t.useState(!1),[f,x]=t.useState(e||"#000000");return t.useEffect(()=>{x(e||"#000000")},[e]),(0,r.jsxs)(a.Popover,{open:p,onOpenChange:h,children:[(0,r.jsx)(a.PopoverTrigger,{asChild:!0,children:(0,r.jsx)(o.Button,{type:"button",variant:"outline",disabled:c,className:(0,n.cn)("w-full justify-start text-left font-normal h-10",!e&&"text-muted-foreground",u),children:(0,r.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,r.jsx)("div",{className:"h-5 w-5 rounded border border-gray-300 shrink-0",style:{backgroundColor:e||"#000000"}}),(0,r.jsx)("span",{className:"font-mono text-sm flex-1 text-left",children:e||"#000000"})]})})}),(0,r.jsx)(a.PopoverContent,{className:"w-80 p-4",align:"start",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Color Picker"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,r.jsx)("div",{className:"w-full h-32 rounded-md border-2 border-gray-200",style:{backgroundColor:f}})}),(0,r.jsx)("input",{type:"color",value:f,onChange:e=>{let r=e.target.value;x(r),d(r)},className:"w-full h-32 opacity-0 cursor-pointer",disabled:c})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Hex Code"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(s.Input,{type:"text",value:f,onChange:e=>(e=>{let r=e.replace("#","");if(/^[0-9A-Fa-f]{0,6}$/.test(r))if(6===r.length||3===r.length){let e=3===r.length?r.split("").map(e=>e+e).join(""):r,t=`#${e}`;x(t),d(t)}else x(`#${r}`)})(e.target.value),placeholder:"#000000",className:"font-mono",disabled:c,maxLength:7}),(0,r.jsx)(o.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!1),className:"shrink-0",children:(0,r.jsx)(l.Check,{className:"w-4 h-4"})})]})]}),m&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Presets"}),(0,r.jsx)("div",{className:"grid grid-cols-8 gap-2",children:i.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>{x(e),d(e)},className:(0,n.cn)("h-8 w-8 rounded border-2 transition-all hover:scale-110",f.toLowerCase()===e.toLowerCase()?"border-gray-900 ring-2 ring-offset-2 ring-gray-400":"border-gray-200 hover:border-gray-400"),style:{backgroundColor:e},disabled:c,title:e},e))})]})]})})]})}function c({value:e,onChange:d,disabled:c=!1,className:u}){let[m,p]=t.useState(!1),[h,f]=t.useState(e||"#000000");return t.useEffect(()=>{f(e||"#000000")},[e]),(0,r.jsxs)("div",{className:(0,n.cn)("flex gap-2",u),children:[(0,r.jsxs)(a.Popover,{open:m,onOpenChange:p,children:[(0,r.jsx)(a.PopoverTrigger,{asChild:!0,children:(0,r.jsx)("button",{type:"button",disabled:c,className:(0,n.cn)("h-10 w-20 rounded-md border-2 border-gray-300 cursor-pointer transition-all hover:scale-105 hover:border-gray-400",c&&"opacity-50 cursor-not-allowed"),style:{backgroundColor:e||"#000000"},title:"Click to open color picker"})}),(0,r.jsx)(a.PopoverContent,{className:"w-80 p-4",align:"start",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Color Picker"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,r.jsx)("div",{className:"w-full h-32 rounded-md border-2 border-gray-200",style:{backgroundColor:h}})}),(0,r.jsx)("input",{type:"color",value:h,onChange:e=>{let r=e.target.value;f(r),d(r)},className:"w-full h-32 opacity-0 cursor-pointer",disabled:c})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Hex Code"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(s.Input,{type:"text",value:h,onChange:e=>(e=>{let r=e.replace("#","");if(/^[0-9A-Fa-f]{0,6}$/.test(r))if(6===r.length||3===r.length){let e=3===r.length?r.split("").map(e=>e+e).join(""):r,t=`#${e}`;f(t),d(t)}else f(`#${r}`)})(e.target.value),placeholder:"#000000",className:"font-mono",disabled:c,maxLength:7}),(0,r.jsx)(o.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>p(!1),className:"shrink-0",children:(0,r.jsx)(l.Check,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Presets"}),(0,r.jsx)("div",{className:"grid grid-cols-8 gap-2",children:i.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>{f(e),d(e)},className:(0,n.cn)("h-8 w-8 rounded border-2 transition-all hover:scale-110",h.toLowerCase()===e.toLowerCase()?"border-gray-900 ring-2 ring-offset-2 ring-gray-400":"border-gray-200 hover:border-gray-400"),style:{backgroundColor:e},disabled:c,title:e},e))})]})]})})]}),(0,r.jsx)(s.Input,{type:"text",value:e||"#000000",onChange:e=>d(e.target.value),placeholder:"#000000",className:"font-mono flex-1",disabled:c})]})}e.s(["ColorPicker",()=>d,"CompactColorPicker",()=>c])},4565,e=>{"use strict";var r=e.i(843476),t=e.i(271645),a=e.i(515288),s=e.i(519455),o=e.i(110204),n=e.i(531278),l=e.i(356909),i=e.i(647780),d=e.i(705766),c=e.i(217255),u=e.i(514383);function m(){let{data:e,status:m}=(0,c.useSession)(),[p,h]=(0,t.useState)(!0),[f,x]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[b,j]=(0,t.useState)(null),[C,y]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),[P,k]=(0,t.useState)({primary:"#111827",secondary:"#6b7280",accent:"#3b82f6",background:"#ffffff",surface:"#f9fafb",textPrimary:"#111827",textSecondary:"#6b7280",textMuted:"#9ca3af",border:"#e5e7eb",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6"});(0,t.useEffect)(()=>{"authenticated"===m&&S()},[m]);let S=async()=>{try{h(!0);let e=await fetch("/api/themes/active");if(e.ok){let r=await e.json();r.theme&&(v(r.theme),k({primary:r.theme.colors?.primary||"#111827",secondary:r.theme.colors?.secondary||"#6b7280",accent:r.theme.colors?.accent||"#3b82f6",background:r.theme.colors?.background||"#ffffff",surface:r.theme.colors?.surface||"#f9fafb",textPrimary:r.theme.colors?.text?.primary||"#111827",textSecondary:r.theme.colors?.text?.secondary||"#6b7280",textMuted:r.theme.colors?.text?.muted||"#9ca3af",border:r.theme.colors?.border||"#e5e7eb",success:r.theme.colors?.success||"#10b981",warning:r.theme.colors?.warning||"#f59e0b",error:r.theme.colors?.error||"#ef4444",info:r.theme.colors?.info||"#3b82f6"}))}let r=await fetch("/api/admin/themes");if(r.ok){let e=await r.json(),t=e.themes?.find(e=>e.isActive);t&&(j(t.id),y(t.isBuiltIn||!1))}}catch(e){console.error("Error fetching theme:",e),d.default.error("Failed to load theme")}finally{h(!1)}},F=(e,r)=>{k(t=>({...t,[e]:r}))},R=async()=>{if(!b)return void d.default.error("No active theme found.");w(!0);try{let e=await fetch(`/api/admin/themes/${b}/duplicate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:`${g?.metadata?.name||"Custom"} Theme`,activate:!0})});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to create custom theme")}let{theme:r}=await e.json();d.default.success("Custom theme created and activated! You can now customize colors."),setTimeout(()=>{window.location.reload()},1e3)}catch(e){console.error("Error creating custom theme:",e),d.default.error(e.message||"Failed to create custom theme")}finally{w(!1)}},T=async e=>{if(e.preventDefault(),!b)return void d.default.error("No active theme found. Please activate a theme first.");if(C)return void d.default.error("Cannot edit built-in themes. Please create or activate a custom theme first.");x(!0);try{let e=await fetch(`/api/admin/themes/${b}`);if(!e.ok)throw Error("Failed to fetch theme");let{theme:r}=await e.json(),t=r.themeConfig||{},a={...t,colors:{...t.colors,primary:P.primary,secondary:P.secondary,accent:P.accent,background:P.background,surface:P.surface,text:{primary:P.textPrimary,secondary:P.textSecondary,muted:P.textMuted},border:P.border,success:P.success,warning:P.warning,error:P.error,info:P.info}},s=await fetch(`/api/admin/themes/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({themeConfig:a})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to update theme")}d.default.success("Color palette updated successfully"),setTimeout(()=>{window.location.reload()},1e3)}catch(e){console.error("Error updating colors:",e),d.default.error(e.message||"Failed to update color palette")}finally{x(!1)}};return"loading"===m||p?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin"})}):b?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Appearance Settings"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Customize your storefront color palette. Changes will apply to the active theme."})]}),C&&(0,r.jsx)(a.Card,{className:"border-amber-200 bg-amber-50",children:(0,r.jsx)(a.CardContent,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"text-amber-600 mt-0.5",children:"⚠️"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-amber-900 mb-1",children:"Built-in Theme"}),(0,r.jsx)("p",{className:"text-sm text-amber-800 mb-4",children:"You're currently using a built-in theme. To customize colors, create a custom copy of this theme."}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(s.Button,{type:"button",size:"sm",onClick:R,disabled:N,children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Palette,{className:"w-4 h-4 mr-2"}),"Create Custom Theme"]})}),(0,r.jsx)(s.Button,{type:"button",variant:"outline",size:"sm",asChild:!0,children:(0,r.jsx)("a",{href:"/admin/themes",children:"Go to Themes"})})]})]})]})})}),(0,r.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,r.jsxs)(a.Card,{children:[(0,r.jsxs)(a.CardHeader,{children:[(0,r.jsx)(a.CardTitle,{children:"Primary Colors"}),(0,r.jsx)(a.CardDescription,{children:"Main brand colors used throughout the storefront"})]}),(0,r.jsx)(a.CardContent,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"primary",children:"Primary Color"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Main brand color for buttons and accents"}),(0,r.jsx)(u.CompactColorPicker,{value:P.primary,onChange:e=>F("primary",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"secondary",children:"Secondary Color"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Secondary brand color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.secondary,onChange:e=>F("secondary",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"accent",children:"Accent Color"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Highlight and accent color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.accent,onChange:e=>F("accent",e),disabled:C})]})]})})]}),(0,r.jsxs)(a.Card,{children:[(0,r.jsxs)(a.CardHeader,{children:[(0,r.jsx)(a.CardTitle,{children:"Background Colors"}),(0,r.jsx)(a.CardDescription,{children:"Page and surface background colors"})]}),(0,r.jsx)(a.CardContent,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"background",children:"Background Color"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Main page background"}),(0,r.jsx)(u.CompactColorPicker,{value:P.background,onChange:e=>F("background",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"surface",children:"Surface Color"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Card and surface backgrounds"}),(0,r.jsx)(u.CompactColorPicker,{value:P.surface,onChange:e=>F("surface",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"border",children:"Border Color"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Border and divider color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.border,onChange:e=>F("border",e),disabled:C})]})]})})]}),(0,r.jsxs)(a.Card,{children:[(0,r.jsxs)(a.CardHeader,{children:[(0,r.jsx)(a.CardTitle,{children:"Text Colors"}),(0,r.jsx)(a.CardDescription,{children:"Typography and text color hierarchy"})]}),(0,r.jsx)(a.CardContent,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"textPrimary",children:"Primary Text"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Main text color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.textPrimary,onChange:e=>F("textPrimary",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"textSecondary",children:"Secondary Text"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Secondary text color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.textSecondary,onChange:e=>F("textSecondary",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"textMuted",children:"Muted Text"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Muted/disabled text color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.textMuted,onChange:e=>F("textMuted",e),disabled:C})]})]})})]}),(0,r.jsxs)(a.Card,{children:[(0,r.jsxs)(a.CardHeader,{children:[(0,r.jsx)(a.CardTitle,{children:"Status Colors"}),(0,r.jsx)(a.CardDescription,{children:"Colors for success, warning, error, and info states"})]}),(0,r.jsx)(a.CardContent,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"success",children:"Success Color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.success,onChange:e=>F("success",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"warning",children:"Warning Color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.warning,onChange:e=>F("warning",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"error",children:"Error Color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.error,onChange:e=>F("error",e),disabled:C})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.Label,{htmlFor:"info",children:"Info Color"}),(0,r.jsx)(u.CompactColorPicker,{value:P.info,onChange:e=>F("info",e),disabled:C})]})]})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>S(),disabled:f,children:"Reset"}),(0,r.jsx)(s.Button,{type:"submit",disabled:f||C,children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Save,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Appearance Settings"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Customize your storefront color palette"})]}),(0,r.jsx)(a.Card,{children:(0,r.jsx)(a.CardContent,{className:"pt-6",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(i.Palette,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No Active Theme"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-6",children:"Please activate a theme first to customize colors."}),(0,r.jsx)(s.Button,{asChild:!0,children:(0,r.jsx)("a",{href:"/admin/themes",children:"Go to Themes"})})]})})})]})}e.s(["default",()=>m])}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="03036d5f-4342-5fb5-9f14-b386f8f6e737")}catch(e){}}();
//# debugId=03036d5f-4342-5fb5-9f14-b386f8f6e737
