(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,981119,e=>{"use strict";var a=e.i(843476),s=e.i(271645),t=e.i(618566),l=e.i(519455),r=e.i(793479),i=e.i(110204),n=e.i(515288),c=e.i(543258),d=e.i(784774),o=e.i(487486);function u({productId:e,basePrice:t}){let[r,i]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[p,m]=(0,s.useState)(!0),[h,x]=(0,s.useState)(!1),[j,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[y,b]=(0,s.useState)(""),[N,C]=(0,s.useState)(""),[T,k]=(0,s.useState)({sku:"",price:"",comparePrice:"",stock:"0",image:"",selectedValues:{}});(0,s.useEffect)(()=>{w(),S()},[e]);let w=async()=>{try{let a=await fetch(`/api/products/${e}/variant-options`);if(a.ok){let e=await a.json();i(e)}}catch(e){console.error("Failed to fetch options")}finally{m(!1)}},S=async()=>{try{let a=await fetch(`/api/products/${e}/variants`);if(a.ok){let e=await a.json();u(e)}}catch(e){console.error("Failed to fetch variants")}},F=async a=>{a.preventDefault();let s=N.split(",").map(e=>e.trim()).filter(Boolean);if(!y||0===s.length)return void alert("Please provide option name and values");try{(await fetch(`/api/products/${e}/variant-options`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:y,values:s})})).ok?(await w(),x(!1),b(""),C("")):alert("Failed to create option")}catch(e){alert("An error occurred")}},L=async a=>{if(confirm("Are you sure you want to delete this option? This will affect all variants."))try{(await fetch(`/api/products/${e}/variant-options/${a}`,{method:"DELETE"})).ok?(await w(),await S()):alert("Failed to delete option")}catch(e){alert("An error occurred")}},P=async a=>{a.preventDefault();let s=Object.values(T.selectedValues);if(r.length>0&&s.length!==r.length)return void alert("Please select a value for each option");try{(await fetch(`/api/products/${e}/variants`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...T,optionValues:s})})).ok?(await S(),g(!1),D()):alert("Failed to create variant")}catch(e){alert("An error occurred")}},I=async a=>{if(a.preventDefault(),!f)return;let s=Object.values(T.selectedValues);try{(await fetch(`/api/products/${e}/variants/${f.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...T,optionValues:s})})).ok?(await S(),v(null),D()):alert("Failed to update variant")}catch(e){alert("An error occurred")}},A=async a=>{if(confirm("Are you sure you want to delete this variant?"))try{(await fetch(`/api/products/${e}/variants/${a}`,{method:"DELETE"})).ok?await S():alert("Failed to delete variant")}catch(e){alert("An error occurred")}},D=()=>{k({sku:"",price:"",comparePrice:"",stock:"0",image:"",selectedValues:{}})};return p?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.CardTitle,{children:"Variant Options"}),(0,a.jsx)(l.Button,{onClick:()=>x(!h),size:"sm",children:h?"Cancel":"Add Option"})]})}),(0,a.jsxs)(n.CardContent,{className:"space-y-4",children:[h&&(0,a.jsxs)("form",{onSubmit:F,className:"space-y-4 border p-4 rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Option Name (e.g., Color, Size)"}),(0,a.jsx)("input",{type:"text",value:y,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Color",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Values (comma-separated)"}),(0,a.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Red, Blue, Green",required:!0})]}),(0,a.jsx)(l.Button,{type:"submit",children:"Create Option"})]}),0===r.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"No variant options. Add options like Size or Color to create variants."}):(0,a.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,a.jsxs)("div",{className:"border p-3 rounded flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"flex gap-2 mt-2",children:e.values.map(e=>(0,a.jsx)(o.Badge,{variant:"outline",children:e.value},e.id))})]}),(0,a.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>L(e.id),children:"Delete"})]},e.id))})]})]}),(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.CardTitle,{children:"Product Variants"}),r.length>0&&(0,a.jsx)(l.Button,{onClick:()=>{g(!0),v(null),D()},size:"sm",children:"Add Variant"})]})}),(0,a.jsxs)(n.CardContent,{className:"space-y-4",children:[(j||f)&&(0,a.jsxs)("form",{onSubmit:f?I:P,className:"space-y-4 border p-4 rounded",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:e.name}),(0,a.jsxs)("select",{value:T.selectedValues[e.id]||"",onChange:a=>k({...T,selectedValues:{...T.selectedValues,[e.id]:a.target.value}}),className:"w-full px-3 py-2 border rounded-md",required:!0,children:[(0,a.jsxs)("option",{value:"",children:["Select ",e.name]}),e.values.map(e=>(0,a.jsx)("option",{value:e.value,children:e.value},e.id))]})]},e.id)),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"SKU (optional)"}),(0,a.jsx)("input",{type:"text",value:T.sku,onChange:e=>k({...T,sku:e.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Price (leave empty to use base price: $",t,")"]}),(0,a.jsx)("input",{type:"number",step:"0.01",value:T.price,onChange:e=>k({...T,price:e.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Compare Price (optional)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:T.comparePrice,onChange:e=>k({...T,comparePrice:e.target.value}),className:"w-full px-3 py-2 border rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Stock"}),(0,a.jsx)("input",{type:"number",value:T.stock,onChange:e=>k({...T,stock:e.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{type:"submit",children:f?"Update Variant":"Create Variant"}),(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>{g(!1),v(null),D()},children:"Cancel"})]})]}),0===c.length?(0,a.jsxs)("p",{className:"text-gray-500 text-sm",children:["No variants created yet. ",0===r.length&&"Add variant options first."]}):(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"Options"}),(0,a.jsx)(d.TableHead,{children:"SKU"}),(0,a.jsx)(d.TableHead,{children:"Price"}),(0,a.jsx)(d.TableHead,{children:"Stock"}),(0,a.jsx)(d.TableHead,{children:"Actions"})]})}),(0,a.jsx)(d.TableBody,{children:c.map(e=>{let s=JSON.parse(e.optionValues);return(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{children:(0,a.jsx)("div",{className:"flex gap-1",children:s.map((e,s)=>(0,a.jsx)(o.Badge,{variant:"outline",children:e},s))})}),(0,a.jsx)(d.TableCell,{children:e.sku||"-"}),(0,a.jsxs)(d.TableCell,{children:["$",e.price||t.toFixed(2)]}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(o.Badge,{className:e.stock>10?"bg-green-100 text-green-800":e.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:e.stock})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let a,s;return a=JSON.parse(e.optionValues),s={},void(r.forEach((e,t)=>{s[e.id]=a[t]||""}),k({sku:e.sku||"",price:e.price||"",comparePrice:e.comparePrice||"",stock:e.stock.toString(),image:e.image||"",selectedValues:s}),v(e))},children:"Edit"}),(0,a.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>A(e.id),children:"Delete"})]})})]},e.id)})})]})]})]})]})}function p({productId:e,currentStock:t}){let[c,d]=(0,s.useState)("10"),[o,u]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!0);(0,s.useEffect)(()=>{j()},[e]);let j=async()=>{try{let a=await fetch(`/api/stock-alerts/${e}`);if(a.ok){let e=await a.json();e&&(d(e.threshold.toString()),u(!0))}}catch(e){console.error("Failed to fetch stock alert")}finally{x(!1)}},g=async()=>{m(!0);try{o?(await fetch(`/api/stock-alerts/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threshold:parseInt(c)})})).ok?alert("Stock alert configured successfully"):alert("Failed to configure stock alert"):(await fetch(`/api/stock-alerts/${e}`,{method:"DELETE"})).ok?alert("Stock alert removed successfully"):alert("Failed to remove stock alert")}catch(e){alert("An error occurred")}finally{m(!1)}};if(h)return(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Loading..."});let f=t<=parseInt(c);return(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsx)(n.CardTitle,{children:"Stock Alert"})}),(0,a.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"enableAlert",checked:o,onChange:e=>u(e.target.checked),className:"rounded"}),(0,a.jsx)(i.Label,{htmlFor:"enableAlert",children:"Enable low stock alerts for this product"})]}),o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"threshold",children:"Alert when stock falls below:"}),(0,a.jsx)(r.Input,{id:"threshold",type:"number",value:c,onChange:e=>d(e.target.value),min:"0"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"You'll be notified when stock reaches this level"})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-50 rounded border",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-1",children:"Current Status:"}),f?(0,a.jsxs)("p",{className:"text-sm text-red-600 font-medium",children:["⚠️ Stock is currently below threshold (",t," / ",c,")"]}):(0,a.jsxs)("p",{className:"text-sm text-green-600",children:["✓ Stock is above threshold (",t," / ",c,")"]})]})]}),(0,a.jsx)(l.Button,{onClick:g,disabled:p,children:p?"Saving...":"Save Alert Settings"})]})]})}var m=e.i(624687),h=e.i(677572),x=e.i(705766),j=e.i(248256),g=e.i(643531),f=e.i(63209),v=e.i(531278),y=e.i(383627);function b({productId:e,productName:t}){let[c,d]=(0,s.useState)([]),[u,p]=(0,s.useState)(!0),[b,N]=(0,s.useState)(null),[C,T]=(0,s.useState)(y.locales[1]||"fr");(0,s.useEffect)(()=>{k()},[e]);let k=async()=>{try{let a=await fetch(`/api/admin/products/${e}/translations`);if(a.ok){let e=await a.json();d(e.translations||[])}}catch(e){console.error("Failed to fetch translations:",e),x.toast.error("Failed to load translations")}finally{p(!1)}},w=e=>{let a=c.find(a=>a.locale===e);return a||{locale:e,name:"",description:"",slug:"",metaTitle:"",metaDescription:""}},S=(e,a,s)=>{let t={...w(e),[a]:s},l=c.findIndex(a=>a.locale===e);if(l>=0){let e=[...c];e[l]=t,d(e)}else d([...c,t])},F=async a=>{let s=w(a);if(!s.name||!s.slug)return void x.toast.error("Name and slug are required");N(a);try{let t=await fetch(`/api/admin/products/${e}/translations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(t.ok)x.toast.success(`Translation saved for ${a.toUpperCase()}`),await k();else{let e=await t.json();x.toast.error(e.error||"Failed to save translation")}}catch(e){console.error("Failed to save translation:",e),x.toast.error("Failed to save translation")}finally{N(null)}},L=async a=>{if(confirm(`Delete ${a.toUpperCase()} translation?`))try{(await fetch(`/api/admin/products/${e}/translations/${a}`,{method:"DELETE"})).ok?(x.toast.success(`Translation deleted for ${a.toUpperCase()}`),d(c.filter(e=>e.locale!==a))):x.toast.error("Failed to delete translation")}catch(e){console.error("Failed to delete translation:",e),x.toast.error("Failed to delete translation")}},P=e=>{let a=c.find(a=>a.locale===e);return a&&a.id?a.name&&a.description&&a.slug?"complete":"partial":"missing"};if(u)return(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Globe,{className:"h-5 w-5"}),"Translations"]})}),(0,a.jsx)(n.CardContent,{children:(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(v.Loader2,{className:"h-6 w-6 animate-spin text-gray-400"})})})]});let I=y.locales.filter(e=>"en"!==e);return(0,a.jsxs)(n.Card,{children:[(0,a.jsxs)(n.CardHeader,{children:[(0,a.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Globe,{className:"h-5 w-5"}),"Translations"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:['Manage translations for "',t,'"']})]}),(0,a.jsx)(n.CardContent,{children:(0,a.jsxs)(h.Tabs,{value:C,onValueChange:e=>T(e),children:[(0,a.jsx)(h.TabsList,{className:"grid w-full",style:{gridTemplateColumns:`repeat(${I.length}, 1fr)`},children:I.map(e=>{let s=P(e);return(0,a.jsxs)(h.TabsTrigger,{value:e,className:"relative",children:[e.toUpperCase(),"complete"===s&&(0,a.jsx)(g.Check,{className:"h-3 w-3 text-green-500 absolute top-1 right-1"}),"partial"===s&&(0,a.jsx)(f.AlertCircle,{className:"h-3 w-3 text-yellow-500 absolute top-1 right-1"})]},e)})}),I.map(e=>{let s=w(e),t=P(e);return(0,a.jsxs)(h.TabsContent,{value:e,className:"space-y-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(o.Badge,{variant:"complete"===t?"default":"partial"===t?"secondary":"outline",children:["complete"===t&&"Complete","partial"===t&&"Partial","missing"===t&&"Not Translated"]}),s.id&&(0,a.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>L(e),children:"Delete"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(i.Label,{htmlFor:`name-${e}`,children:["Product Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(r.Input,{id:`name-${e}`,value:s.name,onChange:a=>S(e,"name",a.target.value),placeholder:"Translated product name"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(i.Label,{htmlFor:`slug-${e}`,children:["Slug ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.Input,{id:`slug-${e}`,value:s.slug,onChange:a=>S(e,"slug",a.target.value),placeholder:"product-slug"}),(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>{S(e,"slug",s.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))},disabled:!s.name,children:"Generate"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:`description-${e}`,children:"Description"}),(0,a.jsx)(m.Textarea,{id:`description-${e}`,value:s.description,onChange:a=>S(e,"description",a.target.value),placeholder:"Translated product description",rows:4})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:`metaTitle-${e}`,children:"Meta Title (SEO)"}),(0,a.jsx)(r.Input,{id:`metaTitle-${e}`,value:s.metaTitle||"",onChange:a=>S(e,"metaTitle",a.target.value),placeholder:"SEO meta title"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:`metaDescription-${e}`,children:"Meta Description (SEO)"}),(0,a.jsx)(m.Textarea,{id:`metaDescription-${e}`,value:s.metaDescription||"",onChange:a=>S(e,"metaDescription",a.target.value),placeholder:"SEO meta description",rows:3}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.metaDescription?.length||0," / 160 characters"]})]}),(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsx)(l.Button,{onClick:()=>F(e),disabled:b===e||!s.name||!s.slug,children:b===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Translation"})})]},e)})]})})]})}var N=e.i(776639),C=e.i(967489),T=e.i(868499),k=e.i(320438),w=e.i(426612),S=e.i(88081),F=e.i(664659),L=e.i(114683),P=e.i(894784),P=P,I=e.i(647780),A=e.i(569074),D=e.i(87316),E=e.i(468260),E=E,V=e.i(727612),O=e.i(107233),M=e.i(37727),$=e.i(212426),z=e.i(750570);let B=[{value:"TEXT",label:"Text Input",icon:k.Type},{value:"TEXTAREA",label:"Text Area",icon:w.AlignLeft},{value:"NUMBER",label:"Number",icon:S.Hash},{value:"DROPDOWN",label:"Dropdown",icon:F.ChevronDown},{value:"RADIO",label:"Radio Buttons",icon:L.Circle},{value:"CHECKBOX",label:"Checkboxes",icon:P.default},{value:"COLOR",label:"Color Picker",icon:I.Palette},{value:"FILE",label:"File Upload",icon:A.Upload},{value:"DATE",label:"Date Picker",icon:D.Calendar}],q=[{value:"fixed",label:"Fixed Amount ($)"},{value:"percentage",label:"Percentage (%)"}];function R({productId:e}){let[t,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!0),[p,h]=(0,s.useState)(!1),[j,g]=(0,s.useState)(null),[f,v]=(0,s.useState)(null),[y,b]=(0,s.useState)(!1),[w,S]=(0,s.useState)({type:"TEXT",label:"",placeholder:"",helpText:"",required:!1,minLength:"",maxLength:"",minValue:"",maxValue:"",pattern:"",maxFileSize:"",allowedTypes:"",priceModifier:"",priceModifierType:"fixed",options:[]});(0,s.useEffect)(()=>{F()},[e]);let F=async()=>{try{u(!0);let a=await fetch(`/api/admin/products/${e}/customization-fields`);if(a.ok){let e=await a.json();c(e.fields||[])}else x.default.error("Failed to load customization fields")}catch(e){console.error("Error fetching fields:",e),x.default.error("An error occurred while loading fields")}finally{u(!1)}},L=()=>{S({type:"TEXT",label:"",placeholder:"",helpText:"",required:!1,minLength:"",maxLength:"",minValue:"",maxValue:"",pattern:"",maxFileSize:"",allowedTypes:"",priceModifier:"",priceModifierType:"fixed",options:[]}),g(null)},P=e=>{e?(g(e),S({type:e.type,label:e.label,placeholder:e.placeholder||"",helpText:e.helpText||"",required:e.required,minLength:e.minLength?.toString()||"",maxLength:e.maxLength?.toString()||"",minValue:e.minValue?.toString()||"",maxValue:e.maxValue?.toString()||"",pattern:e.pattern||"",maxFileSize:e.maxFileSize?.toString()||"",allowedTypes:e.allowedTypes||"",priceModifier:e.priceModifier.toString(),priceModifierType:e.priceModifierType,options:e.options||[]})):L(),h(!0)},I=()=>{h(!1),L()},A=async a=>{a.preventDefault(),b(!0);try{if(!w.label.trim()){x.default.error("Label is required"),b(!1);return}if(["DROPDOWN","RADIO","CHECKBOX"].includes(w.type)&&0===w.options.length){x.default.error(`Please add at least one option for ${w.type} field`),b(!1);return}let a={type:w.type,label:w.label,placeholder:w.placeholder||null,helpText:w.helpText||null,required:w.required,minLength:w.minLength?parseInt(w.minLength):null,maxLength:w.maxLength?parseInt(w.maxLength):null,minValue:w.minValue?parseFloat(w.minValue):null,maxValue:w.maxValue?parseFloat(w.maxValue):null,pattern:w.pattern||null,maxFileSize:w.maxFileSize?parseInt(w.maxFileSize):null,allowedTypes:w.allowedTypes||null,priceModifier:w.priceModifier?parseFloat(w.priceModifier):0,priceModifierType:w.priceModifierType,options:["DROPDOWN","RADIO","CHECKBOX"].includes(w.type)?w.options.map((e,a)=>({label:e.label,value:e.value,position:a,priceModifier:e.priceModifier||null})):void 0},s=j?`/api/admin/products/${e}/customization-fields/${j.id}`:`/api/admin/products/${e}/customization-fields`,t=j?"PATCH":"POST",l=await fetch(s,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(l.ok)x.default.success(j?"Field updated successfully":"Field created successfully"),await F(),I();else{let e=await l.json();x.default.error(e.error||"Failed to save field")}}catch(e){console.error("Error saving field:",e),x.default.error("An error occurred while saving")}finally{b(!1)}},D=async()=>{if(f)try{(await fetch(`/api/admin/products/${e}/customization-fields/${f}`,{method:"DELETE"})).ok?(x.default.success("Field deleted successfully"),await F()):x.default.error("Failed to delete field")}catch(e){console.error("Error deleting field:",e),x.default.error("An error occurred while deleting")}finally{v(null)}},R=()=>{S({...w,options:[...w.options,{label:"",value:"",priceModifier:null}]})},H=(e,a,s)=>{let t=[...w.options];t[e]={...t[e],[a]:s},S({...w,options:t})};return d?(0,a.jsx)(n.Card,{children:(0,a.jsx)(n.CardContent,{className:"py-12",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:"Loading customization fields..."})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.CardTitle,{children:"Product Customization Fields"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add custom fields for customers to personalize this product"})]}),(0,a.jsxs)(l.Button,{onClick:()=>P(),size:"sm",children:[(0,a.jsx)(O.Plus,{className:"w-4 h-4 mr-2"}),"Add Field"]})]})}),(0,a.jsx)(n.CardContent,{children:0===t.length?(0,a.jsx)("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(k.Type,{className:"w-8 h-8 text-gray-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"No customization fields"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add fields to allow customers to customize this product"})]}),(0,a.jsxs)(l.Button,{onClick:()=>P(),className:"mt-2",children:[(0,a.jsx)(O.Plus,{className:"w-4 h-4 mr-2"}),"Add First Field"]})]})}):(0,a.jsx)("div",{className:"space-y-3",children:t.map(e=>{var s;let t,r=(s=e.type,(t=B.find(e=>e.value===s))?t.icon:k.Type);return(0,a.jsx)(n.Card,{className:"border border-gray-200",children:(0,a.jsx)(n.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(z.GripVertical,{className:"w-5 h-5 text-gray-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(r,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.label}),e.required&&(0,a.jsx)(o.Badge,{variant:"outline",className:"text-xs bg-red-50 text-red-700 border-red-200",children:"Required"}),(0,a.jsx)(o.Badge,{variant:"outline",className:"text-xs",children:B.find(a=>a.value===e.type)?.label||e.type})]}),e.helpText&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:e.helpText}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-gray-600",children:[e.placeholder&&(0,a.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Placeholder: ",e.placeholder]}),0!==e.priceModifier&&(0,a.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded flex items-center gap-1",children:[(0,a.jsx)($.DollarSign,{className:"w-3 h-3"}),"percentage"===e.priceModifierType?`${e.priceModifier}%`:`$${e.priceModifier}`]}),e.minLength&&(0,a.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Min Length: ",e.minLength]}),e.maxLength&&(0,a.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Max Length: ",e.maxLength]}),e.minValue&&(0,a.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Min: ",e.minValue]}),e.maxValue&&(0,a.jsxs)("span",{className:"bg-gray-100 px-2 py-1 rounded",children:["Max: ",e.maxValue]})]}),e.options&&e.options.length>0&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Options:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.options.map(e=>(0,a.jsxs)(o.Badge,{variant:"outline",className:"text-xs",children:[e.label,e.priceModifier&&(0,a.jsxs)("span",{className:"ml-1 text-green-600",children:["(+$",e.priceModifier,")"]})]},e.id))})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>P(e),children:(0,a.jsx)(E.default,{className:"w-4 h-4"})}),(0,a.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>v(e.id),children:(0,a.jsx)(V.Trash2,{className:"w-4 h-4 text-red-600"})})]})]})})},e.id)})})})]}),(0,a.jsx)(N.Dialog,{open:p,onOpenChange:h,children:(0,a.jsxs)(N.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(N.DialogHeader,{children:(0,a.jsx)(N.DialogTitle,{children:j?"Edit Customization Field":"Add Customization Field"})}),(0,a.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"type",children:"Field Type *"}),(0,a.jsxs)(C.Select,{value:w.type,onValueChange:e=>S({...w,type:e}),children:[(0,a.jsx)(C.SelectTrigger,{children:(0,a.jsx)(C.SelectValue,{})}),(0,a.jsx)(C.SelectContent,{children:B.map(e=>{let s=e.icon;return(0,a.jsx)(C.SelectItem,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.label})]})},e.value)})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"label",children:"Label *"}),(0,a.jsx)(r.Input,{id:"label",value:w.label,onChange:e=>S({...w,label:e.target.value}),placeholder:"e.g., Engraving Text",required:!0})]}),["TEXT","TEXTAREA","NUMBER"].includes(w.type)&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"placeholder",children:"Placeholder"}),(0,a.jsx)(r.Input,{id:"placeholder",value:w.placeholder,onChange:e=>S({...w,placeholder:e.target.value}),placeholder:"e.g., Enter your text here..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"helpText",children:"Help Text"}),(0,a.jsx)(m.Textarea,{id:"helpText",value:w.helpText,onChange:e=>S({...w,helpText:e.target.value}),placeholder:"Additional instructions for customers",rows:2})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"required",checked:w.required,onChange:e=>S({...w,required:e.target.checked}),className:"rounded"}),(0,a.jsx)(i.Label,{htmlFor:"required",className:"cursor-pointer",children:"Required field"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"priceModifier",children:"Price Modifier"}),(0,a.jsx)(r.Input,{id:"priceModifier",type:"number",step:"0.01",value:w.priceModifier,onChange:e=>S({...w,priceModifier:e.target.value}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"priceModifierType",children:"Modifier Type"}),(0,a.jsxs)(C.Select,{value:w.priceModifierType,onValueChange:e=>S({...w,priceModifierType:e}),children:[(0,a.jsx)(C.SelectTrigger,{children:(0,a.jsx)(C.SelectValue,{})}),(0,a.jsx)(C.SelectContent,{children:q.map(e=>(0,a.jsx)(C.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),["TEXT","TEXTAREA"].includes(w.type)&&(0,a.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Text Validation"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"minLength",children:"Min Length"}),(0,a.jsx)(r.Input,{id:"minLength",type:"number",value:w.minLength,onChange:e=>S({...w,minLength:e.target.value}),placeholder:"0"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"maxLength",children:"Max Length"}),(0,a.jsx)(r.Input,{id:"maxLength",type:"number",value:w.maxLength,onChange:e=>S({...w,maxLength:e.target.value}),placeholder:"Unlimited"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"pattern",children:"Pattern (Regex)"}),(0,a.jsx)(r.Input,{id:"pattern",value:w.pattern,onChange:e=>S({...w,pattern:e.target.value}),placeholder:"e.g., ^[A-Za-z0-9]+$"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Regular expression pattern for validation"})]})]}),"NUMBER"===w.type&&(0,a.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Number Validation"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"minValue",children:"Min Value"}),(0,a.jsx)(r.Input,{id:"minValue",type:"number",step:"0.01",value:w.minValue,onChange:e=>S({...w,minValue:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"maxValue",children:"Max Value"}),(0,a.jsx)(r.Input,{id:"maxValue",type:"number",step:"0.01",value:w.maxValue,onChange:e=>S({...w,maxValue:e.target.value})})]})]})]}),"FILE"===w.type&&(0,a.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"File Upload Settings"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"maxFileSize",children:"Max File Size (KB)"}),(0,a.jsx)(r.Input,{id:"maxFileSize",type:"number",value:w.maxFileSize,onChange:e=>S({...w,maxFileSize:e.target.value}),placeholder:"5120"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"allowedTypes",children:"Allowed MIME Types"}),(0,a.jsx)(r.Input,{id:"allowedTypes",value:w.allowedTypes,onChange:e=>S({...w,allowedTypes:e.target.value}),placeholder:"e.g., image/jpeg,image/png,application/pdf"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Comma-separated list of allowed MIME types"})]})]}),["DROPDOWN","RADIO","CHECKBOX"].includes(w.type)&&(0,a.jsxs)("div",{className:"space-y-4 border-t pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:"Options *"}),(0,a.jsxs)(l.Button,{type:"button",onClick:R,size:"sm",variant:"outline",children:[(0,a.jsx)(O.Plus,{className:"w-4 h-4 mr-2"}),"Add Option"]})]}),0===w.options.length?(0,a.jsxs)("div",{className:"text-center py-4 border-2 border-dashed rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No options added yet"}),(0,a.jsx)(l.Button,{type:"button",onClick:R,size:"sm",className:"mt-2",children:"Add First Option"})]}):(0,a.jsx)("div",{className:"space-y-3",children:w.options.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2 items-start p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(i.Label,{className:"text-xs",children:"Label *"}),(0,a.jsx)(r.Input,{value:e.label,onChange:e=>H(s,"label",e.target.value),placeholder:"Small",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(i.Label,{className:"text-xs",children:"Value *"}),(0,a.jsx)(r.Input,{value:e.value,onChange:e=>H(s,"value",e.target.value),placeholder:"small",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(i.Label,{className:"text-xs",children:"Price (+$)"}),(0,a.jsx)(r.Input,{type:"number",step:"0.01",value:e.priceModifier||"",onChange:e=>H(s,"priceModifier",e.target.value?parseFloat(e.target.value):null),placeholder:"0.00"})]})]}),(0,a.jsx)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e;return e=w.options.filter((e,a)=>a!==s),void S({...w,options:e})},className:"mt-6",children:(0,a.jsx)(M.X,{className:"w-4 h-4 text-red-600"})})]},s))})]}),(0,a.jsxs)(N.DialogFooter,{children:[(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:I,disabled:y,children:"Cancel"}),(0,a.jsx)(l.Button,{type:"submit",disabled:y,children:y?"Saving...":j?"Update Field":"Create Field"})]})]})]})}),(0,a.jsx)(T.AlertDialog,{open:!!f,onOpenChange:()=>v(null),children:(0,a.jsxs)(T.AlertDialogContent,{children:[(0,a.jsxs)(T.AlertDialogHeader,{children:[(0,a.jsx)(T.AlertDialogTitle,{children:"Delete Customization Field"}),(0,a.jsx)(T.AlertDialogDescription,{children:"Are you sure you want to delete this field? This action cannot be undone. Customers will no longer be able to customize this product using this field."})]}),(0,a.jsxs)(T.AlertDialogFooter,{children:[(0,a.jsx)(T.AlertDialogCancel,{children:"Cancel"}),(0,a.jsx)(T.AlertDialogAction,{onClick:D,className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}var H=e.i(797147),U=e.i(356909);function X({params:e}){let d=(0,t.useRouter)(),{id:o}=(0,s.use)(e),m=(0,s.useRef)(null),[j,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(!0),[y,N]=(0,s.useState)({}),[C,T]=(0,s.useState)([]),[k,w]=(0,s.useState)([]),[S,F]=(0,s.useState)({name:"",slug:"",description:"",price:"",comparePrice:"",stock:"",sku:"",categoryId:"",published:!0,featured:!1});(0,s.useEffect)(()=>{P(),L()},[]);let L=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let a=await e.json();T(a)}}catch(e){console.error("Failed to fetch categories")}},P=async()=>{try{let e=await fetch(`/api/products/${o}`);if(e.ok){let a=await e.json();F({name:a.name,slug:a.slug,description:a.description||"",price:a.price.toString(),comparePrice:a.comparePrice?a.comparePrice.toString():"",stock:a.stock.toString(),sku:a.sku||"",categoryId:a.categoryId||"",published:a.published,featured:a.featured||!1});let s=await fetch(`/api/product-images?productId=${o}`);if(s.ok){let e=await s.json();w(e)}}}catch(e){console.error("Failed to fetch product")}finally{v(!1)}},I=async e=>{e.preventDefault(),N({}),g(!0);let a={};if(S.name.trim()||(a.name="Product name is required"),S.slug.trim()||(a.slug="Slug is required"),(!S.price||0>=parseFloat(S.price))&&(a.price="Valid price is required"),(!S.stock||0>parseInt(S.stock))&&(a.stock="Valid stock quantity is required"),Object.keys(a).length>0){N(a),g(!1),x.default.error("Please fix the errors in the form");return}try{let e=await fetch(`/api/products/${o}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,price:parseFloat(S.price),comparePrice:S.comparePrice?parseFloat(S.comparePrice):null,stock:parseInt(S.stock),categoryId:S.categoryId||null})}),a=await e.json();if(e.ok){let e=k.filter(e=>e.file);if(e.length>0)try{for(let a of e){let e=new FormData;e.append("file",a.file),e.append("productId",o),e.append("alt",a.alt||""),e.append("isPrimary",a.isPrimary?"true":"false"),(await fetch("/api/product-images",{method:"POST",body:e})).ok||console.error("Failed to upload image:",a.alt||"unnamed")}}catch(e){console.error("Error uploading images:",e),x.default.error("Product updated but some images failed to upload")}x.default.success("Product updated successfully"),d.refresh()}else a.errors?(N(a.errors),x.default.error("Please fix the errors in the form")):x.default.error(a.message||"Failed to update product")}catch(e){console.error("Error updating product:",e),x.default.error("An unexpected error occurred. Please try again.")}finally{g(!1)}},A=e=>{let{name:a,value:s}=e.target;F(e=>({...e,[a]:s}))};return f?(0,a.jsx)("div",{className:"text-center py-12",children:"Loading..."}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,a.jsxs)(l.Button,{onClick:e=>{e.preventDefault(),m.current&&I({preventDefault:()=>{},currentTarget:m.current,target:m.current})},disabled:j,size:"lg",className:"shadow-lg",children:[(0,a.jsx)(U.Save,{className:"w-5 h-5 mr-2"}),j?"Saving...":"Save Product"]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Product"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Update product details"})]}),(0,a.jsxs)(h.Tabs,{defaultValue:"details",className:"w-full",children:[(0,a.jsxs)(h.TabsList,{children:[(0,a.jsx)(h.TabsTrigger,{value:"details",children:"Product Details"}),(0,a.jsx)(h.TabsTrigger,{value:"customization",children:"Customization"}),(0,a.jsx)(h.TabsTrigger,{value:"variants",children:"Variants"}),(0,a.jsx)(h.TabsTrigger,{value:"translations",children:"Translations"})]}),(0,a.jsxs)(h.TabsContent,{value:"details",className:"space-y-6",children:[(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsx)(n.CardTitle,{children:"Product Details"})}),(0,a.jsx)(n.CardContent,{children:(0,a.jsxs)("form",{ref:m,onSubmit:I,children:[(0,a.jsxs)(h.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,a.jsxs)(h.TabsList,{className:"grid w-full grid-cols-5",children:[(0,a.jsx)(h.TabsTrigger,{value:"basic",children:"Basic Info"}),(0,a.jsx)(h.TabsTrigger,{value:"description",children:"Description"}),(0,a.jsx)(h.TabsTrigger,{value:"pricing",children:"Pricing & Inventory"}),(0,a.jsx)(h.TabsTrigger,{value:"images",children:"Images"}),(0,a.jsx)(h.TabsTrigger,{value:"advanced",children:"Advanced"})]}),(0,a.jsx)(h.TabsContent,{value:"basic",className:"space-y-4 mt-6",children:(0,a.jsxs)("div",{className:"max-w-2xl space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"name",children:"Product Name *"}),(0,a.jsx)(r.Input,{id:"name",name:"name",value:S.name,onChange:A,required:!0,className:y.name?"border-red-500":""}),y.name&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:y.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"slug",children:"Slug *"}),(0,a.jsx)(r.Input,{id:"slug",name:"slug",value:S.slug,onChange:A,required:!0,className:y.slug?"border-red-500":""}),y.slug&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:y.slug})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"categoryId",children:"Category"}),(0,a.jsxs)("select",{id:"categoryId",name:"categoryId",value:S.categoryId,onChange:A,className:"w-full px-3 py-2 border rounded-md",children:[(0,a.jsx)("option",{value:"",children:"No Category"}),C.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})}),(0,a.jsx)(h.TabsContent,{value:"description",className:"mt-6",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{children:"Description"}),(0,a.jsx)(H.ProductDescriptionBuilder,{content:S.description,onChange:e=>F(a=>({...a,description:e}))}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Add blocks from the sidebar to create a compelling product description. Click blocks to edit them."})]})}),(0,a.jsx)(h.TabsContent,{value:"pricing",className:"space-y-4 mt-6",children:(0,a.jsxs)("div",{className:"max-w-2xl space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"price",children:"Price *"}),(0,a.jsx)(r.Input,{id:"price",name:"price",type:"number",step:"0.01",value:S.price,onChange:A,required:!0,className:y.price?"border-red-500":""}),y.price&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:y.price})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"comparePrice",children:"Compare at Price"}),(0,a.jsx)(r.Input,{id:"comparePrice",name:"comparePrice",type:"number",step:"0.01",value:S.comparePrice,onChange:A,placeholder:"0.00"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Original price (for showing discounts)"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"stock",children:"Stock *"}),(0,a.jsx)(r.Input,{id:"stock",name:"stock",type:"number",value:S.stock,onChange:A,required:!0,className:y.stock?"border-red-500":""}),y.stock&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:y.stock})]})]})}),(0,a.jsx)(h.TabsContent,{value:"images",className:"mt-6",children:(0,a.jsx)("div",{className:"max-w-2xl space-y-2",children:(0,a.jsx)(c.ImageUpload,{productId:o,initialImages:k,onImagesChange:w})})}),(0,a.jsx)(h.TabsContent,{value:"advanced",className:"space-y-4 mt-6",children:(0,a.jsxs)("div",{className:"max-w-2xl space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.Label,{htmlFor:"sku",children:"SKU"}),(0,a.jsx)(r.Input,{id:"sku",name:"sku",value:S.sku,onChange:A})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Product Options"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"published",checked:S.published,onChange:e=>F(a=>({...a,published:e.target.checked})),className:"rounded"}),(0,a.jsx)(i.Label,{htmlFor:"published",children:"Publish product"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"featured",checked:S.featured,onChange:e=>F(a=>({...a,featured:e.target.checked})),className:"rounded"}),(0,a.jsx)(i.Label,{htmlFor:"featured",children:"Featured"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"(Highlight in storefront)"})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-6 mt-6 border-t",children:[(0,a.jsx)(l.Button,{type:"submit",disabled:j,children:j?"Updating...":"Update Product"}),(0,a.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>d.back(),disabled:j,children:"Cancel"})]})]})})]}),(0,a.jsx)(p,{productId:o,currentStock:parseInt(S.stock)||0})]}),(0,a.jsx)(h.TabsContent,{value:"customization",className:"space-y-6",children:(0,a.jsx)(R,{productId:o})}),(0,a.jsx)(h.TabsContent,{value:"variants",className:"space-y-6",children:(0,a.jsx)(u,{productId:o,basePrice:parseFloat(S.price)||0})}),(0,a.jsx)(h.TabsContent,{value:"translations",className:"space-y-6",children:(0,a.jsx)(b,{productId:o,productName:S.name})})]})]})}e.s(["default",()=>X],981119)}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="55e5a539-3d71-5b7a-b795-21b5f73ff0da")}catch(e){}}();
//# debugId=55e5a539-3d71-5b7a-b795-21b5f73ff0da
