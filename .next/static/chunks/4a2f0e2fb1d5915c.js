(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,986316,e=>{"use strict";var t=e.i(275144);function r(){return(0,t.useThemeContext)()}e.s(["useTheme",()=>r])},618566,(e,t,r)=>{t.exports=e.r(976562)},475254,258541,e=>{"use strict";var t=e.i(271645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...l},p)=>(0,t.createElement)("svg",{ref:p,...n,width:r,height:r,stroke:e,strokeWidth:s?24*Number(i)/Number(r):i,className:o("lucide",a),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(l)&&{"aria-hidden":"true"},...l},[...u.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(c)?c:[c]]));e.s(["default",()=>i],258541);let s=(e,n)=>{let s=(0,t.forwardRef)(({className:s,...a},c)=>(0,t.createElement)(i,{ref:c,iconNode:n,className:o(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...a}));return s.displayName=r(e),s};e.s(["default",()=>s],475254)},290571,e=>{"use strict";var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,r)};function r(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function n(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>t.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r}function i(e,t,r,o){return new(r||(r=Promise))(function(n,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((o=o.apply(e,t||[])).next())})}function s(e,t,r){if(r||2==arguments.length)for(var o,n=0,i=t.length;n<i;n++)!o&&n in t||(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,e.s(["__assign",()=>o,"__awaiter",()=>i,"__extends",()=>r,"__rest",()=>n,"__spreadArray",()=>s])},841947,e=>{"use strict";let t=(0,e.i(475254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t])},37727,e=>{"use strict";var t=e.i(841947);e.s(["X",()=>t.default])},275144,e=>{"use strict";var t=e.i(843476),r=e.i(271645);let o=(0,r.createContext)(void 0);function n(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useThemeContext must be used within a ThemeProvider");return e}function i({children:e}){let[n,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),l=async()=>{try{a(!0),u(null);let e=await fetch("/api/themes/active",{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch active theme");let t=await e.json();t.theme?i(t.theme):i(null)}catch(e){console.error("Error fetching theme:",e),u(e instanceof Error?e.message:"Failed to load theme"),i(null)}finally{a(!1)}};return(0,r.useEffect)(()=>{l()},[]),(0,t.jsx)(o.Provider,{value:{theme:n,loading:s,error:c,refreshTheme:l},children:e})}e.s(["ThemeProvider",()=>i,"useThemeContext",()=>n])},175696,e=>{"use strict";var t=e.i(861745),r=e.i(843476);function o({locale:e,...o}){if(!e)throw Error(void 0);return(0,r.jsx)(t.IntlProvider,{locale:e,...o})}e.s(["default",()=>o])},956961,e=>{"use strict";var t=e.i(843476),r=e.i(217255);function o({children:e}){return(0,t.jsx)(r.SessionProvider,{children:e})}e.s(["SessionProvider",()=>o])},496305,e=>{"use strict";let t=(0,e.i(164645).createSlice)({name:"pos",initialState:{cart:[],orderType:"DINE_IN",locationId:null,cashierId:null,activeSessionId:null,tableNumber:null,customerName:null},reducers:{addToPosCart:(e,t)=>{let r=e.cart.find(e=>e.productId===t.payload.productId&&e.variantId===t.payload.variantId);r?r.quantity+=t.payload.quantity:e.cart.push(t.payload)},removeFromPosCart:(e,t)=>{e.cart=e.cart.filter(e=>e.id!==t.payload)},updatePosCartQuantity:(e,t)=>{let r=e.cart.find(e=>e.id===t.payload.id);r&&(r.quantity=t.payload.quantity,r.quantity<=0&&(e.cart=e.cart.filter(e=>e.id!==r.id)))},clearPosCart:e=>{e.cart=[]},setOrderType:(e,t)=>{e.orderType=t.payload},setLocation:(e,t)=>{e.locationId=t.payload},setCashier:(e,t)=>{e.cashierId=t.payload},setActiveSession:(e,t)=>{e.activeSessionId=t.payload},setTableNumber:(e,t)=>{e.tableNumber=t.payload},setCustomerName:(e,t)=>{e.customerName=t.payload}}}),{addToPosCart:r,removeFromPosCart:o,updatePosCartQuantity:n,clearPosCart:i,setOrderType:s,setLocation:a,setCashier:c,setActiveSession:u,setTableNumber:l,setCustomerName:p}=t.actions,d=t.reducer;e.s(["addToPosCart",0,r,"clearPosCart",0,i,"default",0,d,"removeFromPosCart",0,o,"setCashier",0,c,"setLocation",0,a,"setOrderType",0,s,"updatePosCartQuantity",0,n])},769345,(e,t,r)=>{"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(){}r.__esModule=!0,r.default=function(e){var t="".concat(e,"Storage");return!function(e){if(("undefined"==typeof self?"undefined":o(self))!=="object"||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(e){return!1}return!0}(t)?i:self[t]};var i={getItem:n,setItem:n,removeItem:n}},721158,(e,t,r)=>{"use strict";r.__esModule=!0,r.default=function(e){var t=(0,n.default)(e);return{getItem:function(e){return new Promise(function(r,o){r(t.getItem(e))})},setItem:function(e,r){return new Promise(function(o,n){o(t.setItem(e,r))})},removeItem:function(e){return new Promise(function(r,o){r(t.removeItem(e))})}}};var o,n=(o=e.r(769345))&&o.__esModule?o:{default:o}},731711,(e,t,r)=>{"use strict";var o;r.__esModule=!0,r.default=void 0,r.default=(0,((o=e.r(721158))&&o.__esModule?o:{default:o}).default)("local")},147861,e=>{"use strict";var t,r,o,n,i,s,a,c,u=e.i(843476),l=e.i(271645),p=e.i(155487);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.i(247167);function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){var t;if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");function r(){var e;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");for(var t,o,n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=(e=(t=f(r)).call.apply(t,[this].concat(i)))&&("object"===d(e)||"function"==typeof e)?e:h(this),m(h(o),"state",{bootstrapped:!1}),m(h(o),"_unsubscribe",void 0),m(h(o),"handlePersistorState",function(){o.props.persistor.getState().bootstrapped&&(o.props.onBeforeLift?Promise.resolve(o.props.onBeforeLift()).finally(function(){return o.setState({bootstrapped:!0})}):o.setState({bootstrapped:!0}),o._unsubscribe&&o._unsubscribe())}),o}return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&y(r,e),t=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}],function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(r.prototype,t),r}(l.PureComponent);m(b,"defaultProps",{children:null,loading:null});var g="persist:",v="persist/FLUSH",w="persist/REHYDRATE",O="persist/PAUSE",x="persist/PERSIST",j="persist/PURGE",P="persist/REGISTER";function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function E(e){return JSON.stringify(e)}function C(e){return JSON.parse(e)}function k(e){}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(r,!0).forEach(function(t){var o,n,i;o=e,n=t,i=r[t],n in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var I=e.i(308158);function N(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach(function(t){var o,n,i;o=e,n=t,i=r[t],n in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var L={registry:[],bootstrapped:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return R({},e,{registry:[].concat(N(e.registry),[t.key])});case w:var r=e.registry.indexOf(t.key),o=N(e.registry);return o.splice(r,1),R({},e,{registry:o,bootstrapped:0===o.length});default:return e}},B=e.i(164645),M=e.i(731711),q=e.i(10223),U=e.i(718218),z=e.i(496305);let F={key:"root",storage:M.default,whitelist:["cart","pos"]},H=(0,I.combineReducers)({cart:q.default,wishlist:U.default,pos:z.default}),G=(t=void 0!==F.version?F.version:-1,F.debug,r=void 0===F.stateReconciler?function(e,t,r,o){o.debug;var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach(function(t){var o,n,i;o=e,n=t,i=r[t],n in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r);return e&&"object"===_(e)&&Object.keys(e).forEach(function(o){"_persist"!==o&&t[o]===r[o]&&(n[o]=e[o])}),n}:F.stateReconciler,o=F.getStoredState||function(e){var t,r=e.transforms||[],o="".concat(void 0!==e.keyPrefix?e.keyPrefix:g).concat(e.key),n=e.storage;return e.debug,t=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:C,n.getItem(o).then(function(e){if(e)try{var o={},n=t(e);return Object.keys(n).forEach(function(e){o[e]=r.reduceRight(function(t,r){return r.out(t,e,n)},t(n[e]))}),o}catch(e){throw e}})},n=void 0!==F.timeout?F.timeout:5e3,i=null,s=!1,a=!0,c=function(e){return e._persist.rehydrated&&i&&!a&&i.update(e),e},function(e,u){var l,p,d=e||{},f=d._persist,h=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(d,["_persist"]);if(u.type===x){var y=!1,m=function(e,t){y||(u.rehydrate(F.key,e,t),y=!0)};if(n&&setTimeout(function(){y||m(void 0,Error('redux-persist: persist timed out for persist key "'.concat(F.key,'"')))},n),a=!1,i||(i=function(e){var t,r=e.blacklist||null,o=e.whitelist||null,n=e.transforms||[],i=e.throttle||0,s="".concat(void 0!==e.keyPrefix?e.keyPrefix:g).concat(e.key),a=e.storage;t=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:E;var c=e.writeFailHandler||null,u={},l={},p=[],d=null,f=null;function h(){if(0===p.length){d&&clearInterval(d),d=null;return}var e=p.shift(),r=n.reduce(function(t,r){return r.in(t,e,u)},u[e]);if(void 0!==r)try{l[e]=t(r)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete l[e];0===p.length&&(Object.keys(l).forEach(function(e){void 0===u[e]&&delete l[e]}),f=a.setItem(s,t(l)).catch(m))}function y(e){return(!o||-1!==o.indexOf(e)||"_persist"===e)&&(!r||-1===r.indexOf(e))}function m(e){c&&c(e)}return{update:function(e){Object.keys(e).forEach(function(t){y(t)&&u[t]!==e[t]&&-1===p.indexOf(t)&&p.push(t)}),Object.keys(u).forEach(function(t){void 0===e[t]&&y(t)&&-1===p.indexOf(t)&&void 0!==u[t]&&p.push(t)}),null===d&&(d=setInterval(h,i)),u=e},flush:function(){for(;0!==p.length;)h();return f||Promise.resolve()}}}(F)),f)return $({},H(h,u),{_persist:f});if("function"!=typeof u.rehydrate||"function"!=typeof u.register)throw Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return u.register(F.key),o(F).then(function(e){(F.migrate||function(e,t){return Promise.resolve(e)})(e,t).then(function(e){m(e)},function(e){m(void 0,e)})},function(e){m(void 0,e)}),$({},H(h,u),{_persist:{version:t,rehydrated:!1}})}if(u.type===j)return s=!0,u.result((l=F.storage,p="".concat(void 0!==F.keyPrefix?F.keyPrefix:g).concat(F.key),l.removeItem(p,k))),$({},H(h,u),{_persist:f});if(u.type===v)return u.result(i&&i.flush()),$({},H(h,u),{_persist:f});if(u.type===O)a=!0;else if(u.type===w){if(s)return $({},h,{_persist:$({},f,{rehydrated:!0})});if(u.key===F.key){var b=H(h,u),P=u.payload;return c($({},!1!==r&&void 0!==P?r(P,e,b,F):b,{_persist:$({},f,{rehydrated:!0})}))}}if(!f)return H(e,u);var _=H(h,u);return _===h?e:c($({},_,{_persist:f}))});function W({children:e}){let t=(0,l.useRef)(void 0),r=(0,l.useRef)(void 0);if(!t.current){var o,n,i,s,a,c;t.current=(0,B.configureStore)({reducer:G,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),o=t.current,n=!1,i=(0,I.createStore)(D,L,void 0),s=function(e){i.dispatch({type:P,key:e})},a=function(e,t,r){var s={type:w,payload:t,err:r,key:e};o.dispatch(s),i.dispatch(s),n&&c.getState().bootstrapped&&(n(),n=!1)},(c=R({},i,{purge:function(){var e=[];return o.dispatch({type:j,result:function(t){e.push(t)}}),Promise.all(e)},flush:function(){var e=[];return o.dispatch({type:v,result:function(t){e.push(t)}}),Promise.all(e)},pause:function(){o.dispatch({type:O})},persist:function(){o.dispatch({type:x,register:s,rehydrate:a})}})).persist(),r.current=c}return(0,u.jsx)(p.Provider,{store:t.current,children:(0,u.jsx)(b,{loading:null,persistor:r.current,children:e})})}e.s(["StoreProvider",()=>W],147861)},921675,e=>{"use strict";var t=e.i(843476),r=e.i(275144),o=e.i(986316),n=e.i(271645);function i(){let{theme:e,loading:t}=(0,o.useTheme)();return(0,n.useEffect)(()=>{let t;if(!e){let e=document.getElementById("theme-styles");e&&e.remove();return}let r=((t=[]).push(`--theme-color-primary: ${e.colors.primary};`),t.push(`--theme-color-secondary: ${e.colors.secondary};`),t.push(`--theme-color-accent: ${e.colors.accent};`),t.push(`--theme-color-background: ${e.colors.background};`),t.push(`--theme-color-surface: ${e.colors.surface};`),t.push(`--theme-color-border: ${e.colors.border};`),t.push(`--theme-color-text-primary: ${e.colors.text.primary};`),t.push(`--theme-color-text-secondary: ${e.colors.text.secondary};`),t.push(`--theme-color-text-muted: ${e.colors.text.muted};`),e.colors.success&&t.push(`--theme-color-success: ${e.colors.success};`),e.colors.warning&&t.push(`--theme-color-warning: ${e.colors.warning};`),e.colors.error&&t.push(`--theme-color-error: ${e.colors.error};`),e.colors.info&&t.push(`--theme-color-info: ${e.colors.info};`),t.push(`--theme-font-heading: ${e.typography.fontFamily.heading};`),t.push(`--theme-font-body: ${e.typography.fontFamily.body};`),t.push(`--theme-font-mono: ${e.typography.fontFamily.mono||"monospace"};`),Object.entries(e.typography.fontSize).forEach(([e,r])=>{t.push(`--theme-font-size-${e}: ${r};`)}),Object.entries(e.typography.fontWeight).forEach(([e,r])=>{t.push(`--theme-font-weight-${e}: ${r};`)}),Object.entries(e.typography.lineHeight||{}).forEach(([e,r])=>{t.push(`--theme-line-height-${e}: ${r};`)}),Object.entries(e.spacing).forEach(([e,r])=>{t.push(`--theme-spacing-${e}: ${r};`)}),Object.entries(e.borderRadius).forEach(([e,r])=>{t.push(`--theme-radius-${e}: ${r};`)}),t.push(`--theme-container-max-width: ${e.layout.containerMaxWidth};`),t.push(`--theme-page-padding: ${e.layout.pagePadding};`),t.push(`--theme-section-spacing: ${e.layout.sectionSpacing};`),e.components.header&&(t.push(`--theme-header-bg: ${e.components.header.backgroundColor};`),t.push(`--theme-header-text: ${e.components.header.textColor};`),t.push(`--theme-header-height: ${e.components.header.height};`)),e.components.footer&&(t.push(`--theme-footer-bg: ${e.components.footer.backgroundColor};`),t.push(`--theme-footer-text: ${e.components.footer.textColor};`)),e.components.buttons&&(t.push(`--theme-button-primary: ${e.components.buttons.primaryColor};`),t.push(`--theme-button-hover: ${e.components.buttons.hoverColor};`),t.push(`--theme-button-text: ${e.components.buttons.textColor};`),t.push(`--theme-button-padding: ${e.components.buttons.padding};`),t.push(`--theme-button-radius: ${e.components.buttons.borderRadius};`)),`:root {
  ${t.join("\n  ")}
}`),o=e.customCSS||"",n=r+(o?`

${o}`:""),i=document.getElementById("theme-styles");i&&i.remove();let s=document.createElement("style");return s.id="theme-styles",s.textContent=n,document.head.appendChild(s),console.log("Theme applied:",e.metadata?.name),()=>{let e=document.getElementById("theme-styles");e&&e.remove()}},[e]),null}function s({children:e}){return(0,t.jsxs)(r.ThemeProvider,{children:[(0,t.jsx)(i,{}),e]})}e.s(["ThemeProvider",()=>s],921675)},3303,(e,t,r)=>{t.exports=e.r(479520)},947735,e=>{"use strict";var t=e.i(843476),r=e.i(95987),o=e.i(3303),n=e.i(271645);function i(){let{settings:e}=(0,r.useSettings)(),i=e.seo_google_analytics_id,s=e.social_facebook_pixel_id,a=e.appearance_custom_js;return(0,n.useEffect)(()=>{if(a)try{let e=document.createElement("script");return e.textContent=a,document.body.appendChild(e),()=>{document.body.removeChild(e)}}catch(e){console.error("Error loading custom JS:",e)}},[a]),(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.default,{src:`https://www.googletagmanager.com/gtag/js?id=${i}`,strategy:"afterInteractive"}),(0,t.jsx)(o.default,{id:"google-analytics",strategy:"afterInteractive",children:`
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', '${i}');
            `})]}),s&&(0,t.jsx)(o.default,{id:"facebook-pixel",strategy:"afterInteractive",children:`
            !function(f,b,e,v,n,t,s)
            {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
            n.callMethod.apply(n,arguments):n.queue.push(arguments)};
            if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
            n.queue=[];t=b.createElement(e);t.async=!0;
            t.src=v;s=b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t,s)}(window, document,'script',
            'https://connect.facebook.net/en_US/fbevents.js');
            fbq('init', '${s}');
            fbq('track', 'PageView');
          `})]})}e.s(["CustomScripts",()=>i])},481441,e=>{"use strict";var t=e.i(95987),r=e.i(271645);function o(){let{settings:e}=(0,t.useSettings)(),o=e.appearance_custom_css;return(0,r.useEffect)(()=>{if(o){let e=document.createElement("style");return e.textContent=o,e.id="custom-store-styles",document.head.appendChild(e),()=>{let e=document.getElementById("custom-store-styles");e&&document.head.removeChild(e)}}},[o]),null}e.s(["CustomStyles",()=>o])},656421,e=>{"use strict";var t=e.i(843476),r=e.i(271645),o=e.i(618566),n=e.i(37727);function i(){let e=(0,o.usePathname)(),[i,s]=(0,r.useState)([]),[a,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(!1),p=async(e,t)=>{try{await fetch(`/api/popups/${e}/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:t})})}catch(e){console.error("Error tracking popup event:",e)}},d=(0,r.useCallback)(e=>{if((e=>{let t=`popup_${e.id}_last_shown`,r=localStorage.getItem(t);if(!r)return!0;let o=parseInt(r),n=Date.now();switch(e.frequency){case"always":default:return!0;case"once_per_session":return!1;case"once_per_day":return n-o>864e5;case"once_per_week":return n-o>6048e5}})(e)){let t;c(e),l(!0),t=`popup_${e.id}_last_shown`,localStorage.setItem(t,Date.now().toString()),p(e.id,"view")}},[]),f=()=>{a&&p(a.id,"dismissal"),l(!1),setTimeout(()=>c(null),300)},h=()=>{a&&(p(a.id,"click"),"link"===a.ctaType&&a.ctaUrl?window.location.href=a.ctaUrl:"discount_code"===a.ctaType?a.discountCode&&(navigator.clipboard.writeText(a.discountCode),alert(`Discount code ${a.discountCode} copied to clipboard!`)):"email_capture"===a.ctaType&&(p(a.id,"conversion"),f()))};(0,r.useEffect)(()=>{(async()=>{try{let t="/"===e?"HOMEPAGE":e.startsWith("/products/")?"PRODUCT_PAGES":"/cart"===e?"CART_PAGE":e.startsWith("/checkout")?"CHECKOUT":e.startsWith("/blog")?"BLOG":"ALL_PAGES",r=await fetch(`/api/popups/active?page=${t}&url=${e}`);if(r.ok){let e=await r.json();s(e)}}catch(e){console.error("Error fetching popups:",e)}})()},[e]),(0,r.useEffect)(()=>{if(0===i.length||a)return;let e=i[0],t=setTimeout(()=>{switch(e.type){case"EXIT_INTENT":y(e);break;case"TIMED":setTimeout(()=>d(e),1e3*(e.triggerValue||5));break;case"SCROLL_BASED":m(e);break;case"PAGE_LOAD":d(e)}},1e3*e.delaySeconds);return()=>clearTimeout(t)},[i,a,d]);let y=e=>{let t=r=>{r.clientY<=0&&(d(e),document.removeEventListener("mouseleave",t))};return document.addEventListener("mouseleave",t),()=>document.removeEventListener("mouseleave",t)},m=e=>{let t=()=>{window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100>=(e.triggerValue||50)&&(d(e),window.removeEventListener("scroll",t))};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)};return a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`fixed inset-0 transition-opacity duration-300 ${u?"opacity-100":"opacity-0 pointer-events-none"}`,style:{backgroundColor:a.overlayColor,zIndex:9998},onClick:f}),(0,t.jsx)("div",{className:`transition-all duration-300 ${u?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,style:{...(()=>{if(!a)return{};let e={position:"fixed",zIndex:9999,width:`${a.width}px`,height:a.height?`${a.height}px`:"auto"};switch(a.position){case"CENTER":return{...e,top:"50%",left:"50%",transform:"translate(-50%, -50%)"};case"TOP":return{...e,top:0,left:0,right:0,width:"100%"};case"BOTTOM":return{...e,bottom:0,left:0,right:0,width:"100%"};case"TOP_LEFT":return{...e,top:"20px",left:"20px"};case"TOP_RIGHT":return{...e,top:"20px",right:"20px"};case"BOTTOM_LEFT":return{...e,bottom:"20px",left:"20px"};case"BOTTOM_RIGHT":return{...e,bottom:"20px",right:"20px"};default:return e}})(),backgroundColor:a.backgroundColor,color:a.textColor},onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"relative rounded-lg shadow-2xl overflow-hidden",children:[a.showCloseButton&&(0,t.jsx)("button",{onClick:f,className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors z-10","aria-label":"Close popup",children:(0,t.jsx)(n.X,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[a.imageUrl&&(0,t.jsx)("img",{src:a.imageUrl,alt:"Popup",className:"w-full h-auto rounded"}),a.title&&(0,t.jsx)("h2",{className:"text-2xl font-bold",children:a.title}),(0,t.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:a.content}}),"email_capture"===a.ctaType&&(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h()},className:"space-y-2",children:[(0,t.jsx)("input",{type:"email",placeholder:"Enter your email",required:!0,className:"w-full px-4 py-2 border rounded"}),(0,t.jsx)("button",{type:"submit",className:"w-full py-3 rounded font-semibold transition-colors",style:{backgroundColor:a.buttonColor,color:a.buttonTextColor},children:a.buttonText})]}),"discount_code"===a.ctaType&&a.discountCode&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-100 rounded text-center",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Your discount code:"}),(0,t.jsx)("div",{className:"text-2xl font-bold tracking-wider",children:a.discountCode})]}),(0,t.jsx)("button",{onClick:h,className:"w-full py-3 rounded font-semibold transition-colors",style:{backgroundColor:a.buttonColor,color:a.buttonTextColor},children:a.buttonText})]}),"link"===a.ctaType&&(0,t.jsx)("button",{onClick:h,className:"w-full py-3 rounded font-semibold transition-colors",style:{backgroundColor:a.buttonColor,color:a.buttonTextColor},children:a.buttonText})]})]})})]}):null}e.s(["PopupManager",()=>i])}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f5797b7e-dd7e-556d-be64-ce56dc4db4ae")}catch(e){}}();
//# debugId=f5797b7e-dd7e-556d-be64-ce56dc4db4ae
