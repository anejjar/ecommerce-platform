(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59747,e=>{"use strict";var s=e.i(843476),a=e.i(271645),t=e.i(217255),l=e.i(618566),r=e.i(515288),i=e.i(519455),n=e.i(793479),c=e.i(110204),d=e.i(624687),o=e.i(699375),h=e.i(967489),u=e.i(677572),m=e.i(531278),x=e.i(356909),p=e.i(107233),j=e.i(727612),g=e.i(346897),f=e.i(239616),y=e.i(647780),v=e.i(586557),C=e.i(320438),b=e.i(286536),w=e.i(951445),N=e.i(453136),S=e.i(826707),T=e.i(750570),k=e.i(367240),D=e.i(98919),I=e.i(931091),L=e.i(473708),P=e.i(776639),B=e.i(487486),F=e.i(705766),A=e.i(437902),M=e.i(929592),R=e.i(270756),E=e.i(561659),O=e.i(878894),G=e.i(935832),G=G,V=e.i(634598),U=e.i(776223),z=e.i(102690),H=e.i(165863),$=e.i(598855);function W({settings:e,viewMode:t}){let[l,o]=(0,a.useState)(!1),h={narrow:"max-w-3xl",normal:"max-w-5xl",wide:"max-w-7xl"}[e.pageWidth||"normal"],u={rounded:"rounded-md",square:"rounded-none",pill:"rounded-full"}[e.buttonStyle||"rounded"],m={system:"font-sans",inter:"font-inter",roboto:"font-roboto",opensans:"font-opensans"}[e.fontFamily||"system"],x=e.primaryColor||"#000000",p=e.secondaryColor||"#666666";return(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" "+`${({desktop:"w-full",tablet:"max-w-2xl",mobile:"max-w-sm"})[t]} mx-auto transition-all duration-300`,children:[(0,s.jsx)(A.default,{id:"530a582871f2f71a",dynamic:[x,p,x],children:`.checkout-preview-primary{background-color:${x};color:#fff}.checkout-preview-text{color:${p}}.checkout-preview-border{border-color:${x}}`}),(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" "+`${m} bg-background min-h-screen p-4`,children:[e.logoUrl&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mb-6 text-center",children:(0,s.jsx)("img",{src:e.logoUrl,alt:"Store Logo",className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" h-12 mx-auto object-contain"})}),e.trustBadges&&e.trustBadges.length>0&&(0,s.jsx)($.TrustBadges,{badges:e.trustBadges,position:"header"}),e.showCountdownTimer&&e.countdownEndDate&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mb-6",children:(0,s.jsx)(V.CountdownTimer,{endDate:new Date(e.countdownEndDate),text:e.countdownText||void 0})}),e.showOrderCount&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mb-6",children:(0,s.jsx)($.OrderCountTicker,{show:e.showOrderCount,text:e.orderCountText||void 0})}),e.showTrustRating&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mb-6",children:(0,s.jsx)($.TrustRating,{show:e.showTrustRating,score:e.trustRatingScore||void 0,count:e.trustRatingCount||void 0})}),e.checkoutBanner&&(0,s.jsx)(M.Alert,{className:`mb-6 ${"success"===e.checkoutBannerType?"border-green-500 bg-green-50":"warning"===e.checkoutBannerType?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:(0,s.jsx)(M.AlertDescription,{children:e.checkoutBanner})}),e.promotionalBanners&&e.promotionalBanners.filter(e=>"top"===e.position).map(e=>(0,s.jsx)(M.Alert,{className:`mb-6 ${"success"===e.type?"border-green-500 bg-green-50":"warning"===e.type?"border-yellow-500 bg-yellow-50":"danger"===e.type?"border-red-500 bg-red-50":"border-blue-500 bg-blue-50"}`,children:(0,s.jsxs)(M.AlertDescription,{children:[e.message,e.link&&e.linkText&&(0,s.jsx)("a",{href:e.link,className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" ml-2 underline font-semibold",children:e.linkText})]})},e.id)),e.showFreeShippingBar&&e.freeShippingThreshold&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mb-6",children:(0,s.jsx)(U.FreeShippingBar,{currentTotal:99,threshold:Number(e.freeShippingThreshold),text:e.freeShippingBarText||void 0})}),"multi-step"===e.checkoutLayout&&"none"!==e.progressStyle&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mb-8",children:"steps"===e.progressStyle?(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" flex justify-between items-center",children:["Information","Shipping","Payment"].map((e,a)=>(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" flex-1 flex items-center",children:[(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" "+`flex items-center ${0===a?"checkout-preview-primary":"bg-gray-200"} rounded-full px-4 py-2 text-sm`,children:[(0,s.jsx)("span",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" font-semibold",children:a+1}),(0,s.jsx)("span",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" ml-2",children:e})]}),a<2&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" flex-1 h-0.5 bg-gray-200 mx-2"})]},e))}):(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{style:{width:"33%"},className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" checkout-preview-primary h-2 rounded-full"})})}),(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" "+`${h} mx-auto`,children:(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" "+`grid ${"right"===e.orderSummaryPosition?"md:grid-cols-2":"grid-cols-1"} gap-8`,children:["top"===e.orderSummaryPosition&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" md:col-span-2",children:(0,s.jsx)(q,{settings:e})}),(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" "+(("right"===e.orderSummaryPosition?"":"md:col-span-2")||""),children:[(0,s.jsxs)(r.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" text-2xl font-bold mb-6",children:"Checkout Information"}),(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" space-y-4",children:[(e.fieldOrder||["email","firstName","lastName","company","phone","alternativePhone","address","address2","city","state","country","deliveryDate","deliveryInstructions","giftMessage","orderNotes"]).map(a=>(function(e,a){var t;if(!(e=>{switch(e){case"phone":return a.showPhone;case"company":return a.showCompany;case"address2":return a.showAddressLine2;case"alternativePhone":return a.showAlternativePhone;case"deliveryInstructions":return a.showDeliveryInstructions;case"giftMessage":return a.showGiftMessage;case"deliveryDate":return a.showDeliveryDate;case"orderNotes":return a.enableOrderNotes;default:return!0}})(e))return null;let l=a.fieldLabels?.[e]||({email:"Email Address",firstName:"First Name",lastName:"Last Name",company:"Company",phone:"Phone Number",alternativePhone:"Alternative Phone",address:"Address",address2:"Address Line 2",city:"City",state:"Region",country:"Country",deliveryDate:"Preferred Delivery Date",deliveryInstructions:"Delivery Instructions",giftMessage:"Gift Message",orderNotes:"Order Notes"})[t=e]||t,r=a.fieldPlaceholders?.[e]||"",i="phone"===e&&a.requirePhone;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(c.Label,{children:[l,i&&(0,s.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),["orderNotes","deliveryInstructions","giftMessage"].includes(e)?(0,s.jsx)(d.Textarea,{placeholder:r,className:"mt-1"}):(0,s.jsx)(n.Input,{type:"email"===e?"email":"deliveryDate"===e?"date":"text",placeholder:r,className:"mt-1"})]},e)})(a,e)),e.customFields&&e.customFields.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" border-t pt-4 mt-4",children:(0,s.jsx)("h3",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" font-semibold mb-3",children:"Additional Information"})}),e.customFields.map(e=>(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]]),children:[(0,s.jsxs)(c.Label,{children:[e.label,e.required&&(0,s.jsx)("span",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" text-red-500 ml-1",children:"*"})]}),"textarea"===e.type?(0,s.jsx)(d.Textarea,{placeholder:e.placeholder,className:"mt-1"}):"select"===e.type?(0,s.jsxs)("select",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" w-full mt-1 p-2 border rounded-md",children:[(0,s.jsx)("option",{value:"",className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]]),children:"Select..."}),e.options?.map(e=>(0,s.jsx)("option",{value:e,className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]]),children:e},e))]}):"checkbox"===e.type?(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" flex items-center mt-2",children:[(0,s.jsx)("input",{type:"checkbox",className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mr-2"}),(0,s.jsx)("span",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" text-sm",children:e.placeholder})]}):(0,s.jsx)(n.Input,{type:"date"===e.type?"date":"text",placeholder:e.placeholder,className:"mt-1"})]},e.id))]})]}),(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-8 pt-6 border-t",children:[(0,s.jsxs)("h3",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" text-lg font-semibold mb-4 flex items-center",children:[(0,s.jsx)(E.CreditCard,{className:"mr-2 h-5 w-5"}),"Payment Method"]}),(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" p-4 border rounded-md bg-gray-50",children:(0,s.jsx)("p",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" text-sm checkout-preview-text",children:"Payment gateway preview"})})]}),e.showLowStock&&(0,s.jsxs)(M.Alert,{className:"mt-4 border-orange-500 bg-orange-50",children:[(0,s.jsx)(O.AlertTriangle,{className:"h-4 w-4 text-orange-600"}),(0,s.jsx)(M.AlertDescription,{className:"text-orange-800",children:e.lowStockText||"Only 3 items left in stock!"})]}),e.showGiftWithPurchase&&e.giftThreshold&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" flex items-start gap-3",children:[(0,s.jsx)(G.default,{className:"h-5 w-5 text-purple-600 mt-0.5"}),(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]]),children:[(0,s.jsx)("p",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" font-semibold text-purple-900 mb-1",children:"Free Gift with Purchase!"}),(0,s.jsx)("p",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" text-sm text-purple-800",children:e.giftDescription||`Spend ${Number(e.giftThreshold).toFixed(2)} MAD or more and get a free gift!`})]})]})}),e.showLoyaltyPoints&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-4 p-3 bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200 rounded-lg",children:(0,s.jsx)("p",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" text-sm font-medium text-amber-900",children:e.loyaltyPointsText||"â­ Earn 99 loyalty points with this order!"})}),e.trustBadges&&e.trustBadges.length>0&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-4",children:(0,s.jsx)($.TrustBadges,{badges:e.trustBadges,position:"payment"})}),e.showSecuritySeals&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-4",children:(0,s.jsx)($.SecuritySeals,{show:e.showSecuritySeals})}),(0,s.jsxs)(i.Button,{className:`w-full mt-6 ${u} checkout-preview-primary`,size:"lg",children:[(0,s.jsx)(R.Lock,{className:"mr-2 h-4 w-4"}),"Complete Order"]}),e.moneyBackGuarantee&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-4",children:(0,s.jsx)($.MoneyBackGuarantee,{message:e.moneyBackGuarantee})}),e.customerServiceDisplay&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-4",children:(0,s.jsx)($.CustomerServiceDisplay,{show:e.customerServiceDisplay,text:e.customerServiceText||void 0,phone:e.customerServicePhone||void 0,email:e.customerServiceEmail||void 0})})]}),e.showTestimonials&&e.testimonials&&e.testimonials.length>0&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-6",children:(0,s.jsx)(z.TestimonialsCarousel,{testimonials:e.testimonials})}),e.trustBadges&&e.trustBadges.length>0&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" mt-6",children:(0,s.jsx)($.TrustBadges,{badges:e.trustBadges,position:"footer"})})]}),"right"===e.orderSummaryPosition&&(0,s.jsx)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]]),children:(0,s.jsx)(q,{settings:e})}),"collapsible"===e.orderSummaryPosition&&(0,s.jsxs)("div",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" md:col-span-2",children:[(0,s.jsxs)("button",{onClick:()=>o(!l),className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" w-full p-4 border rounded-lg flex justify-between items-center mb-4 hover:bg-gray-50",children:[(0,s.jsx)("span",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]])+" font-semibold",children:"Order Summary"}),(0,s.jsx)("span",{className:A.default.dynamic([["530a582871f2f71a",[x,p,x]]]),children:l?"â–¼":"â–²"})]}),!l&&(0,s.jsx)(q,{settings:e})]})]})}),(0,s.jsx)(H.RecentPurchasePopup,{show:e.showRecentPurchases,delay:e.recentPurchaseDelay||5e3})]})]})}function q({settings:e}){return(0,s.jsxs)(r.Card,{className:"p-6 sticky top-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center pb-3 border-b",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Sample Product"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Qty: 1"})]})]}),(0,s.jsx)("span",{className:"font-semibold",children:"99.00 MAD"})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsx)("span",{children:"99.00 MAD"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"Shipping"}),(0,s.jsxs)("span",{children:[e.defaultShippingCost," MAD"]})]}),e.freeShippingThreshold&&(0,s.jsxs)("div",{className:"text-xs text-green-600 py-1",children:["Add ",(e.freeShippingThreshold-99).toFixed(2)," MAD more for free shipping!"]}),(0,s.jsxs)("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:[(99+Number(e.defaultShippingCost)).toFixed(2)," MAD"]})]})]})]})]})}var X=e.i(569074),Y=e.i(870273);function _({settings:e,setSettings:t}){let[l,u]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1),g=(s,a)=>{t({...e,trustBadges:e.trustBadges?.map(e=>e.id===s?{...e,...a}:e)||[]})},f=async(e,s)=>{u(!0);let a=new FormData;a.append("file",s),a.append("folder","trust-badges");try{let s=await fetch("/api/media/upload",{method:"POST",body:a});if(s.ok){let a=await s.json();g(e,{url:a.url})}}catch(e){console.error("Upload failed:",e)}finally{u(!1)}},y=(s,a)=>{t({...e,testimonials:e.testimonials?.map(e=>e.id===s?{...e,...a}:e)||[]})},v=async(e,s)=>{x(!0);let a=new FormData;a.append("file",s),a.append("folder","testimonials");try{let s=await fetch("/api/media/upload",{method:"POST",body:a});if(s.ok){let a=await s.json();y(e,{image:a.url})}}catch(e){console.error("Upload failed:",e)}finally{x(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{children:"Trust Badges"}),(0,s.jsx)(r.CardDescription,{children:"Upload trust badges to build credibility (up to 6)"})]}),(0,s.jsxs)(i.Button,{onClick:()=>{let s={id:`badge_${Date.now()}`,url:"",alt:"Trust Badge",position:"footer"};t({...e,trustBadges:[...e.trustBadges||[],s]})},disabled:(e.trustBadges?.length||0)>=6,size:"sm",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Add Badge"]})]})}),(0,s.jsx)(r.CardContent,{className:"space-y-4",children:e.trustBadges&&e.trustBadges.length>0?e.trustBadges.map(a=>(0,s.jsx)(r.Card,{className:"p-4",children:(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[a.url?(0,s.jsx)("img",{src:a.url,alt:a.alt,className:"h-16 w-16 object-contain border rounded"}):(0,s.jsx)("div",{className:"h-16 w-16 border-2 border-dashed rounded flex items-center justify-center text-gray-400",children:(0,s.jsx)(X.Upload,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Alt Text"}),(0,s.jsx)(n.Input,{value:a.alt,onChange:e=>g(a.id,{alt:e.target.value}),placeholder:"e.g., SSL Secure"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Position"}),(0,s.jsxs)(h.Select,{value:a.position,onValueChange:e=>g(a.id,{position:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"header",children:"Header"}),(0,s.jsx)(h.SelectItem,{value:"footer",children:"Footer"}),(0,s.jsx)(h.SelectItem,{value:"sidebar",children:"Sidebar"}),(0,s.jsx)(h.SelectItem,{value:"payment",children:"Payment Section"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Link (optional)"}),(0,s.jsx)(n.Input,{value:a.link||"",onChange:e=>g(a.id,{link:e.target.value}),placeholder:"https://..."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.Input,{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];s&&f(a.id,s)},disabled:l}),(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=a.id,void t({...e,trustBadges:e.trustBadges?.filter(e=>e.id!==s)||[]})},children:(0,s.jsx)(j.Trash2,{className:"h-4 w-4 text-red-500"})})]})]})]})})},a.id)):(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)("p",{children:"No trust badges added yet"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:'Click "Add Badge" to upload trust badges'})]})})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Security & Guarantees"}),(0,s.jsx)(r.CardDescription,{children:"Build trust with security messaging"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsx)(J,{label:"Show Security Seals",description:"Display SSL and secure checkout badges",checked:e.showSecuritySeals,onChange:s=>t({...e,showSecuritySeals:s})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"moneyBackGuarantee",children:"Money-Back Guarantee Message"}),(0,s.jsx)(d.Textarea,{id:"moneyBackGuarantee",value:e.moneyBackGuarantee||"",onChange:s=>t({...e,moneyBackGuarantee:s.target.value}),placeholder:"e.g., 100% satisfaction guaranteed or your money back within 30 days",rows:3})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Customer Service Contact"}),(0,s.jsx)(r.CardDescription,{children:"Display customer service information"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsx)(J,{label:"Show Customer Service Info",description:"Display customer service contact details",checked:e.customerServiceDisplay,onChange:s=>t({...e,customerServiceDisplay:s})}),e.customerServiceDisplay&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"customerServiceText",children:"Customer Service Message"}),(0,s.jsx)(d.Textarea,{id:"customerServiceText",value:e.customerServiceText||"",onChange:s=>t({...e,customerServiceText:s.target.value}),placeholder:"We're here to help! Contact us anytime.",rows:2})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"customerServicePhone",children:"Phone Number"}),(0,s.jsx)(n.Input,{id:"customerServicePhone",value:e.customerServicePhone||"",onChange:s=>t({...e,customerServicePhone:s.target.value}),placeholder:"+212 XXX-XXXX"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"customerServiceEmail",children:"Email Address"}),(0,s.jsx)(n.Input,{id:"customerServiceEmail",type:"email",value:e.customerServiceEmail||"",onChange:s=>t({...e,customerServiceEmail:s.target.value}),placeholder:"support@example.com"})]})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Social Proof"}),(0,s.jsx)(r.CardDescription,{children:"Leverage social proof to increase conversions"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsx)(J,{label:"Show Order Count Ticker",description:"Display number of recent orders",checked:e.showOrderCount,onChange:s=>t({...e,showOrderCount:s})}),e.showOrderCount&&(0,s.jsxs)("div",{className:"pl-6",children:[(0,s.jsx)(c.Label,{htmlFor:"orderCountText",children:"Order Count Text"}),(0,s.jsx)(n.Input,{id:"orderCountText",value:e.orderCountText||"",onChange:s=>t({...e,orderCountText:s.target.value}),placeholder:"X orders placed in the last hour"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Use 'X' as placeholder for the count"})]}),(0,s.jsx)(J,{label:"Show Recent Purchases",description:"Display popup notifications of recent purchases",checked:e.showRecentPurchases,onChange:s=>t({...e,showRecentPurchases:s})}),e.showRecentPurchases&&(0,s.jsxs)("div",{className:"pl-6",children:[(0,s.jsx)(c.Label,{htmlFor:"recentPurchaseDelay",children:"Popup Delay (milliseconds)"}),(0,s.jsx)(n.Input,{id:"recentPurchaseDelay",type:"number",value:e.recentPurchaseDelay||5e3,onChange:s=>t({...e,recentPurchaseDelay:parseInt(s.target.value)})})]}),(0,s.jsx)(J,{label:"Show Trust Rating",description:"Display overall customer rating",checked:e.showTrustRating,onChange:s=>t({...e,showTrustRating:s})}),e.showTrustRating&&(0,s.jsxs)("div",{className:"pl-6 grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"trustRatingScore",children:"Rating Score (0-5)"}),(0,s.jsx)(n.Input,{id:"trustRatingScore",type:"number",step:"0.1",min:"0",max:"5",value:e.trustRatingScore||4.8,onChange:s=>t({...e,trustRatingScore:parseFloat(s.target.value)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"trustRatingCount",children:"Number of Reviews"}),(0,s.jsx)(n.Input,{id:"trustRatingCount",type:"number",value:e.trustRatingCount||0,onChange:s=>t({...e,trustRatingCount:parseInt(s.target.value)})})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{children:"Customer Testimonials"}),(0,s.jsx)(r.CardDescription,{children:"Showcase customer reviews and feedback"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Switch,{checked:e.showTestimonials,onCheckedChange:s=>t({...e,showTestimonials:s})}),(0,s.jsxs)(i.Button,{onClick:()=>{let s={id:`testimonial_${Date.now()}`,name:"",text:"",rating:5};t({...e,testimonials:[...e.testimonials||[],s]})},size:"sm",disabled:!e.showTestimonials,children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Add Testimonial"]})]})]})}),(0,s.jsx)(r.CardContent,{className:"space-y-4",children:e.showTestimonials&&e.testimonials&&e.testimonials.length>0?e.testimonials.map(a=>(0,s.jsx)(r.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[a.image?(0,s.jsx)("img",{src:a.image,alt:a.name,className:"h-12 w-12 rounded-full object-cover"}):(0,s.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-full flex items-center justify-center text-gray-400",children:(0,s.jsx)(X.Upload,{className:"h-5 w-5"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(n.Input,{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];s&&v(a.id,s)},disabled:m,className:"mb-2"})}),(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=a.id,void t({...e,testimonials:e.testimonials?.filter(e=>e.id!==s)||[]})},children:(0,s.jsx)(j.Trash2,{className:"h-4 w-4 text-red-500"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(n.Input,{value:a.name,onChange:e=>y(a.id,{name:e.target.value}),placeholder:"Customer name"}),(0,s.jsx)(n.Input,{value:a.location||"",onChange:e=>y(a.id,{location:e.target.value}),placeholder:"Location (optional)"})]}),(0,s.jsx)(d.Textarea,{value:a.text,onChange:e=>y(a.id,{text:e.target.value}),placeholder:"Testimonial text...",rows:3}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Label,{children:"Rating:"}),(0,s.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>(0,s.jsx)("button",{onClick:()=>y(a.id,{rating:e}),className:`${e<=a.rating?"text-yellow-400":"text-gray-300"}`,children:(0,s.jsx)(Y.Star,{className:"h-5 w-5 fill-current"})},e))})]}),(0,s.jsx)(n.Input,{value:a.date||"",onChange:e=>y(a.id,{date:e.target.value}),placeholder:"Date (optional, e.g., 'January 2025')"})]})},a.id)):(0,s.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:e.showTestimonials?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"No testimonials added yet"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:'Click "Add Testimonial" to showcase customer feedback'})]}):(0,s.jsx)("p",{children:"Enable testimonials to start adding customer reviews"})})})]})]})}function J({label:e,description:a,checked:t,onChange:l}){return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(c.Label,{children:e}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a})]}),(0,s.jsx)(o.Switch,{checked:t,onCheckedChange:l})]})}var K=e.i(87316);function Q({settings:e,setSettings:a}){let t=(s,t)=>{a({...e,promotionalBanners:e.promotionalBanners?.map(e=>e.id===s?{...e,...t}:e)||[]})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Countdown Timer"}),(0,s.jsx)(r.CardDescription,{children:"Create urgency with time-limited offers"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsx)(Z,{label:"Show Countdown Timer",description:"Display countdown to create urgency",checked:e.showCountdownTimer,onChange:s=>a({...e,showCountdownTimer:s})}),e.showCountdownTimer&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"countdownEndDate",children:"End Date & Time"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)(K.Calendar,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)(n.Input,{id:"countdownEndDate",type:"datetime-local",value:e.countdownEndDate?new Date(e.countdownEndDate).toISOString().slice(0,16):"",onChange:s=>a({...e,countdownEndDate:s.target.value?new Date(s.target.value):null})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"countdownText",children:"Countdown Message"}),(0,s.jsx)(n.Input,{id:"countdownText",value:e.countdownText||"",onChange:s=>a({...e,countdownText:s.target.value}),placeholder:"e.g., Limited Time Offer!"})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{children:"Promotional Banners"}),(0,s.jsx)(r.CardDescription,{children:"Create scheduled promotional messages"})]}),(0,s.jsxs)(i.Button,{onClick:()=>{let s={id:`banner_${Date.now()}`,message:"",type:"info",position:"top"};a({...e,promotionalBanners:[...e.promotionalBanners||[],s]})},size:"sm",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Add Banner"]})]})}),(0,s.jsx)(r.CardContent,{className:"space-y-4",children:e.promotionalBanners&&e.promotionalBanners.length>0?e.promotionalBanners.map((l,o)=>(0,s.jsx)(r.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("h4",{className:"font-semibold",children:["Banner #",o+1]}),(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=l.id,void a({...e,promotionalBanners:e.promotionalBanners?.filter(e=>e.id!==s)||[]})},children:(0,s.jsx)(j.Trash2,{className:"h-4 w-4 text-red-500"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Banner Message"}),(0,s.jsx)(d.Textarea,{value:l.message,onChange:e=>t(l.id,{message:e.target.value}),placeholder:"Your promotional message...",rows:2})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Banner Type"}),(0,s.jsxs)(h.Select,{value:l.type,onValueChange:e=>t(l.id,{type:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"info",children:"Info (Blue)"}),(0,s.jsx)(h.SelectItem,{value:"success",children:"Success (Green)"}),(0,s.jsx)(h.SelectItem,{value:"warning",children:"Warning (Yellow)"}),(0,s.jsx)(h.SelectItem,{value:"danger",children:"Urgent (Red)"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Position"}),(0,s.jsxs)(h.Select,{value:l.position,onValueChange:e=>t(l.id,{position:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"top",children:"Top of Page"}),(0,s.jsx)(h.SelectItem,{value:"middle",children:"Middle"}),(0,s.jsx)(h.SelectItem,{value:"bottom",children:"Bottom"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Link URL (optional)"}),(0,s.jsx)(n.Input,{value:l.link||"",onChange:e=>t(l.id,{link:e.target.value}),placeholder:"https://..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Link Text (optional)"}),(0,s.jsx)(n.Input,{value:l.linkText||"",onChange:e=>t(l.id,{linkText:e.target.value}),placeholder:"e.g., Shop Now"})]})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground border-t pt-2 mt-2",children:(0,s.jsx)("p",{children:"Schedule feature coming soon: Set start/end dates for automatic display"})})]})},l.id)):(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)("p",{children:"No promotional banners added yet"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:'Click "Add Banner" to create promotional messages'})]})})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Free Shipping Progress Bar"}),(0,s.jsx)(r.CardDescription,{children:"Show customers how close they are to free shipping"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsx)(Z,{label:"Show Free Shipping Bar",description:"Display progress bar toward free shipping",checked:e.showFreeShippingBar,onChange:s=>a({...e,showFreeShippingBar:s})}),e.showFreeShippingBar&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"freeShippingBarText",children:"Progress Bar Text"}),(0,s.jsx)(n.Input,{id:"freeShippingBarText",value:e.freeShippingBarText||"",onChange:s=>a({...e,freeShippingBarText:s.target.value}),placeholder:"Add {amount} more for free shipping!"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Use ","{amount}"," as placeholder for remaining amount"]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Product Upsells"}),(0,s.jsx)(r.CardDescription,{children:"Recommend products during checkout"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsx)(Z,{label:"Show Upsell Products",description:"Display product recommendations in checkout",checked:e.showUpsells,onChange:s=>a({...e,showUpsells:s})}),e.showUpsells&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"upsellTitle",children:"Upsell Section Title"}),(0,s.jsx)(n.Input,{id:"upsellTitle",value:e.upsellTitle||"",onChange:s=>a({...e,upsellTitle:s.target.value}),placeholder:"You might also like..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Upsell Position"}),(0,s.jsxs)(h.Select,{value:e.upsellPosition||"cart",onValueChange:s=>a({...e,upsellPosition:s}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"cart",children:"In Cart Section"}),(0,s.jsx)(h.SelectItem,{value:"below-form",children:"Below Checkout Form"}),(0,s.jsx)(h.SelectItem,{value:"modal",children:"As Modal Popup"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"upsellProducts",children:"Product IDs (comma-separated)"}),(0,s.jsx)(n.Input,{id:"upsellProducts",value:e.upsellProducts?.join(", ")||"",onChange:s=>a({...e,upsellProducts:s.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"product-id-1, product-id-2, product-id-3"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter product IDs to show as upsells (leave empty for automatic recommendations)"})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Urgency & Scarcity"}),(0,s.jsx)(r.CardDescription,{children:"Create urgency to encourage purchases"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsx)(Z,{label:"Show Low Stock Warnings",description:"Alert customers when items are low in stock",checked:e.showLowStock,onChange:s=>a({...e,showLowStock:s})}),e.showLowStock&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"pl-6 space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"lowStockThreshold",children:"Low Stock Threshold"}),(0,s.jsx)(n.Input,{id:"lowStockThreshold",type:"number",value:e.lowStockThreshold||5,onChange:s=>a({...e,lowStockThreshold:parseInt(s.target.value)})}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Show warning when stock is below this number"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"lowStockText",children:"Low Stock Message"}),(0,s.jsx)(n.Input,{id:"lowStockText",value:e.lowStockText||"",onChange:s=>a({...e,lowStockText:s.target.value}),placeholder:"Only X items left in stock!"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Use 'X' as placeholder for stock count"})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"scarcityMessage",children:"General Scarcity Message"}),(0,s.jsx)(d.Textarea,{id:"scarcityMessage",value:e.scarcityMessage||"",onChange:s=>a({...e,scarcityMessage:s.target.value}),placeholder:"e.g., High demand! 12 people are viewing this product right now.",rows:2})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Urgency Badge Style"}),(0,s.jsxs)(h.Select,{value:e.urgencyBadgeStyle||"warning",onValueChange:s=>a({...e,urgencyBadgeStyle:s}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"warning",children:"Warning (Yellow)"}),(0,s.jsx)(h.SelectItem,{value:"danger",children:"Danger (Red)"}),(0,s.jsx)(h.SelectItem,{value:"info",children:"Info (Blue)"})]})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Incentives & Rewards"}),(0,s.jsx)(r.CardDescription,{children:"Encourage purchases with rewards and incentives"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Discount Code Field Position"}),(0,s.jsxs)(h.Select,{value:e.discountFieldPosition||"top",onValueChange:s=>a({...e,discountFieldPosition:s}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"top",children:"Top of Cart"}),(0,s.jsx)(h.SelectItem,{value:"bottom",children:"Bottom of Cart"}),(0,s.jsx)(h.SelectItem,{value:"floating",children:"Floating Button"})]})]})]}),(0,s.jsx)(Z,{label:"Show Loyalty Points",description:"Display points earned with this purchase",checked:e.showLoyaltyPoints,onChange:s=>a({...e,showLoyaltyPoints:s})}),e.showLoyaltyPoints&&(0,s.jsxs)("div",{className:"pl-6",children:[(0,s.jsx)(c.Label,{htmlFor:"loyaltyPointsText",children:"Loyalty Points Message"}),(0,s.jsx)(n.Input,{id:"loyaltyPointsText",value:e.loyaltyPointsText||"",onChange:s=>a({...e,loyaltyPointsText:s.target.value}),placeholder:"â­ Earn 99 points with this order!"})]}),(0,s.jsx)(Z,{label:"Gift with Purchase",description:"Offer a free gift above a certain amount",checked:e.showGiftWithPurchase,onChange:s=>a({...e,showGiftWithPurchase:s})}),e.showGiftWithPurchase&&(0,s.jsxs)("div",{className:"pl-6 space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"giftThreshold",children:"Minimum Purchase Amount (MAD)"}),(0,s.jsx)(n.Input,{id:"giftThreshold",type:"number",step:"0.01",value:e.giftThreshold||"",onChange:s=>a({...e,giftThreshold:parseFloat(s.target.value)||null}),placeholder:"500.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"giftDescription",children:"Gift Description"}),(0,s.jsx)(d.Textarea,{id:"giftDescription",value:e.giftDescription||"",onChange:s=>a({...e,giftDescription:s.target.value}),placeholder:"Get a free branded tote bag with orders over 500 MAD!",rows:2})]})]}),(0,s.jsx)(Z,{label:"Referral Discount",description:"Enable referral discount messaging",checked:e.referralDiscountEnabled,onChange:s=>a({...e,referralDiscountEnabled:s})}),e.referralDiscountEnabled&&(0,s.jsxs)("div",{className:"pl-6",children:[(0,s.jsx)(c.Label,{htmlFor:"referralDiscountText",children:"Referral Message"}),(0,s.jsx)(n.Input,{id:"referralDiscountText",value:e.referralDiscountText||"",onChange:s=>a({...e,referralDiscountText:s.target.value}),placeholder:"Referred by a friend? Get 10% off your first order!"})]})]})]})]})}function Z({label:e,description:a,checked:t,onChange:l}){return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(c.Label,{children:e}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a})]}),(0,s.jsx)(o.Switch,{checked:t,onCheckedChange:l})]})}var ee=e.i(180752);function es(){let{data:e,status:A}=(0,t.useSession)(),M=(0,l.useRouter)(),[R,E]=(0,a.useState)(!0),[O,G]=(0,a.useState)(!1),[V,U]=(0,a.useState)(!1),[z,H]=(0,a.useState)("desktop"),[$,q]=(0,a.useState)(null),[X,Y]=(0,a.useState)(null),[J,K]=(0,a.useState)([]),[Z,es]=(0,a.useState)([]),[et,el]=(0,a.useState)(""),[er,ei]=(0,a.useState)(""),[en,ec]=(0,a.useState)(""),[ed,eo]=(0,a.useState)(!1),[eh,eu]=(0,a.useState)(!1),[em,ex]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let s=async()=>{try{let e=await fetch("/api/features/enabled");if(e.ok){let s=await e.json(),a=s.features?.includes("checkout_customization");q(a)}}catch(e){console.error("Error checking feature flag:",e),q(!1)}};"loading"!==A&&e&&s()},[A,e,M]),(0,a.useEffect)(()=>{if("loading"!==A){if(!e||!["ADMIN","SUPERADMIN","MANAGER"].includes(e.user.role))return void M.push("/admin/dashboard");null!==$&&ep()}},[e,A,M,$]);let ep=async()=>{try{E(!0),await Promise.all([ej(),eg(),ef()])}finally{E(!1)}},ej=async()=>{try{let e=await fetch("/api/admin/checkout-settings");if(e.ok){let s=await e.json();Y(s)}}catch(e){console.error("Error fetching checkout settings:",e)}},eg=async()=>{try{let e=await fetch("/api/admin/regions");if(e.ok){let s=await e.json();K(s)}}catch(e){console.error("Error fetching regions:",e)}},ef=async()=>{try{let e=await fetch("/api/admin/cities");if(e.ok){let s=await e.json();es(s)}}catch(e){console.error("Error fetching cities:",e)}},ey=async()=>{if(X){G(!0);try{if((await fetch("/api/admin/checkout-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)})).ok)F.default.success("Checkout settings saved successfully!");else throw Error("Failed to save settings")}catch(e){F.default.error("Failed to save checkout settings"),console.error(e)}finally{G(!1)}}},ev=async()=>{if(confirm("Are you sure you want to reset all checkout customization settings to default? This action cannot be undone.")){G(!0);try{let e=await fetch("/api/admin/checkout-settings",{method:"DELETE"});if(e.ok){let s=await e.json();Y(s.settings),F.default.success("Checkout settings reset to default successfully!")}else throw Error("Failed to reset settings")}catch(e){F.default.error("Failed to reset checkout settings"),console.error(e)}finally{G(!1)}}},eC=(e,s)=>{Y({...X,customFields:X?.customFields?.map(a=>a.id===e?{...a,...s}:a)||[]})},eb=async()=>{if(!et.trim())return void F.default.error("Please enter a region name");eo(!0);try{let e=await fetch("/api/admin/regions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:et})});if(e.ok)F.default.success("Region added successfully!"),el(""),eg();else{let s=await e.json();F.default.error(s.error||"Failed to add region")}}catch(e){F.default.error("Failed to add region")}finally{eo(!1)}},ew=async e=>{if(confirm("Are you sure? This will delete all cities in this region."))try{(await fetch(`/api/admin/regions/${e}`,{method:"DELETE"})).ok?(F.default.success("Region deleted successfully!"),eg(),ef()):F.default.error("Failed to delete region")}catch(e){F.default.error("Failed to delete region")}},eN=async()=>{if(!er.trim())return void F.default.error("Please enter a city name");if(!en)return void F.default.error("Please select a region");eu(!0);try{let e=await fetch("/api/admin/cities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:er,regionId:en})});if(e.ok)F.default.success("City added successfully!"),ei(""),ef(),eg();else{let s=await e.json();F.default.error(s.error||"Failed to add city")}}catch(e){F.default.error("Failed to add city")}finally{eu(!1)}},eS=async e=>{if(confirm("Are you sure you want to delete this city?"))try{(await fetch(`/api/admin/cities/${e}`,{method:"DELETE"})).ok?(F.default.success("City deleted successfully!"),ef(),eg()):F.default.error("Failed to delete city")}catch(e){F.default.error("Failed to delete city")}};return"loading"===A||R||null===$?(0,s.jsxs)("div",{className:"flex items-center justify-center min-h-[400px]",children:[(0,s.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-gray-500"}),null===$&&(0,s.jsx)("p",{className:"ml-3 text-muted-foreground",children:"Checking feature access..."})]}):e&&["ADMIN","SUPERADMIN","MANAGER"].includes(e.user.role)&&X?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"sticky top-0 z-10 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b pb-4 -mx-8 px-8 pt-8",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Checkout Settings"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:$?"Advanced checkout customization with branding, trust elements, and marketing features":"Manage basic checkout settings and location configurations"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,s.jsxs)(i.Button,{variant:V?"default":"outline",size:"sm",onClick:()=>U(!V),className:"whitespace-nowrap",children:[(0,s.jsx)(b.Eye,{className:"h-4 w-4 mr-2"}),V?"Hide":"Show"," Preview"]}),$&&(0,s.jsxs)(i.Button,{variant:"outline",onClick:ev,disabled:O,size:"lg",className:"whitespace-nowrap",children:[(0,s.jsx)(k.RotateCcw,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),(0,s.jsx)(i.Button,{onClick:ey,disabled:O,size:"lg",className:"whitespace-nowrap",children:O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Save,{className:"mr-2 h-4 w-4"}),"Save All Settings"]})})]})]})}),(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(u.Tabs,{defaultValue:"customization",className:"space-y-6",children:[(0,s.jsx)("div",{className:"overflow-x-auto -mx-2 px-2",children:(0,s.jsxs)(u.TabsList,{className:"inline-flex w-auto min-w-full",children:[(0,s.jsxs)(u.TabsTrigger,{value:"customization",className:"flex items-center gap-2",children:[(0,s.jsx)(f.Settings,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Basic Settings"})]}),(0,s.jsxs)(u.TabsTrigger,{value:"locations",className:"flex items-center gap-2",children:[(0,s.jsx)(g.MapPin,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Locations"})]}),$?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.TabsTrigger,{value:"branding",className:"flex items-center gap-2",children:[(0,s.jsx)(y.Palette,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Branding"})]}),(0,s.jsxs)(u.TabsTrigger,{value:"layout",className:"flex items-center gap-2",children:[(0,s.jsx)(v.Layout,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Layout"})]}),(0,s.jsxs)(u.TabsTrigger,{value:"fields",className:"flex items-center gap-2",children:[(0,s.jsx)(C.Type,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Fields"})]}),(0,s.jsxs)(u.TabsTrigger,{value:"trust",className:"flex items-center gap-2",children:[(0,s.jsx)(D.Shield,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Trust"})]}),(0,s.jsxs)(u.TabsTrigger,{value:"marketing",className:"flex items-center gap-2",children:[(0,s.jsx)(I.Megaphone,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Marketing"})]})]}):(0,s.jsxs)(u.TabsTrigger,{value:"premium-locked",disabled:!0,className:"flex items-center gap-2 opacity-50 cursor-not-allowed",children:[(0,s.jsx)("span",{children:"ðŸ”’"}),(0,s.jsx)("span",{children:"Premium Features"}),(0,s.jsx)(B.Badge,{variant:"outline",className:"ml-1 text-xs",children:"Upgrade to PRO"})]})]})}),(0,s.jsx)(u.TabsContent,{value:"branding",className:"space-y-4",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Brand Identity"}),(0,s.jsx)(r.CardDescription,{children:"Customize your checkout's visual appearance"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{children:"Checkout Logo"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select your store logo to display at the top of the checkout page"}),X.logoUrl&&(0,s.jsx)("div",{className:"mb-2 p-4 border rounded-lg bg-muted/50 flex items-center justify-center",children:(0,s.jsx)("img",{src:X.logoUrl,alt:"Logo",className:"h-12 object-contain"})}),(0,s.jsxs)(i.Button,{type:"button",variant:"outline",onClick:()=>ex(!0),children:[(0,s.jsx)(L.Image,{className:"w-4 h-4 mr-2"}),X.logoUrl?"Change Logo":"Select Logo"]}),(0,s.jsx)(ee.MediaPicker,{open:em,onOpenChange:ex,onSelect:e=>{e.length>0&&(Y({...X,logoUrl:e[0].url}),F.default.success("Logo selected successfully!"))},multiple:!1,type:"IMAGE"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"primaryColor",children:"Primary Color"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Main color for buttons and accents"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.Input,{id:"primaryColor",type:"color",value:X.primaryColor||"#000000",onChange:e=>Y({...X,primaryColor:e.target.value}),className:"w-20 h-10 cursor-pointer"}),(0,s.jsx)(n.Input,{type:"text",value:X.primaryColor||"#000000",onChange:e=>Y({...X,primaryColor:e.target.value}),placeholder:"#000000",className:"font-mono"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"secondaryColor",children:"Secondary Color"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Color for secondary elements"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.Input,{id:"secondaryColor",type:"color",value:X.secondaryColor||"#666666",onChange:e=>Y({...X,secondaryColor:e.target.value}),className:"w-20 h-10 cursor-pointer"}),(0,s.jsx)(n.Input,{type:"text",value:X.secondaryColor||"#666666",onChange:e=>Y({...X,secondaryColor:e.target.value}),placeholder:"#666666",className:"font-mono"})]})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"buttonStyle",children:"Button Style"}),(0,s.jsxs)(h.Select,{value:X.buttonStyle||"rounded",onValueChange:e=>Y({...X,buttonStyle:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"rounded",children:"Rounded"}),(0,s.jsx)(h.SelectItem,{value:"square",children:"Square"}),(0,s.jsx)(h.SelectItem,{value:"pill",children:"Pill"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"fontFamily",children:"Font Family"}),(0,s.jsxs)(h.Select,{value:X.fontFamily||"system",onValueChange:e=>Y({...X,fontFamily:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"system",children:"System"}),(0,s.jsx)(h.SelectItem,{value:"inter",children:"Inter"}),(0,s.jsx)(h.SelectItem,{value:"roboto",children:"Roboto"}),(0,s.jsx)(h.SelectItem,{value:"opensans",children:"Open Sans"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.Label,{htmlFor:"pageWidth",children:"Page Width"}),(0,s.jsxs)(h.Select,{value:X.pageWidth||"normal",onValueChange:e=>Y({...X,pageWidth:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"narrow",children:"Narrow"}),(0,s.jsx)(h.SelectItem,{value:"normal",children:"Normal"}),(0,s.jsx)(h.SelectItem,{value:"wide",children:"Wide"})]})]})]})]})]})]})}),(0,s.jsxs)(u.TabsContent,{value:"layout",className:"space-y-6",children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Layout Configuration"}),(0,s.jsx)(r.CardDescription,{children:"Control the structure and flow of your checkout"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"checkoutLayout",children:"Checkout Type"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Choose between single-page or multi-step checkout"}),(0,s.jsxs)(h.Select,{value:X.checkoutLayout||"single",onValueChange:e=>Y({...X,checkoutLayout:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"single",children:"Single Page"}),(0,s.jsx)(h.SelectItem,{value:"multi-step",children:"Multi-Step"})]})]})]}),"multi-step"===X.checkoutLayout&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"progressStyle",children:"Progress Indicator"}),(0,s.jsxs)(h.Select,{value:X.progressStyle||"steps",onValueChange:e=>Y({...X,progressStyle:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"steps",children:"Step Numbers"}),(0,s.jsx)(h.SelectItem,{value:"bar",children:"Progress Bar"}),(0,s.jsx)(h.SelectItem,{value:"none",children:"No Indicator"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"orderSummaryPosition",children:"Order Summary Position"}),(0,s.jsxs)(h.Select,{value:X.orderSummaryPosition||"right",onValueChange:e=>Y({...X,orderSummaryPosition:e}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"right",children:"Right Sidebar"}),(0,s.jsx)(h.SelectItem,{value:"top",children:"Above Form"}),(0,s.jsx)(h.SelectItem,{value:"collapsible",children:"Collapsible"})]})]})]})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Custom Messages"}),(0,s.jsx)(r.CardDescription,{children:"Add custom messages to enhance the checkout experience"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"checkoutBanner",children:"Checkout Banner"}),(0,s.jsx)(d.Textarea,{id:"checkoutBanner",value:X.checkoutBanner||"",onChange:e=>Y({...X,checkoutBanner:e.target.value}),placeholder:"e.g., Free shipping on orders over 500 MAD!",rows:3}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)(c.Label,{htmlFor:"bannerType",children:"Banner Type"}),(0,s.jsxs)(h.Select,{value:X.checkoutBannerType||"info",onValueChange:e=>Y({...X,checkoutBannerType:e}),children:[(0,s.jsx)(h.SelectTrigger,{className:"mt-1",children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"info",children:"Info (Blue)"}),(0,s.jsx)(h.SelectItem,{value:"success",children:"Success (Green)"}),(0,s.jsx)(h.SelectItem,{value:"warning",children:"Warning (Yellow)"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"thankYouMessage",children:"Thank You Message"}),(0,s.jsx)(d.Textarea,{id:"thankYouMessage",value:X.thankYouMessage||"",onChange:e=>Y({...X,thankYouMessage:e.target.value}),placeholder:"Thank you for your order! We'll process it shortly.",rows:4})]})]})]})]}),(0,s.jsxs)(u.TabsContent,{value:"fields",className:"space-y-6",children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Field Visibility"}),(0,s.jsx)(r.CardDescription,{children:"Control which fields are shown in the checkout form"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsx)(ea,{label:"Phone Number Field",description:"Show phone number input in checkout",checked:X.showPhone,onChange:e=>Y({...X,showPhone:e})}),X.showPhone&&(0,s.jsx)("div",{className:"pl-6",children:(0,s.jsx)(ea,{label:"Require Phone Number",description:"Make phone number a required field",checked:X.requirePhone,onChange:e=>Y({...X,requirePhone:e})})}),(0,s.jsx)(ea,{label:"Company Field",description:"Show company name input in checkout",checked:X.showCompany,onChange:e=>Y({...X,showCompany:e})}),(0,s.jsx)(ea,{label:"Address Line 2",description:"Show second address line (apartment, suite, etc.)",checked:X.showAddressLine2,onChange:e=>Y({...X,showAddressLine2:e})}),(0,s.jsx)(ea,{label:"Order Notes",description:"Allow customers to add notes to their order",checked:X.enableOrderNotes,onChange:e=>Y({...X,enableOrderNotes:e})}),X.enableOrderNotes&&(0,s.jsxs)("div",{className:"pl-6",children:[(0,s.jsx)(c.Label,{htmlFor:"orderNotesLabel",children:"Order Notes Label"}),(0,s.jsx)(n.Input,{id:"orderNotesLabel",value:X.orderNotesLabel||"",onChange:e=>Y({...X,orderNotesLabel:e.target.value}),placeholder:"Order notes (optional)",className:"mt-2"})]}),(0,s.jsx)("div",{className:"border-t pt-4 mt-4",children:(0,s.jsx)("h4",{className:"font-semibold mb-3",children:"Additional Fields"})}),(0,s.jsx)(ea,{label:"Alternative Phone Number",description:"Show field for a second phone number",checked:X.showAlternativePhone,onChange:e=>Y({...X,showAlternativePhone:e})}),(0,s.jsx)(ea,{label:"Delivery Instructions",description:"Allow customers to provide delivery instructions",checked:X.showDeliveryInstructions,onChange:e=>Y({...X,showDeliveryInstructions:e})}),X.showDeliveryInstructions&&(0,s.jsxs)("div",{className:"pl-6",children:[(0,s.jsx)(c.Label,{htmlFor:"deliveryInstructionsLabel",children:"Delivery Instructions Label"}),(0,s.jsx)(n.Input,{id:"deliveryInstructionsLabel",value:X.deliveryInstructionsLabel||"",onChange:e=>Y({...X,deliveryInstructionsLabel:e.target.value}),placeholder:"Delivery instructions",className:"mt-2"})]}),(0,s.jsx)(ea,{label:"Gift Message",description:"Allow customers to add a gift message",checked:X.showGiftMessage,onChange:e=>Y({...X,showGiftMessage:e})}),X.showGiftMessage&&(0,s.jsxs)("div",{className:"pl-6",children:[(0,s.jsx)(c.Label,{htmlFor:"giftMessageLabel",children:"Gift Message Label"}),(0,s.jsx)(n.Input,{id:"giftMessageLabel",value:X.giftMessageLabel||"",onChange:e=>Y({...X,giftMessageLabel:e.target.value}),placeholder:"Gift message",className:"mt-2"})]}),(0,s.jsx)(ea,{label:"Preferred Delivery Date",description:"Show date picker for preferred delivery date",checked:X.showDeliveryDate,onChange:e=>Y({...X,showDeliveryDate:e})})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.CardTitle,{children:"Custom Fields"}),(0,s.jsx)(r.CardDescription,{children:"Add up to 5 custom fields to collect additional information"})]}),(0,s.jsxs)(i.Button,{onClick:()=>{let e={id:`custom_${Date.now()}`,name:`custom_field_${Date.now()}`,label:"New Custom Field",type:"text",required:!1,position:(X?.customFields?.length||0)+1};Y({...X,customFields:[...X?.customFields||[],e]})},disabled:(X.customFields?.length||0)>=5,size:"sm",children:[(0,s.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Add Field"]})]})}),(0,s.jsx)(r.CardContent,{className:"space-y-4",children:X.customFields&&X.customFields.length>0?X.customFields.map((e,a)=>(0,s.jsx)(r.Card,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)(T.GripVertical,{className:"h-5 w-5 text-muted-foreground mt-2 cursor-move"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Field Label"}),(0,s.jsx)(n.Input,{value:e.label,onChange:s=>eC(e.id,{label:s.target.value}),placeholder:"e.g., Company Tax ID"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Field Type"}),(0,s.jsxs)(h.Select,{value:e.type,onValueChange:s=>eC(e.id,{type:s}),children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"text",children:"Text"}),(0,s.jsx)(h.SelectItem,{value:"textarea",children:"Text Area"}),(0,s.jsx)(h.SelectItem,{value:"select",children:"Dropdown"}),(0,s.jsx)(h.SelectItem,{value:"checkbox",children:"Checkbox"}),(0,s.jsx)(h.SelectItem,{value:"date",children:"Date"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Placeholder"}),(0,s.jsx)(n.Input,{value:e.placeholder||"",onChange:s=>eC(e.id,{placeholder:s.target.value}),placeholder:"Placeholder text..."})]}),"select"===e.type&&(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{children:"Options (comma-separated)"}),(0,s.jsx)(n.Input,{value:e.options?.join(", ")||"",onChange:s=>eC(e.id,{options:s.target.value.split(",").map(e=>e.trim())}),placeholder:"Option 1, Option 2, Option 3"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.Switch,{checked:e.required,onCheckedChange:s=>eC(e.id,{required:s})}),(0,s.jsx)(c.Label,{className:"text-sm",children:"Required field"})]}),(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void Y({...X,customFields:X?.customFields?.filter(e=>e.id!==s)||[]})},children:(0,s.jsx)(j.Trash2,{className:"h-4 w-4 text-red-500"})})]})]})]})},e.id)):(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)("p",{children:"No custom fields added yet"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:'Click "Add Field" to create your first custom field'})]})})]})]}),(0,s.jsx)(u.TabsContent,{value:"trust",className:"space-y-6",children:(0,s.jsx)(_,{settings:X,setSettings:Y})}),(0,s.jsx)(u.TabsContent,{value:"marketing",className:"space-y-6",children:(0,s.jsx)(Q,{settings:X,setSettings:Y})}),(0,s.jsx)(u.TabsContent,{value:"customization",className:"space-y-6",children:(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Shipping Settings"}),(0,s.jsx)(r.CardDescription,{children:"Configure shipping costs and thresholds"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"defaultShippingCost",children:"Default Shipping Cost (MAD)"}),(0,s.jsx)(n.Input,{id:"defaultShippingCost",type:"number",step:"0.01",value:X.defaultShippingCost,onChange:e=>Y({...X,defaultShippingCost:parseFloat(e.target.value)||0}),className:"mt-2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c.Label,{htmlFor:"freeShippingThreshold",children:"Free Shipping Threshold (MAD)"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Orders above this amount get free shipping (leave empty to disable)"}),(0,s.jsx)(n.Input,{id:"freeShippingThreshold",type:"number",step:"0.01",value:X.freeShippingThreshold||"",onChange:e=>Y({...X,freeShippingThreshold:e.target.value?parseFloat(e.target.value):null})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(c.Label,{children:"Guest Checkout"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow customers to checkout without creating an account"})]}),(0,s.jsx)(o.Switch,{checked:X.enableGuestCheckout,onCheckedChange:e=>Y({...X,enableGuestCheckout:e})})]})]})]})}),(0,s.jsx)(u.TabsContent,{value:"locations",className:"space-y-6",children:(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Regions"}),(0,s.jsx)(r.CardDescription,{children:"Manage Moroccan regions for checkout"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.Input,{value:et,onChange:e=>el(e.target.value),placeholder:"Region name",onKeyPress:e=>"Enter"===e.key&&eb()}),(0,s.jsx)(i.Button,{onClick:eb,disabled:ed,children:ed?(0,s.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(p.Plus,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:J.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e._count?.cities||0," cities"]})]}),(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>ew(e.id),children:(0,s.jsx)(j.Trash2,{className:"h-4 w-4 text-red-500"})})]},e.id))})]})]}),(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Cities"}),(0,s.jsx)(r.CardDescription,{children:"Manage cities within regions"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(h.Select,{value:en,onValueChange:ec,children:[(0,s.jsx)(h.SelectTrigger,{children:(0,s.jsx)(h.SelectValue,{placeholder:"Select region"})}),(0,s.jsx)(h.SelectContent,{children:J.map(e=>(0,s.jsx)(h.SelectItem,{value:e.id,children:e.name},e.id))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.Input,{value:er,onChange:e=>ei(e.target.value),placeholder:"City name",onKeyPress:e=>"Enter"===e.key&&eN()}),(0,s.jsx)(i.Button,{onClick:eN,disabled:eh,children:eh?(0,s.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(p.Plus,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Z.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.region?.name})]}),(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>eS(e.id),children:(0,s.jsx)(j.Trash2,{className:"h-4 w-4 text-red-500"})})]},e.id))})]})]})]})})]})}),(0,s.jsx)(P.Dialog,{open:V,onOpenChange:U,children:(0,s.jsxs)(P.DialogContent,{className:"max-w-[98vw] max-h-[98vh] w-[98vw] h-[98vh] overflow-auto p-6",children:[(0,s.jsx)(P.DialogHeader,{children:(0,s.jsxs)(P.DialogTitle,{className:"flex items-center gap-4",children:["Checkout Preview",(0,s.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,s.jsx)(i.Button,{variant:"desktop"===z?"default":"outline",size:"sm",onClick:()=>H("desktop"),children:(0,s.jsx)(w.Monitor,{className:"h-4 w-4"})}),(0,s.jsx)(i.Button,{variant:"tablet"===z?"default":"outline",size:"sm",onClick:()=>H("tablet"),children:(0,s.jsx)(N.Tablet,{className:"h-4 w-4"})}),(0,s.jsx)(i.Button,{variant:"mobile"===z?"default":"outline",size:"sm",onClick:()=>H("mobile"),children:(0,s.jsx)(S.Smartphone,{className:"h-4 w-4"})})]})]})}),(0,s.jsx)("div",{className:"mt-4",children:X&&(0,s.jsx)(W,{settings:X,viewMode:z})})]})})]}):null}function ea({label:e,description:a,checked:t,onChange:l}){return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(c.Label,{children:e}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a})]}),(0,s.jsx)(o.Switch,{checked:t,onCheckedChange:l})]})}e.s(["default",()=>es],59747)}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2e833107-9811-5764-a125-2f832409ed4d")}catch(e){}}();
//# debugId=2e833107-9811-5764-a125-2f832409ed4d
