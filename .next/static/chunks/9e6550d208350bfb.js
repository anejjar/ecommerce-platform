(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,515288,e=>{"use strict";var t=e.i(843476),a=e.i(975157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}function o({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>n,"CardFooter",()=>o,"CardHeader",()=>s,"CardTitle",()=>l])},793479,e=>{"use strict";var t=e.i(843476),a=e.i(975157);function r({className:e,type:r,...s}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>r])},110204,e=>{"use strict";var t=e.i(843476),a=e.i(271645);e.i(174080);var r=e.i(991918),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let l=(0,r.createSlot)(`Primitive.${s}`),n=a.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?l:s,{...n,ref:a})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{}),l=a.forwardRef((e,a)=>(0,t.jsx)(s.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=e.i(975157);function i({className:e,...a}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none mb-2 group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>i],110204)},180127,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["default",()=>t])},871689,e=>{"use strict";var t=e.i(180127);e.s(["ArrowLeft",()=>t.default])},624687,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(975157);let s=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));s.displayName="Textarea",e.s(["Textarea",()=>s])},251854,e=>{"use strict";let t=(0,e.i(475254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["default",()=>t])},356909,e=>{"use strict";var t=e.i(251854);e.s(["Save",()=>t.default])},677572,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(981140),s=e.i(30030),l=e.i(842727),n=e.i(296626),i=e.i(248425),o=e.i(586318),c=e.i(369340),d=e.i(610772),u="Tabs",[p,h]=(0,s.createContextScope)(u,[l.createRovingFocusGroupScope]),x=(0,l.createRovingFocusGroupScope)(),[m,g]=p(u),v=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:s,onValueChange:l,defaultValue:n,orientation:p="horizontal",dir:h,activationMode:x="automatic",...g}=e,v=(0,o.useDirection)(h),[f,j]=(0,c.useControllableState)({prop:s,onChange:l,defaultProp:n??"",caller:u});return(0,t.jsx)(m,{scope:r,baseId:(0,d.useId)(),value:f,onValueChange:j,orientation:p,dir:v,activationMode:x,children:(0,t.jsx)(i.Primitive.div,{dir:v,"data-orientation":p,...g,ref:a})})});v.displayName=u;var f="TabsList",j=a.forwardRef((e,a)=>{let{__scopeTabs:r,loop:s=!0,...n}=e,o=g(f,r),c=x(r);return(0,t.jsx)(l.Root,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:s,children:(0,t.jsx)(i.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:a})})});j.displayName=f;var b="TabsTrigger",C=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:n,disabled:o=!1,...c}=e,d=g(b,s),u=x(s),p=N(d.baseId,n),h=S(d.baseId,n),m=n===d.value;return(0,t.jsx)(l.Item,{asChild:!0,...u,focusable:!o,active:m,children:(0,t.jsx)(i.Primitive.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...c,ref:a,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(n)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(n)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==d.activationMode;m||o||!e||d.onValueChange(n)})})})});C.displayName=b;var y="TabsContent",T=a.forwardRef((e,r)=>{let{__scopeTabs:s,value:l,forceMount:o,children:c,...d}=e,u=g(y,s),p=N(u.baseId,l),h=S(u.baseId,l),x=l===u.value,m=a.useRef(x);return a.useEffect(()=>{let e=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:o||x,children:({present:a})=>(0,t.jsx)(i.Primitive.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!a,id:h,tabIndex:0,...d,ref:r,style:{...e.style,animationDuration:m.current?"0s":void 0},children:a&&c})})});function N(e,t){return`${e}-trigger-${t}`}function S(e,t){return`${e}-content-${t}`}T.displayName=y;var w=e.i(975157);function I({className:e,...a}){return(0,t.jsx)(v,{"data-slot":"tabs",className:(0,w.cn)("flex flex-col gap-2",e),...a})}function k({className:e,...a}){return(0,t.jsx)(j,{"data-slot":"tabs-list",className:(0,w.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...a})}function L({className:e,...a}){return(0,t.jsx)(C,{"data-slot":"tabs-trigger",className:(0,w.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function P({className:e,...a}){return(0,t.jsx)(T,{"data-slot":"tabs-content",className:(0,w.cn)("flex-1 outline-none",e),...a})}e.s(["Tabs",()=>I,"TabsContent",()=>P,"TabsList",()=>k,"TabsTrigger",()=>L],677572)},187942,e=>{"use strict";let t=(0,e.i(475254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["default",()=>t])},286536,e=>{"use strict";var t=e.i(187942);e.s(["Eye",()=>t.default])},699375,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(981140),s=e.i(820783),l=e.i(30030),n=e.i(369340),i=e.i(999682),o=e.i(635804),c=e.i(248425),d="Switch",[u,p]=(0,l.createContextScope)(d),[h,x]=u(d),m=a.forwardRef((e,l)=>{let{__scopeSwitch:i,name:o,checked:u,defaultChecked:p,required:x,disabled:m,value:g="on",onCheckedChange:v,form:b,...C}=e,[y,T]=a.useState(null),N=(0,s.useComposedRefs)(l,e=>T(e)),S=a.useRef(!1),w=!y||b||!!y.closest("form"),[I,k]=(0,n.useControllableState)({prop:u,defaultProp:p??!1,onChange:v,caller:d});return(0,t.jsxs)(h,{scope:i,checked:I,disabled:m,children:[(0,t.jsx)(c.Primitive.button,{type:"button",role:"switch","aria-checked":I,"aria-required":x,"data-state":j(I),"data-disabled":m?"":void 0,disabled:m,value:g,...C,ref:N,onClick:(0,r.composeEventHandlers)(e.onClick,e=>{k(e=>!e),w&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),w&&(0,t.jsx)(f,{control:y,bubbles:!S.current,name:o,value:g,checked:I,required:x,disabled:m,form:b,style:{transform:"translateX(-100%)"}})]})});m.displayName=d;var g="SwitchThumb",v=a.forwardRef((e,a)=>{let{__scopeSwitch:r,...s}=e,l=x(g,r);return(0,t.jsx)(c.Primitive.span,{"data-state":j(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:a})});v.displayName=g;var f=a.forwardRef(({__scopeSwitch:e,control:r,checked:l,bubbles:n=!0,...c},d)=>{let u=a.useRef(null),p=(0,s.useComposedRefs)(u,d),h=(0,i.usePrevious)(l),x=(0,o.useSize)(r);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==l&&t){let a=new Event("click",{bubbles:n});t.call(e,l),e.dispatchEvent(a)}},[h,l,n]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...c,tabIndex:-1,ref:p,style:{...c.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function j(e){return e?"checked":"unchecked"}f.displayName="SwitchBubbleInput";var b=e.i(975157);function C({className:e,...a}){return(0,t.jsx)(m,{"data-slot":"switch",className:(0,b.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(v,{"data-slot":"switch-thumb",className:(0,b.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}e.s(["Switch",()=>C],699375)},712508,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(618566),s=e.i(705766),l=e.i(519455),n=e.i(793479),i=e.i(110204),o=e.i(624687),c=e.i(515288),d=e.i(677572),u=e.i(967489),p=e.i(699375),h=e.i(871689),x=e.i(356909),m=e.i(286536);function g({mode:e,popup:g}){let v=(0,r.useRouter)(),[f,j]=(0,a.useState)(!1),[b,C]=(0,a.useState)(!1),[y,T]=(0,a.useState)({name:g?.name||"",title:g?.title||"",content:g?.content||"",type:g?.type||"EXIT_INTENT",triggerValue:g?.triggerValue||5,target:g?.target||"ALL_PAGES",customUrls:g?.customUrls||"",position:g?.position||"CENTER",width:g?.width||500,height:g?.height||null,backgroundColor:g?.backgroundColor||"#ffffff",textColor:g?.textColor||"#000000",buttonText:g?.buttonText||"Get Offer",buttonColor:g?.buttonColor||"#000000",buttonTextColor:g?.buttonTextColor||"#ffffff",showCloseButton:g?.showCloseButton===void 0||g.showCloseButton,overlayColor:g?.overlayColor||"rgba(0,0,0,0.5)",imageUrl:g?.imageUrl||"",frequency:g?.frequency||"once_per_session",delaySeconds:g?.delaySeconds||0,ctaType:g?.ctaType||"link",ctaUrl:g?.ctaUrl||"",discountCode:g?.discountCode||"",isActive:g?.isActive||!1,startDate:g?.startDate||"",endDate:g?.endDate||"",priority:g?.priority||0}),N=(e,t)=>{T(a=>({...a,[e]:t}))},S=async t=>{if(t.preventDefault(),!y.name||!y.content)return void s.default.error("Name and content are required");j(!0);try{let t="create"===e?"/api/admin/popups":`/api/admin/popups/${g.id}`,a=await fetch(t,{method:"create"===e?"POST":"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!a.ok)throw Error("Failed to save popup");await a.json(),s.default.success("create"===e?"Popup created successfully":"Popup updated successfully"),v.push("/admin/popups"),v.refresh()}catch(e){console.error("Error saving popup:",e),s.default.error("Failed to save popup")}finally{j(!1)}};return(0,t.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(l.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>v.back(),children:[(0,t.jsx)(h.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)(l.Button,{type:"button",variant:"outline",onClick:()=>C(!b),children:[(0,t.jsx)(m.Eye,{className:"w-4 h-4 mr-2"}),b?"Hide":"Preview"]}),(0,t.jsxs)(l.Button,{type:"submit",disabled:f,children:[(0,t.jsx)(x.Save,{className:"w-4 h-4 mr-2"}),f?"Saving...":"create"===e?"Create Popup":"Update Popup"]})]}),(0,t.jsxs)(d.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,t.jsxs)(d.TabsList,{className:"grid w-full grid-cols-5",children:[(0,t.jsx)(d.TabsTrigger,{value:"basic",children:"Basic"}),(0,t.jsx)(d.TabsTrigger,{value:"trigger",children:"Trigger"}),(0,t.jsx)(d.TabsTrigger,{value:"design",children:"Design"}),(0,t.jsx)(d.TabsTrigger,{value:"cta",children:"Call-to-Action"}),(0,t.jsx)(d.TabsTrigger,{value:"advanced",children:"Advanced"})]}),(0,t.jsx)(d.TabsContent,{value:"basic",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Basic Information"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(i.Label,{htmlFor:"name",children:["Popup Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(n.Input,{id:"name",value:y.name,onChange:e=>N("name",e.target.value),placeholder:"e.g., Welcome Discount Popup",required:!0}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Internal name for identification (not shown to customers)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"title",children:"Popup Title"}),(0,t.jsx)(n.Input,{id:"title",value:y.title,onChange:e=>N("title",e.target.value),placeholder:"e.g., Get 15% Off Your First Order!"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(i.Label,{htmlFor:"content",children:["Content ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(o.Textarea,{id:"content",value:y.content,onChange:e=>N("content",e.target.value),placeholder:"Enter your popup content (HTML supported)",rows:8,required:!0}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"HTML is supported. Keep it concise and compelling."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"imageUrl",children:"Image URL (Optional)"}),(0,t.jsx)(n.Input,{id:"imageUrl",type:"url",value:y.imageUrl,onChange:e=>N("imageUrl",e.target.value),placeholder:"https://example.com/image.jpg"})]})]})]})}),(0,t.jsx)(d.TabsContent,{value:"trigger",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Trigger Settings"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"type",children:"Trigger Type"}),(0,t.jsxs)(u.Select,{value:y.type,onValueChange:e=>N("type",e),children:[(0,t.jsx)(u.SelectTrigger,{id:"type",children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"EXIT_INTENT",children:"Exit Intent"}),(0,t.jsx)(u.SelectItem,{value:"TIMED",children:"Timed (After X seconds)"}),(0,t.jsx)(u.SelectItem,{value:"SCROLL_BASED",children:"Scroll Based (At X%)"}),(0,t.jsx)(u.SelectItem,{value:"PAGE_LOAD",children:"Page Load"}),(0,t.jsx)(u.SelectItem,{value:"CLICK_TRIGGER",children:"Click Trigger"})]})]})]}),("TIMED"===y.type||"SCROLL_BASED"===y.type)&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"triggerValue",children:"TIMED"===y.type?"Seconds":"Scroll Percentage"}),(0,t.jsx)(n.Input,{id:"triggerValue",type:"number",value:y.triggerValue,onChange:e=>N("triggerValue",parseInt(e.target.value)),min:1,max:"SCROLL_BASED"===y.type?100:300}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"TIMED"===y.type?"Show popup after this many seconds":"Show popup when user scrolls to this percentage"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"target",children:"Target Pages"}),(0,t.jsxs)(u.Select,{value:y.target,onValueChange:e=>N("target",e),children:[(0,t.jsx)(u.SelectTrigger,{id:"target",children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"ALL_PAGES",children:"All Pages"}),(0,t.jsx)(u.SelectItem,{value:"HOMEPAGE",children:"Homepage Only"}),(0,t.jsx)(u.SelectItem,{value:"PRODUCT_PAGES",children:"Product Pages"}),(0,t.jsx)(u.SelectItem,{value:"CART_PAGE",children:"Cart Page"}),(0,t.jsx)(u.SelectItem,{value:"CHECKOUT",children:"Checkout"}),(0,t.jsx)(u.SelectItem,{value:"BLOG",children:"Blog Pages"}),(0,t.jsx)(u.SelectItem,{value:"CUSTOM_URL",children:"Custom URLs"})]})]})]}),"CUSTOM_URL"===y.target&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"customUrls",children:"Custom URLs (one per line)"}),(0,t.jsx)(o.Textarea,{id:"customUrls",value:y.customUrls,onChange:e=>N("customUrls",e.target.value),placeholder:"/about /contact /products/special",rows:4})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"frequency",children:"Display Frequency"}),(0,t.jsxs)(u.Select,{value:y.frequency,onValueChange:e=>N("frequency",e),children:[(0,t.jsx)(u.SelectTrigger,{id:"frequency",children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"once_per_session",children:"Once Per Session"}),(0,t.jsx)(u.SelectItem,{value:"once_per_day",children:"Once Per Day"}),(0,t.jsx)(u.SelectItem,{value:"once_per_week",children:"Once Per Week"}),(0,t.jsx)(u.SelectItem,{value:"always",children:"Always Show"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"delaySeconds",children:"Initial Delay (seconds)"}),(0,t.jsx)(n.Input,{id:"delaySeconds",type:"number",value:y.delaySeconds,onChange:e=>N("delaySeconds",parseInt(e.target.value)),min:0,max:60}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Wait this many seconds after page load before allowing popup to trigger"})]})]})]})}),(0,t.jsx)(d.TabsContent,{value:"design",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Design & Layout"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"position",children:"Position"}),(0,t.jsxs)(u.Select,{value:y.position,onValueChange:e=>N("position",e),children:[(0,t.jsx)(u.SelectTrigger,{id:"position",children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"CENTER",children:"Center"}),(0,t.jsx)(u.SelectItem,{value:"TOP",children:"Top Bar"}),(0,t.jsx)(u.SelectItem,{value:"BOTTOM",children:"Bottom Bar"}),(0,t.jsx)(u.SelectItem,{value:"TOP_LEFT",children:"Top Left"}),(0,t.jsx)(u.SelectItem,{value:"TOP_RIGHT",children:"Top Right"}),(0,t.jsx)(u.SelectItem,{value:"BOTTOM_LEFT",children:"Bottom Left"}),(0,t.jsx)(u.SelectItem,{value:"BOTTOM_RIGHT",children:"Bottom Right"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"width",children:"Width (px)"}),(0,t.jsx)(n.Input,{id:"width",type:"number",value:y.width,onChange:e=>N("width",parseInt(e.target.value)),min:200,max:1200})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"height",children:"Height (px, optional)"}),(0,t.jsx)(n.Input,{id:"height",type:"number",value:y.height||"",onChange:e=>N("height",e.target.value?parseInt(e.target.value):null),placeholder:"Auto",min:200,max:800})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"backgroundColor",children:"Background Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Input,{id:"backgroundColor",type:"color",value:y.backgroundColor,onChange:e=>N("backgroundColor",e.target.value),className:"w-16 h-10"}),(0,t.jsx)(n.Input,{value:y.backgroundColor,onChange:e=>N("backgroundColor",e.target.value),placeholder:"#ffffff"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"textColor",children:"Text Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Input,{id:"textColor",type:"color",value:y.textColor,onChange:e=>N("textColor",e.target.value),className:"w-16 h-10"}),(0,t.jsx)(n.Input,{value:y.textColor,onChange:e=>N("textColor",e.target.value),placeholder:"#000000"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"overlayColor",children:"Overlay Color"}),(0,t.jsx)(n.Input,{id:"overlayColor",value:y.overlayColor,onChange:e=>N("overlayColor",e.target.value),placeholder:"rgba(0,0,0,0.5)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Background overlay color (supports rgba for transparency)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.Switch,{id:"showCloseButton",checked:y.showCloseButton,onCheckedChange:e=>N("showCloseButton",e)}),(0,t.jsx)(i.Label,{htmlFor:"showCloseButton",children:"Show Close Button"})]})]})]})}),(0,t.jsx)(d.TabsContent,{value:"cta",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Call-to-Action"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"buttonText",children:"Button Text"}),(0,t.jsx)(n.Input,{id:"buttonText",value:y.buttonText,onChange:e=>N("buttonText",e.target.value),placeholder:"Get Offer"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"buttonColor",children:"Button Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Input,{id:"buttonColor",type:"color",value:y.buttonColor,onChange:e=>N("buttonColor",e.target.value),className:"w-16 h-10"}),(0,t.jsx)(n.Input,{value:y.buttonColor,onChange:e=>N("buttonColor",e.target.value),placeholder:"#000000"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"buttonTextColor",children:"Button Text Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Input,{id:"buttonTextColor",type:"color",value:y.buttonTextColor,onChange:e=>N("buttonTextColor",e.target.value),className:"w-16 h-10"}),(0,t.jsx)(n.Input,{value:y.buttonTextColor,onChange:e=>N("buttonTextColor",e.target.value),placeholder:"#ffffff"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"ctaType",children:"CTA Type"}),(0,t.jsxs)(u.Select,{value:y.ctaType,onValueChange:e=>N("ctaType",e),children:[(0,t.jsx)(u.SelectTrigger,{id:"ctaType",children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"link",children:"Link/URL"}),(0,t.jsx)(u.SelectItem,{value:"email_capture",children:"Email Capture"}),(0,t.jsx)(u.SelectItem,{value:"discount_code",children:"Show Discount Code"})]})]})]}),"link"===y.ctaType&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"ctaUrl",children:"Button URL"}),(0,t.jsx)(n.Input,{id:"ctaUrl",type:"url",value:y.ctaUrl,onChange:e=>N("ctaUrl",e.target.value),placeholder:"https://example.com/offer"})]}),"discount_code"===y.ctaType&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"discountCode",children:"Discount Code"}),(0,t.jsx)(n.Input,{id:"discountCode",value:y.discountCode,onChange:e=>N("discountCode",e.target.value),placeholder:"WELCOME15"})]})]})]})}),(0,t.jsx)(d.TabsContent,{value:"advanced",children:(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Advanced Settings"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.Switch,{id:"isActive",checked:y.isActive,onCheckedChange:e=>N("isActive",e)}),(0,t.jsx)(i.Label,{htmlFor:"isActive",children:"Active"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground ml-2",children:y.isActive?"Popup is currently active":"Popup is currently inactive"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"startDate",children:"Start Date (Optional)"}),(0,t.jsx)(n.Input,{id:"startDate",type:"datetime-local",value:y.startDate,onChange:e=>N("startDate",e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"endDate",children:"End Date (Optional)"}),(0,t.jsx)(n.Input,{id:"endDate",type:"datetime-local",value:y.endDate,onChange:e=>N("endDate",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"priority",children:"Priority"}),(0,t.jsx)(n.Input,{id:"priority",type:"number",value:y.priority,onChange:e=>N("priority",parseInt(e.target.value)),min:0,max:100}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"If multiple popups match, higher priority shows first (0-100)"})]})]})]})})]}),b&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:y.overlayColor},onClick:()=>C(!1),children:(0,t.jsxs)(c.Card,{className:"relative shadow-2xl",style:{width:`${y.width}px`,height:y.height?`${y.height}px`:"auto",backgroundColor:y.backgroundColor,color:y.textColor},onClick:e=>e.stopPropagation(),children:[y.showCloseButton&&(0,t.jsx)("button",{className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",onClick:()=>C(!1),children:"Ã—"}),(0,t.jsxs)(c.CardContent,{className:"p-6 space-y-4",children:[y.imageUrl&&(0,t.jsx)("img",{src:y.imageUrl,alt:"Popup",className:"w-full h-auto rounded"}),y.title&&(0,t.jsx)("h2",{className:"text-2xl font-bold",children:y.title}),(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:y.content}}),(0,t.jsx)(l.Button,{type:"button",style:{backgroundColor:y.buttonColor,color:y.buttonTextColor},className:"w-full",children:y.buttonText})]})]})})]})}e.s(["PopupForm",()=>g])},389917,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(618566),s=e.i(712508),l=e.i(705766);function n({params:e}){let{id:n}=(0,a.use)(e),i=(0,r.useRouter)(),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{p()},[n]);let p=async()=>{try{let e=await fetch(`/api/admin/popups/${n}`);if(!e.ok)throw Error("Failed to fetch popup");let t=await e.json();c(t)}catch(e){console.error("Error fetching popup:",e),l.default.error("Failed to load popup"),i.push("/admin/popups")}finally{u(!1)}};return d?(0,t.jsx)("div",{className:"p-8",children:"Loading..."}):o?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Popup"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Update your popup configuration and design"})]}),(0,t.jsx)(s.PopupForm,{mode:"edit",popup:o})]}):null}e.s(["default",()=>n])}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="99eaeb83-76f3-5ef6-8273-4ab92aafc06a")}catch(e){}}();
//# debugId=99eaeb83-76f3-5ef6-8273-4ab92aafc06a
