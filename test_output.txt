
[1m[46m RUN [49m[22m [36mv4.0.12 [39m[90mC:/laragon/www/claude/ecommerce-platform[39m

stderr | src/components/admin/DashboardContent.test.tsx > DashboardContent > renders loading state initially
Failed to fetch dashboard data: TypeError: Cannot read properties of undefined (reading 'ok')
    at fetchDashboardData (C:/laragon/www/claude/ecommerce-platform/src/components/admin/DashboardContent.tsx:86:20)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
An update to DashboardContent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/components/admin/DashboardContent.test.tsx > DashboardContent > renders dashboard data after fetch
An error occurred in the <DashboardContent> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.


stderr | src/components/admin/DashboardContent.test.tsx > DashboardContent > handles fetch error
Failed to fetch dashboard data: Error: API Error
    at C:/laragon/www/claude/ecommerce-platform/src/components/admin/DashboardContent.test.tsx:89:53
    at file:///C:/laragon/www/claude/ecommerce-platform/node_modules/@vitest/runner/dist/index.js:145:11
    at file:///C:/laragon/www/claude/ecommerce-platform/node_modules/@vitest/runner/dist/index.js:912:26
    at file:///C:/laragon/www/claude/ecommerce-platform/node_modules/@vitest/runner/dist/index.js:1237:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///C:/laragon/www/claude/ecommerce-platform/node_modules/@vitest/runner/dist/index.js:1203:10)
    at file:///C:/laragon/www/claude/ecommerce-platform/node_modules/@vitest/runner/dist/index.js:1647:37
    at Traces.$ (file:///C:/laragon/www/claude/ecommerce-platform/node_modules/vitest/dist/chunks/traces.U4xDYhzZ.js:115:27)
    at trace (file:///C:/laragon/www/claude/ecommerce-platform/node_modules/vitest/dist/chunks/test.DqQZzsWf.js:234:21)
    at runTest (file:///C:/laragon/www/claude/ecommerce-platform/node_modules/@vitest/runner/dist/index.js:1647:12)

 [31mÎ“Â¥Â»[39m src/components/admin/DashboardContent.test.tsx [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 1061[2mms[22m[39m
     [32mÎ“Â£Ã´[39m renders loading state initially[32m 36[2mms[22m[39m
[31m     [31mâ”œÃ¹[31m renders dashboard data after fetch[39m[33m 1010[2mms[22m[39m
     [32mÎ“Â£Ã´[39m handles fetch error[32m 13[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 1 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  src/components/admin/DashboardContent.test.tsx > DashboardContent > renders dashboard data after fetch
TestingLibraryElementError: Unable to find an element with the text: Dashboard. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
<body>
  <div />
</body>

Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div />
  </body>
</html>
 Î“Â¥Â» Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 Î“Â¥Â» src/components/admin/DashboardContent.test.tsx:77:15
     75|         render(<DashboardContent />);
     76| 
     77|         await waitFor(() => {
       |               ^
     78|             expect(screen.getByText('Dashboard')).toBeInTheDocument();
     79|         });

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/1]Î“Ã„Â»

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Errors Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Uncaught Exception Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Error: [vitest] No "CartesianGrid" export is defined on the "recharts" mock. Did you forget to return it from "vi.mock"?
If you need to partially mock a module, you can use "importOriginal" helper inside:

vi.mock(import("recharts"), async (importOriginal) => {
  const actual = await importOriginal()
  return {
    ...actual,
    // your mocked methods
  }
})

 Î“Â¥Â» VitestMocker.createError node_modules/vitest/dist/chunks/startModuleRunner.BEYtrq5Y.js:310:17
 Î“Â¥Â» Object.get node_modules/vitest/dist/chunks/startModuleRunner.BEYtrq5Y.js:383:16
 Î“Â¥Â» DashboardContent src/components/admin/DashboardContent.tsx:191:18
    189|             <ResponsiveContainer width="100%" height={300}>
    190|               <LineChart data={salesChartData}>
    191|                 <CartesianGrid strokeDasharray="3 3" />
       |                  ^
    192|                 <XAxis dataKey="date" />
    193|                 <YAxis yAxisId="left" />
 Î“Â¥Â» Object.react_stack_bottom_frame node_modules/react-dom/cjs/react-dom-client.development.js:25904:20
 Î“Â¥Â» renderWithHooks node_modules/react-dom/cjs/react-dom-client.development.js:7662:22
 Î“Â¥Â» updateFunctionComponent node_modules/react-dom/cjs/react-dom-client.development.js:10166:19
 Î“Â¥Â» beginWork node_modules/react-dom/cjs/react-dom-client.development.js:11778:18
 Î“Â¥Â» runWithFiberInDEV node_modules/react-dom/cjs/react-dom-client.development.js:874:13
 Î“Â¥Â» performUnitOfWork node_modules/react-dom/cjs/react-dom-client.development.js:17641:22
 Î“Â¥Â» workLoopSync node_modules/react-dom/cjs/react-dom-client.development.js:17469:41

This error originated in "src/components/admin/DashboardContent.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "renders dashboard data after fetch". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (3)[39m
[2m     Errors [22m [1m[31m1 error[39m[22m
[2m   Start at [22m 19:37:13
[2m   Duration [22m 3.88s[2m (transform 187ms, setup 186ms, collect 1.12s, tests 1.06s, environment 1.24s, prepare 17ms)[22m

